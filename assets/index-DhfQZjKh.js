import{_ as We,I as Xn}from"./Button-BYLqQj_E.js";import{d as oe,I as z,A as Q,J as zt,K as Zn,L as Jn,u as Ke,o as $,c as re,b as A,w as W,a as c,M as Ve,p as ne,t as U,D as at,n as T,f as te,g as l,T as Qn,E as fe,N as je,i as O,m as X,e as M,O as es,P as ts,Q as ft,R as yn,q as De,S as Qe,s as $e,v as qt,F as he,x as Ze,U as Lt,V as Bt,r as ns,h as ss,l as Xt,W as as,X as yt,Y as is,Z as rs,$ as os,a0 as ls,a1 as us,a2 as cs,a3 as ds,a4 as fs,a5 as wn,a6 as hs,z as Dt,a7 as Zt,a8 as vs,a9 as ps,aa as ms,ab as mt,ac as bs,ad as gs,ae as ys}from"./app-BHhXl6ar.js";import{_ as Ee}from"./_plugin-vue_export-helper-DlAUqK2U.js";/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var xn=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],wt=xn.join(","),_n=typeof Element>"u",He=_n?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,xt=!_n&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t==null?void 0:t.ownerDocument},_t=function t(e,n){var s;n===void 0&&(n=!0);var a=e==null||(s=e.getAttribute)===null||s===void 0?void 0:s.call(e,"inert"),r=a===""||a==="true",i=r||n&&e&&t(e.parentNode);return i},ws=function(e){var n,s=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"contenteditable");return s===""||s==="true"},Sn=function(e,n,s){if(_t(e))return[];var a=Array.prototype.slice.apply(e.querySelectorAll(wt));return n&&He.call(e,wt)&&a.unshift(e),a=a.filter(s),a},kn=function t(e,n,s){for(var a=[],r=Array.from(e);r.length;){var i=r.shift();if(!_t(i,!1))if(i.tagName==="SLOT"){var o=i.assignedElements(),u=o.length?o:i.children,d=t(u,!0,s);s.flatten?a.push.apply(a,d):a.push({scopeParent:i,candidates:d})}else{var m=He.call(i,wt);m&&s.filter(i)&&(n||!e.includes(i))&&a.push(i);var b=i.shadowRoot||typeof s.getShadowRoot=="function"&&s.getShadowRoot(i),p=!_t(b,!1)&&(!s.shadowRootFilter||s.shadowRootFilter(i));if(b&&p){var v=t(b===!0?i.children:b.children,!0,s);s.flatten?a.push.apply(a,v):a.push({scopeParent:i,candidates:v})}else r.unshift.apply(r,i.children)}}return a},$n=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},Ue=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||ws(e))&&!$n(e)?0:e.tabIndex},xs=function(e,n){var s=Ue(e);return s<0&&n&&!$n(e)?0:s},_s=function(e,n){return e.tabIndex===n.tabIndex?e.documentOrder-n.documentOrder:e.tabIndex-n.tabIndex},Tn=function(e){return e.tagName==="INPUT"},Ss=function(e){return Tn(e)&&e.type==="hidden"},ks=function(e){var n=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(s){return s.tagName==="SUMMARY"});return n},$s=function(e,n){for(var s=0;s<e.length;s++)if(e[s].checked&&e[s].form===n)return e[s]},Ts=function(e){if(!e.name)return!0;var n=e.form||xt(e),s=function(o){return n.querySelectorAll('input[type="radio"][name="'+o+'"]')},a;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")a=s(window.CSS.escape(e.name));else try{a=s(e.name)}catch(i){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",i.message),!1}var r=$s(a,e.form);return!r||r===e},Cs=function(e){return Tn(e)&&e.type==="radio"},Ms=function(e){return Cs(e)&&!Ts(e)},Es=function(e){var n,s=e&&xt(e),a=(n=s)===null||n===void 0?void 0:n.host,r=!1;if(s&&s!==e){var i,o,u;for(r=!!((i=a)!==null&&i!==void 0&&(o=i.ownerDocument)!==null&&o!==void 0&&o.contains(a)||e!=null&&(u=e.ownerDocument)!==null&&u!==void 0&&u.contains(e));!r&&a;){var d,m,b;s=xt(a),a=(d=s)===null||d===void 0?void 0:d.host,r=!!((m=a)!==null&&m!==void 0&&(b=m.ownerDocument)!==null&&b!==void 0&&b.contains(a))}}return r},Jt=function(e){var n=e.getBoundingClientRect(),s=n.width,a=n.height;return s===0&&a===0},Is=function(e,n){var s=n.displayCheck,a=n.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var r=He.call(e,"details>summary:first-of-type"),i=r?e.parentElement:e;if(He.call(i,"details:not([open]) *"))return!0;if(!s||s==="full"||s==="legacy-full"){if(typeof a=="function"){for(var o=e;e;){var u=e.parentElement,d=xt(e);if(u&&!u.shadowRoot&&a(u)===!0)return Jt(e);e.assignedSlot?e=e.assignedSlot:!u&&d!==e.ownerDocument?e=d.host:e=u}e=o}if(Es(e))return!e.getClientRects().length;if(s!=="legacy-full")return!0}else if(s==="non-zero-area")return Jt(e);return!1},Ds=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var n=e.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var s=0;s<n.children.length;s++){var a=n.children.item(s);if(a.tagName==="LEGEND")return He.call(n,"fieldset[disabled] *")?!0:!a.contains(e)}return!0}n=n.parentElement}return!1},St=function(e,n){return!(n.disabled||_t(n)||Ss(n)||Is(n,e)||ks(n)||Ds(n))},Pt=function(e,n){return!(Ms(n)||Ue(n)<0||!St(e,n))},Fs=function(e){var n=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},As=function t(e){var n=[],s=[];return e.forEach(function(a,r){var i=!!a.scopeParent,o=i?a.scopeParent:a,u=xs(o,i),d=i?t(a.candidates):o;u===0?i?n.push.apply(n,d):n.push(o):s.push({documentOrder:r,tabIndex:u,item:a,isScope:i,content:d})}),s.sort(_s).reduce(function(a,r){return r.isScope?a.push.apply(a,r.content):a.push(r.content),a},[]).concat(n)},Ps=function(e,n){n=n||{};var s;return n.getShadowRoot?s=kn([e],n.includeContainer,{filter:Pt.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:Fs}):s=Sn(e,n.includeContainer,Pt.bind(null,n)),As(s)},Ns=function(e,n){n=n||{};var s;return n.getShadowRoot?s=kn([e],n.includeContainer,{filter:St.bind(null,n),flatten:!0,getShadowRoot:n.getShadowRoot}):s=Sn(e,n.includeContainer,St.bind(null,n)),s},Ye=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return He.call(e,wt)===!1?!1:Pt(n,e)},Rs=xn.concat("iframe").join(","),Ft=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return He.call(e,Rs)===!1?!1:St(n,e)};/*!
* focus-trap 7.6.4
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function Nt(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,s=Array(e);n<e;n++)s[n]=t[n];return s}function Os(t){if(Array.isArray(t))return Nt(t)}function zs(t,e,n){return(e=Vs(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ls(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Bs(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function en(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Qt(Object(n),!0).forEach(function(s){zs(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qt(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function Gs(t){return Os(t)||Ls(t)||Hs(t)||Bs()}function Us(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vs(t){var e=Us(t,"string");return typeof e=="symbol"?e:e+""}function Hs(t,e){if(t){if(typeof t=="string")return Nt(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Nt(t,e):void 0}}var tn={activateTrap:function(e,n){if(e.length>0){var s=e[e.length-1];s!==n&&s._setPausedState(!0)}var a=e.indexOf(n);a===-1||e.splice(a,1),e.push(n)},deactivateTrap:function(e,n){var s=e.indexOf(n);s!==-1&&e.splice(s,1),e.length>0&&!e[e.length-1]._isManuallyPaused()&&e[e.length-1]._setPausedState(!1)}},Ws=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},Ks=function(e){return(e==null?void 0:e.key)==="Escape"||(e==null?void 0:e.key)==="Esc"||(e==null?void 0:e.keyCode)===27},it=function(e){return(e==null?void 0:e.key)==="Tab"||(e==null?void 0:e.keyCode)===9},js=function(e){return it(e)&&!e.shiftKey},Ys=function(e){return it(e)&&e.shiftKey},nn=function(e){return setTimeout(e,0)},et=function(e){for(var n=arguments.length,s=new Array(n>1?n-1:0),a=1;a<n;a++)s[a-1]=arguments[a];return typeof e=="function"?e.apply(void 0,s):e},ht=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},qs=[],Xs=function(e,n){var s=(n==null?void 0:n.document)||document,a=(n==null?void 0:n.trapStack)||qs,r=en({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:js,isKeyBackward:Ys},n),i={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,manuallyPaused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},o,u=function(f,h,k){return f&&f[h]!==void 0?f[h]:r[k||h]},d=function(f,h){var k=typeof(h==null?void 0:h.composedPath)=="function"?h.composedPath():void 0;return i.containerGroups.findIndex(function(F){var R=F.container,B=F.tabbableNodes;return R.contains(f)||(k==null?void 0:k.includes(R))||B.find(function(G){return G===f})})},m=function(f){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},k=h.hasFallback,F=k===void 0?!1:k,R=h.params,B=R===void 0?[]:R,G=r[f];if(typeof G=="function"&&(G=G.apply(void 0,Gs(B))),G===!0&&(G=void 0),!G){if(G===void 0||G===!1)return G;throw new Error("`".concat(f,"` was specified but was not a node, or did not return a node"))}var K=G;if(typeof G=="string"){try{K=s.querySelector(G)}catch(j){throw new Error("`".concat(f,'` appears to be an invalid selector; error="').concat(j.message,'"'))}if(!K&&!F)throw new Error("`".concat(f,"` as selector refers to no known node"))}return K},b=function(){var f=m("initialFocus",{hasFallback:!0});if(f===!1)return!1;if(f===void 0||f&&!Ft(f,r.tabbableOptions))if(d(s.activeElement)>=0)f=s.activeElement;else{var h=i.tabbableGroups[0],k=h&&h.firstTabbableNode;f=k||m("fallbackFocus")}else f===null&&(f=m("fallbackFocus"));if(!f)throw new Error("Your focus-trap needs to have at least one focusable element");return f},p=function(){if(i.containerGroups=i.containers.map(function(f){var h=Ps(f,r.tabbableOptions),k=Ns(f,r.tabbableOptions),F=h.length>0?h[0]:void 0,R=h.length>0?h[h.length-1]:void 0,B=k.find(function(j){return Ye(j)}),G=k.slice().reverse().find(function(j){return Ye(j)}),K=!!h.find(function(j){return Ue(j)>0});return{container:f,tabbableNodes:h,focusableNodes:k,posTabIndexesFound:K,firstTabbableNode:F,lastTabbableNode:R,firstDomTabbableNode:B,lastDomTabbableNode:G,nextTabbableNode:function(ve){var Oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,le=h.indexOf(ve);return le<0?Oe?k.slice(k.indexOf(ve)+1).find(function(ze){return Ye(ze)}):k.slice(0,k.indexOf(ve)).reverse().find(function(ze){return Ye(ze)}):h[le+(Oe?1:-1)]}}}),i.tabbableGroups=i.containerGroups.filter(function(f){return f.tabbableNodes.length>0}),i.tabbableGroups.length<=0&&!m("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(i.containerGroups.find(function(f){return f.posTabIndexesFound})&&i.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},v=function(f){var h=f.activeElement;if(h)return h.shadowRoot&&h.shadowRoot.activeElement!==null?v(h.shadowRoot):h},y=function(f){if(f!==!1&&f!==v(document)){if(!f||!f.focus){y(b());return}f.focus({preventScroll:!!r.preventScroll}),i.mostRecentlyFocusedNode=f,Ws(f)&&f.select()}},S=function(f){var h=m("setReturnFocus",{params:[f]});return h||(h===!1?!1:f)},I=function(f){var h=f.target,k=f.event,F=f.isBackward,R=F===void 0?!1:F;h=h||ht(k),p();var B=null;if(i.tabbableGroups.length>0){var G=d(h,k),K=G>=0?i.containerGroups[G]:void 0;if(G<0)R?B=i.tabbableGroups[i.tabbableGroups.length-1].lastTabbableNode:B=i.tabbableGroups[0].firstTabbableNode;else if(R){var j=i.tabbableGroups.findIndex(function(ue){var J=ue.firstTabbableNode;return h===J});if(j<0&&(K.container===h||Ft(h,r.tabbableOptions)&&!Ye(h,r.tabbableOptions)&&!K.nextTabbableNode(h,!1))&&(j=G),j>=0){var ve=j===0?i.tabbableGroups.length-1:j-1,Oe=i.tabbableGroups[ve];B=Ue(h)>=0?Oe.lastTabbableNode:Oe.lastDomTabbableNode}else it(k)||(B=K.nextTabbableNode(h,!1))}else{var le=i.tabbableGroups.findIndex(function(ue){var J=ue.lastTabbableNode;return h===J});if(le<0&&(K.container===h||Ft(h,r.tabbableOptions)&&!Ye(h,r.tabbableOptions)&&!K.nextTabbableNode(h))&&(le=G),le>=0){var ze=le===i.tabbableGroups.length-1?0:le+1,Je=i.tabbableGroups[ze];B=Ue(h)>=0?Je.firstTabbableNode:Je.firstDomTabbableNode}else it(k)||(B=K.nextTabbableNode(h))}}else B=m("fallbackFocus");return B},g=function(f){var h=ht(f);if(!(d(h,f)>=0)){if(et(r.clickOutsideDeactivates,f)){o.deactivate({returnFocus:r.returnFocusOnDeactivate});return}et(r.allowOutsideClick,f)||f.preventDefault()}},D=function(f){var h=ht(f),k=d(h,f)>=0;if(k||h instanceof Document)k&&(i.mostRecentlyFocusedNode=h);else{f.stopImmediatePropagation();var F,R=!0;if(i.mostRecentlyFocusedNode)if(Ue(i.mostRecentlyFocusedNode)>0){var B=d(i.mostRecentlyFocusedNode),G=i.containerGroups[B].tabbableNodes;if(G.length>0){var K=G.findIndex(function(j){return j===i.mostRecentlyFocusedNode});K>=0&&(r.isKeyForward(i.recentNavEvent)?K+1<G.length&&(F=G[K+1],R=!1):K-1>=0&&(F=G[K-1],R=!1))}}else i.containerGroups.some(function(j){return j.tabbableNodes.some(function(ve){return Ue(ve)>0})})||(R=!1);else R=!1;R&&(F=I({target:i.mostRecentlyFocusedNode,isBackward:r.isKeyBackward(i.recentNavEvent)})),y(F||i.mostRecentlyFocusedNode||b())}i.recentNavEvent=void 0},C=function(f){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;i.recentNavEvent=f;var k=I({event:f,isBackward:h});k&&(it(f)&&f.preventDefault(),y(k))},x=function(f){(r.isKeyForward(f)||r.isKeyBackward(f))&&C(f,r.isKeyBackward(f))},V=function(f){Ks(f)&&et(r.escapeDeactivates,f)!==!1&&(f.preventDefault(),o.deactivate())},L=function(f){var h=ht(f);d(h,f)>=0||et(r.clickOutsideDeactivates,f)||et(r.allowOutsideClick,f)||(f.preventDefault(),f.stopImmediatePropagation())},Se=function(){if(i.active)return tn.activateTrap(a,o),i.delayInitialFocusTimer=r.delayInitialFocus?nn(function(){y(b())}):y(b()),s.addEventListener("focusin",D,!0),s.addEventListener("mousedown",g,{capture:!0,passive:!1}),s.addEventListener("touchstart",g,{capture:!0,passive:!1}),s.addEventListener("click",L,{capture:!0,passive:!1}),s.addEventListener("keydown",x,{capture:!0,passive:!1}),s.addEventListener("keydown",V),o},Ie=function(){if(i.active)return s.removeEventListener("focusin",D,!0),s.removeEventListener("mousedown",g,!0),s.removeEventListener("touchstart",g,!0),s.removeEventListener("click",L,!0),s.removeEventListener("keydown",x,!0),s.removeEventListener("keydown",V),o},Re=function(f){var h=f.some(function(k){var F=Array.from(k.removedNodes);return F.some(function(R){return R===i.mostRecentlyFocusedNode})});h&&y(b())},H=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(Re):void 0,P=function(){H&&(H.disconnect(),i.active&&!i.paused&&i.containers.map(function(f){H.observe(f,{subtree:!0,childList:!0})}))};return o={get active(){return i.active},get paused(){return i.paused},activate:function(f){if(i.active)return this;var h=u(f,"onActivate"),k=u(f,"onPostActivate"),F=u(f,"checkCanFocusTrap");F||p(),i.active=!0,i.paused=!1,i.nodeFocusedBeforeActivation=s.activeElement,h==null||h();var R=function(){F&&p(),Se(),P(),k==null||k()};return F?(F(i.containers.concat()).then(R,R),this):(R(),this)},deactivate:function(f){if(!i.active)return this;var h=en({onDeactivate:r.onDeactivate,onPostDeactivate:r.onPostDeactivate,checkCanReturnFocus:r.checkCanReturnFocus},f);clearTimeout(i.delayInitialFocusTimer),i.delayInitialFocusTimer=void 0,Ie(),i.active=!1,i.paused=!1,P(),tn.deactivateTrap(a,o);var k=u(h,"onDeactivate"),F=u(h,"onPostDeactivate"),R=u(h,"checkCanReturnFocus"),B=u(h,"returnFocus","returnFocusOnDeactivate");k==null||k();var G=function(){nn(function(){B&&y(S(i.nodeFocusedBeforeActivation)),F==null||F()})};return B&&R?(R(S(i.nodeFocusedBeforeActivation)).then(G,G),this):(G(),this)},pause:function(f){return i.active?(i.manuallyPaused=!0,this._setPausedState(!0,f)):this},unpause:function(f){return i.active?(i.manuallyPaused=!1,a[a.length-1]!==this?this:this._setPausedState(!1,f)):this},updateContainerElements:function(f){var h=[].concat(f).filter(Boolean);return i.containers=h.map(function(k){return typeof k=="string"?s.querySelector(k):k}),i.active&&p(),P(),this}},Object.defineProperties(o,{_isManuallyPaused:{value:function(){return i.manuallyPaused}},_setPausedState:{value:function(f,h){if(i.paused===f)return this;if(i.paused=f,f){var k=u(h,"onPause"),F=u(h,"onPostPause");k==null||k(),Ie(),P(),F==null||F()}else{var R=u(h,"onUnpause"),B=u(h,"onPostUnpause");R==null||R(),p(),Se(),P(),B==null||B()}return this}}}),o.updateContainerElements(e),o};const Zs=oe({name:"UseFocusTrap",props:["as","options"],setup(t,{slots:e}){let n;const s=z(),a=()=>n&&n.activate(),r=()=>n&&n.deactivate();return Q(()=>zt(s),i=>{i&&(n=Xs(i,t.options||{}),a())},{flush:"post"}),Zn(()=>r()),()=>{if(e.default)return Jn(t.as||"div",{ref:s},e.default())}}}),Js=["textContent"],Qs={inheritAttrs:!1},ea=oe({...Qs,__name:"Modal",props:{heading:{type:String,required:!0},modelValue:{type:Boolean,required:!0}},emits:["update:modelValue"],setup(t,{emit:e}){const n=e,{t:s}=Ke(),a=z(),r=()=>n("update:modelValue",!1);return Q(a,i=>{i==null||i.showModal()}),(i,o)=>{const u=We;return t.modelValue?($(),re(Qn,{key:0,to:"body"},[A(l(Zs),{options:{immediate:!0,initialFocus:!1}},{default:W(()=>[c("dialog",{ref_key:"dialog",ref:a,"aria-modal":"",onClick:r,onClose:r},[c("article",Ve({class:i.$style.content},i.$attrs,{onClick:o[0]||(o[0]=ne(()=>{},["stop"]))}),[c("h3",{textContent:U(t.heading)},null,8,Js),at(i.$slots,"default"),c("footer",{class:T(i.$style.footer)},[at(i.$slots,"footer-pre"),A(u,{onClick:r,class:"outline"},{default:W(()=>[te(U(l(s)("main.close")),1)]),_:1}),at(i.$slots,"footer")],2)],16)],544)]),_:3})])):fe("",!0)}}}),ta="f_ad",na="f_ae",sa="f_af",aa={content:ta,spacer:na,footer:sa},ia={$style:aa},Cn=Ee(ea,[["__cssModules",ia]]),Mt=je(()=>z());function ra(t,e){const n=new MouseEvent("click",{view:window,bubbles:!1,cancelable:!0}),s=document.createElement("a");s.setAttribute("download",e),s.setAttribute("href",t),s.setAttribute("target","_blank"),s.dispatchEvent(n)}async function oa(t,e){const n=new XMLSerializer().serializeToString(t),s=new Blob([n],{type:"image/svg+xml;charset=utf-8"}),a=new Image,r=URL.createObjectURL(s);await new Promise((i,o)=>{a.onload=function(){e.drawImage(a,0,0),URL.revokeObjectURL(r),i()},a.onabort=a.onerror=()=>o(),a.src=r})}const rt={JPG:1,PNG:2},la={[rt.JPG]:{encoding:"image/jpeg",extension:"jpg"},[rt.PNG]:{encoding:"image/png",extension:"png"}};function ua(t){var s;const e=t.cloneNode(!0),n=window.getComputedStyle(t);return(s=e.querySelector("circle"))==null||s.remove(),e.style.setProperty("--background-color-transparent",n.getPropertyValue("--background-color-transparent")),e.style.color=e.style.fill=n.getPropertyValue("--color"),e.style.stroke="#fff",e.style.fontFamily="Arial",e.style.fontSize="20px",e}const Mn=je(()=>{const t=document.createElement("canvas"),e=t==null?void 0:t.getContext("2d"),n=Mt(),s=O(()=>n.value&&e);return{triggerDownload:async({filename:r,filetype:i,quality:o,width:u,height:d})=>{if(!s.value||!t||!n.value||!e)return console.error("Cannot download due to required api missing:",s.value,t,n.value,e);t.width=u,t.height=d,await oa(ua(n.value),e);const{encoding:m,extension:b}=la[i],p=t.toDataURL(m,o);ra(p,`${r}.${b}`)},isSupported:s}}),Me={px:1,"%":2,in:3,mm:4};function ca(t,e,n){let s=t;switch(e){case Me["%"]:s=t*100/n;break;case Me.in:s=t/window.devicePixelRatio;break;case Me.mm:s=t*25.4/window.devicePixelRatio;break}return+s.toFixed(6)}function da(t,e,n){let s=t;switch(e){case Me["%"]:s=t/100*n;break;case Me.in:s=t*window.devicePixelRatio;break;case Me.mm:s=t*window.devicePixelRatio/25.4;break}return+s.toFixed(5)}function sn(t,e,n){const s=z(0),a=z(t.value-1),r=z(0);return Q([t,e],([i,o],[,u])=>{(a.value!==i||o!==u)&&(a.value=i,s.value=ca(i,o,n.value))},{immediate:!0}),Q(r,i=>{s.value!==i&&(a.value=da(i,e.value,n.value))}),Q(s,i=>r.value=i,{immediate:!0}),r}const fa={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"};function ha(t,e){return $(),M("svg",fa,e[0]||(e[0]=[c("path",{fill:"currentColor",d:"M24 14h-2V8a6 6 0 0 0-12 0v6H8a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V16a2 2 0 0 0-2-2M12 8a4 4 0 0 1 8 0v6h-8Zm12 20H8V16h16Z"},null,-1)]))}const va=X({name:"carbon-locked",render:ha}),pa={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"};function ma(t,e){return $(),M("svg",pa,e[0]||(e[0]=[c("path",{fill:"currentColor",d:"M24 14H12V8a4 4 0 0 1 8 0h2a6 6 0 0 0-12 0v6H8a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V16a2 2 0 0 0-2-2m0 14H8V16h16Z"},null,-1)]))}const ba=X({name:"carbon-unlocked",render:ma}),ga=es({...ts,xs:480}),ya={class:"flex-grow"},wa=["aria-invalid"],xa=["value","textContent"],_a=["aria-invalid"],Sa=["aria-invalid"],ka=["data-tooltip"],$a=["value","textContent"],Ta=["aria-invalid"],Ca=oe({__name:"BoardControlsSvgDownloadModalContent",props:{boardWidth:{type:Number,required:!0},boardHeight:{type:Number,required:!0}},emits:["downloadFinish"],setup(t,{emit:e}){const n=t,s=e,{t:a}=Ke(),{triggerDownload:r}=Mn(),i=ft("FA_FILENAME","fast-angle-image"),{boardHeight:o,boardWidth:u}=yn(n),d=z(o.value),m=z(u.value),b=ft("FA_SIZE_UNIT",Me.px),p=z(!0),v=z(u.value/o.value);ga.isGreaterOrEqual("xl")&&Q([u,o],([C,x])=>{m.value=C,d.value=x,v.value=C/x});const y=sn(d,b,o),S=sn(m,b,u);Q([S,y],([C,x])=>{p.value||(v.value=C/x)},{flush:"sync",immediate:!0}),Q(y,()=>{y.value<0&&(y.value=1),p.value&&y.value!==+(S.value/v.value).toFixed(3)&&(S.value=+(y.value*v.value).toFixed(3))},{flush:"sync"}),Q(S,()=>{S.value<0&&(S.value=1),p.value&&S.value!==+(y.value*v.value).toFixed(3)&&(y.value=+(S.value/v.value).toFixed(3))},{flush:"sync"});const I=ft("FA_FILETYPE",rt.PNG),g=ft("FA_QUALITY",100);Q(g,()=>{g.value>100&&(g.value=100),g.value<0&&(g.value=0)});async function D(){await r({filename:i.value,filetype:I.value,quality:g.value/100,width:m.value,height:d.value}).catch(()=>{}),s("downloadFinish")}return(C,x)=>{const V=We;return $(),M("form",{onSubmit:ne(D,["prevent"])},[c("div",{class:T(C.$style.name)},[c("label",ya,[te(U(l(a)("board.nav.download_image.name_label"))+" ",1),De(c("input",{"onUpdate:modelValue":x[0]||(x[0]=L=>$e(i)?i.value=L:null),type:"text",name:"name",required:"","aria-invalid":!l(i)},null,8,wa),[[Qe,l(i)]])]),c("label",{class:T(C.$style["label--big"])},[te(U(l(a)("board.nav.download_image.format_label"))+" ",1),De(c("select",{"onUpdate:modelValue":x[1]||(x[1]=L=>$e(I)?I.value=L:null),required:""},[($(!0),M(he,null,Ze(Object.keys(l(rt)),L=>($(),M("option",{key:L,value:l(rt)[L],textContent:U(L)},null,8,xa))),128))],512),[[qt,l(I)]])],2)],2),c("fieldset",{class:T(C.$style.sizing)},[c("legend",null,[c("small",null,U(l(a)("board.nav.download_image.sizing_label")),1)]),c("label",{class:T(C.$style.label)},[te(U(l(a)("board.nav.download_image.width_label"))+" ",1),De(c("input",{"onUpdate:modelValue":x[2]||(x[2]=L=>$e(S)?S.value=L:null),min:"1",type:"number",step:"0.000001",name:"width",required:"","aria-invalid":!l(S)||l(S)<1},null,8,_a),[[Qe,l(S),void 0,{number:!0}]])],2),c("label",{class:T(C.$style.label)},[te(U(l(a)("board.nav.download_image.height_label"))+" ",1),De(c("input",{"onUpdate:modelValue":x[3]||(x[3]=L=>$e(y)?y.value=L:null),min:"1",type:"number",step:"0.000001",name:"height",required:"","aria-invalid":!l(y)||l(y)<1},null,8,Sa),[[Qe,l(y),void 0,{number:!0}]])],2),c("label",null,[x[8]||(x[8]=te("   ")),c("div",{class:T(C.$style["aspect-ratio"]),"data-tooltip":l(a)("board.nav.download_image.keep_aspect_ratio"),"data-placement":"left"},[A(V,{"aria-label":l(a)("board.nav.download_image.keep_aspect_ratio"),class:T([C.$style["aspect-ratio-btn"],{[C.$style["aspect-ratio-btn--inactive"]]:!l(p)}]),onClick:x[4]||(x[4]=L=>p.value=!l(p))},{default:W(()=>[l(p)?($(),re(l(va),{key:0})):($(),re(l(ba),{key:1}))]),_:1},8,["aria-label","class"])],10,ka)]),c("label",{class:T([C.$style.label,C.$style["label--small"]])},[te(U(l(a)("board.nav.download_image.unit_label"))+" ",1),De(c("select",{"onUpdate:modelValue":x[5]||(x[5]=L=>$e(b)?b.value=L:null),required:""},[($(!0),M(he,null,Ze(Object.keys(l(Me)),L=>($(),M("option",{key:L,value:l(Me)[L],textContent:U(L)},null,8,$a))),128))],512),[[qt,l(b)]])],2)],2),c("label",null,[c("span",{class:T(C.$style.quality)},[te(U(l(a)("board.nav.download_image.quality_label"))+" ",1),De(c("input",{"onUpdate:modelValue":x[6]||(x[6]=L=>$e(g)?g.value=L:null),type:"number",min:"1",max:"100",class:T(C.$style.quality__input),name:"quality","aria-invalid":!l(g)||l(g)>100||l(g)<1},null,10,Ta),[[Qe,l(g),void 0,{number:!0}]]),x[9]||(x[9]=te(" % "))],2),De(c("input",{"onUpdate:modelValue":x[7]||(x[7]=L=>$e(g)?g.value=L:null),type:"range",min:"1",max:"100",name:"quality"},null,512),[[Qe,l(g),void 0,{number:!0}]])])],32)}}}),Ma="f_ag",Ea="f_aj",Ia="f_ak",Da="f_ao",Fa="f_ap",Aa={label:Ma,"label--big":"f_ah","label--small":"f_ai",sizing:Ea,name:Ia,"aspect-ratio":"f_al","aspect-ratio-btn":"f_am","aspect-ratio-btn--inactive":"f_an",quality:Da,quality__input:Fa},Pa={$style:Aa},Na=Ee(Ca,[["__cssModules",Pa]]),Ra={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"};function Oa(t,e){return $(),M("svg",Ra,e[0]||(e[0]=[c("path",{fill:"currentColor",d:"M26 24v4H6v-4H4v4a2 2 0 0 0 2 2h20a2 2 0 0 0 2-2v-4zm0-10l-1.41-1.41L17 20.17V2h-2v18.17l-7.59-7.58L6 14l10 10z"},null,-1)]))}const za=X({name:"carbon-download",render:Oa}),Et=je(()=>z()),La={key:0},an="board_svg_download_form",Ba=oe({__name:"BoardControlsSvgDownload",props:{disabled:{type:Boolean,default:!1}},setup(t){const{t:e}=Ke(),{isSupported:n}=Mn(),s=Et(),{height:a,width:r}=Lt(s),i=z(!1),o=z(!1);return Bt({onEventFired(u){(u.ctrlKey||u.metaKey)&&u.key==="s"&&(u.preventDefault(),i.value=!0)},passive:!1}),(u,d)=>{const m=Na,b=We,p=Cn;return l(n)?($(),M("li",La,[A(b,{tooltip:`${l(e)("board.nav.download_image.action")} [ctrl + s][⌘ + s]`,"tooltip-placement":"left",disabled:t.disabled?void 0:!0,onClick:d[3]||(d[3]=v=>i.value=!0),onTouchstart:d[4]||(d[4]=ne(v=>i.value=!0,["stop","prevent"]))},{default:W(()=>[A(l(za)),A(p,{modelValue:l(i),"onUpdate:modelValue":d[2]||(d[2]=v=>$e(i)?i.value=v:null),heading:l(e)("board.nav.download_image.heading")},{footer:W(()=>[A(b,{type:"submit",role:"button",form:an,disabled:l(o),"aria-busy":l(o),class:T(u.$style["button-submit"]),autofocus:""},{default:W(()=>[te(U(l(e)("board.nav.download_image.save")),1)]),_:1},8,["disabled","aria-busy","class"])]),default:W(()=>[A(m,{id:an,"board-height":l(a),"board-width":l(r),onSubmit:d[0]||(d[0]=v=>o.value=!0),onDownloadFinish:d[1]||(d[1]=v=>(o.value=!1,i.value=!1))},null,8,["board-height","board-width"])]),_:1},8,["modelValue","heading"])]),_:1},8,["tooltip","disabled"])])):fe("",!0)}}}),Ga={"button-submit":"f_4"},Ua={$style:Ga},Va=Ee(Ba,[["__cssModules",Ua]]),Ha={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"};function Wa(t,e){return $(),M("svg",Ha,e[0]||(e[0]=[c("path",{fill:"currentColor",d:"M16 2a14 14 0 1 0 14 14A14 14 0 0 0 16 2m0 26a12 12 0 1 1 12-12a12 12 0 0 1-12 12"},null,-1),c("circle",{cx:"16",cy:"23.5",r:"1.5",fill:"currentColor"},null,-1),c("path",{fill:"currentColor",d:"M17 8h-1.5a4.49 4.49 0 0 0-4.5 4.5v.5h2v-.5a2.5 2.5 0 0 1 2.5-2.5H17a2.5 2.5 0 0 1 0 5h-2v4.5h2V17a4.5 4.5 0 0 0 0-9"},null,-1)]))}const Ka=X({name:"carbon-help",render:Wa}),ja={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"};function Ya(t,e){return $(),M("svg",ja,e[0]||(e[0]=[c("path",{fill:"currentColor",d:"M22.5 4c-2 0-3.9.8-5.3 2.2L16 7.4l-1.1-1.1c-2.9-3-7.7-3-10.6-.1l-.1.1c-3 3-3 7.8 0 10.8L16 29l11.8-11.9c3-3 3-7.8 0-10.8C26.4 4.8 24.5 4 22.5 4"},null,-1)]))}const rn=X({name:"carbon-favorite-filled",render:Ya}),qa=["textContent"],Xa={rol:"grid"},Za=["textContent"],Ja=["textContent"],Qa=["textContent"],ei=["textContent"],ti=["textContent"],ni=["textContent"],si=["href","data-tooltip","title"],ai={rel:"noreferrer",href:"https://github.com/FRSOURCE/fast-angle",target:"_blank",title:"GitHub"},ii={rel:"noreferrer",href:"https://www.frsource.org/blog/sponsoring",target:"_blank",title:"Sponsoring"},ri=["textContent"],oi=["textContent"],li=oe({__name:"BoardControlsSvgHelp",setup(t){const{t:e,tm:n,rt:s}=Ke(),a=z(!1),r=O(()=>n("board.nav.help.content"));return(i,o)=>{const u=ns("RouterLink"),d=Cn,m=We;return $(),M("li",null,[A(m,{tooltip:l(e)("board.nav.help.action"),"tooltip-placement":"left",onClick:o[1]||(o[1]=b=>a.value=!0),onTouchstartCapture:o[2]||(o[2]=ne(b=>a.value=!0,["prevent","stop"]))},{default:W(()=>[A(l(Ka)),A(d,{modelValue:l(a),"onUpdate:modelValue":o[0]||(o[0]=b=>$e(a)?a.value=b:null),heading:l(e)("board.nav.help.heading"),class:T(i.$style.modal)},{"footer-pre":W(()=>[c("a",{autofocus:"",rel:"noreferrer",href:"https://github.com/FRSOURCE/fast-angle",target:"_blank",title:"GitHub",class:T(i.$style.donate)},[A(l(rn)),c("small",null,U(l(e)("main.donate_us")),1)],2)]),default:W(()=>[c("ul",null,[($(!0),M(he,null,Ze(l(r),b=>($(),M("li",{key:l(s)(b)},U(l(s)(b)),1))),128))]),o[21]||(o[21]=c("hr",null,null,-1)),c("div",{class:T(i.$style["hide-mobile"])},[c("h4",{textContent:U(l(e)("board.nav.help.key_bindings.heading"))},null,8,qa),c("table",Xa,[c("thead",null,[c("tr",null,[o[3]||(o[3]=c("th",{scope:"col",textContent:"Win"},null,-1)),o[4]||(o[4]=c("th",{scope:"col",textContent:"Mac"},null,-1)),c("th",{scope:"col",textContent:U(l(e)("board.nav.help.key_bindings.description"))},null,8,Za)])]),c("tbody",null,[c("tr",null,[c("td",{scope:"col",class:T(i.$style["binding-item-wrapper"])},[c("div",{class:T(i.$style["binding-item"])},[o[5]||(o[5]=c("kbd",null,"ctrl",-1)),c("small",{class:T(i.$style["binding-item-plus"])},"+",2),o[6]||(o[6]=c("kbd",null,"z",-1))],2)],2),c("td",{scope:"col",class:T(i.$style["binding-item-wrapper"])},[c("div",{class:T(i.$style["binding-item"])},[o[7]||(o[7]=c("kbd",null,"⌘",-1)),c("small",{class:T(i.$style["binding-item-plus"])},"+",2),o[8]||(o[8]=c("kbd",null,"z",-1))],2)],2),c("td",{scope:"col",textContent:U(l(e)("board.nav.undo"))},null,8,Ja)]),c("tr",null,[c("td",{scope:"col",class:T(i.$style["binding-item-wrapper"])},[c("div",{class:T(i.$style["binding-item"])},[o[9]||(o[9]=c("kbd",null,"ctrl",-1)),c("small",{class:T(i.$style["binding-item-plus"])},"+",2),o[10]||(o[10]=c("kbd",null,"shift",-1)),c("small",{class:T(i.$style["binding-item-plus"])},"+",2),o[11]||(o[11]=c("kbd",null,"z",-1))],2)],2),c("td",{scope:"col",class:T(i.$style["binding-item-wrapper"])},[c("div",{class:T(i.$style["binding-item"])},[o[12]||(o[12]=c("kbd",null,"⌘",-1)),c("small",{class:T(i.$style["binding-item-plus"])},"+",2),o[13]||(o[13]=c("kbd",null,"shift",-1)),c("small",{class:T(i.$style["binding-item-plus"])},"+",2),o[14]||(o[14]=c("kbd",null,"z",-1))],2)],2),c("td",{scope:"col",textContent:U(l(e)("board.nav.download_image.action"))},null,8,Qa)]),c("tr",null,[c("td",{scope:"col",class:T(i.$style["binding-item-wrapper"])},[c("div",{class:T(i.$style["binding-item"])},[o[15]||(o[15]=c("kbd",null,"ctrl",-1)),c("small",{class:T(i.$style["binding-item-plus"])},"+",2),o[16]||(o[16]=c("kbd",null,"s",-1))],2)],2),c("td",{scope:"col",class:T(i.$style["binding-item-wrapper"])},[c("div",{class:T(i.$style["binding-item"])},[o[17]||(o[17]=c("kbd",null,"⌘",-1)),c("small",{class:T(i.$style["binding-item-plus"])},"+",2),o[18]||(o[18]=c("kbd",null,"s",-1))],2)],2),c("td",{scope:"col",textContent:U(l(e)("board.nav.redo"))},null,8,ei)]),c("tr",null,[c("td",{scope:"col",class:T(i.$style["binding-item-wrapper"])},[c("div",{class:T(i.$style["binding-item"])},o[19]||(o[19]=[c("kbd",null,"f",-1)]),2)],2),c("td",{scope:"col",class:T(i.$style["binding-item-wrapper"])},[c("div",{class:T(i.$style["binding-item"])},o[20]||(o[20]=[c("kbd",null,"f",-1)]),2)],2),c("td",{scope:"col",textContent:U(l(e)("board.nav.toggle_fullscreen"))},null,8,ti)])])])],2),c("h4",{textContent:U(l(e)("board.nav.help.heading_authors"))},null,8,ni),c("p",null,[te(U(l(e)("main.brought_to_you_by"))+" ",1),c("a",{href:`${"host"in i?i.host:l(ss)}/`,"data-tooltip":l(e)("main.visit_our_website"),title:l(e)("main.visit_our_website")},"FRSOURCE",8,si)]),c("p",null,[c("a",ai,[A(l(Xn)),te(" "+U(l(e)("main.star_us_on_github")),1)])]),c("p",null,[c("a",ii,[A(l(rn)),te(" "+U(l(e)("main.donate_us")),1)])]),o[22]||(o[22]=c("hr",null,null,-1)),c("p",{class:T(i.$style.terms)},[A(u,{to:{name:`lang-${l(Xt)}-terms`}},{default:W(()=>[c("small",{textContent:U(l(e)("main.terms_and_conditions"))},null,8,ri)]),_:1},8,["to"]),A(u,{to:{name:`lang-${l(Xt)}-privacy-policy`}},{default:W(()=>[c("small",{textContent:U(l(e)("main.privacy_policy"))},null,8,oi)]),_:1},8,["to"])],2)]),_:1},8,["modelValue","heading","class"])]),_:1},8,["tooltip"])])}}}),ui="f_8",ci="f_ab",di="f_ac",fi={modal:ui,"hide-mobile":"f_9","binding-item":"f__","binding-item-plus":"f_-","list-item":"f_aa",terms:ci,donate:di},hi={$style:fi},vi=Ee(li,[["__cssModules",hi]]),pi={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"};function mi(t,e){return $(),M("svg",pi,e[0]||(e[0]=[c("path",{fill:"currentColor",d:"M28 10v18H10V10zm0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2"},null,-1),c("path",{fill:"currentColor",d:"M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"},null,-1)]))}const bi=X({name:"carbon-copy",render:mi}),gi={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"};function yi(t,e){return $(),M("svg",gi,e[0]||(e[0]=[c("path",{fill:"currentColor",d:"m13 24l-9-9l1.414-1.414L13 21.171L26.586 7.586L28 9z"},null,-1)]))}const wi=X({name:"carbon-checkmark",render:yi}),xi=oe({__name:"BoardSummaryItem",props:{value:{type:Number,default:0}},setup(t){const e=t,n=O(()=>e.value?e.value.toFixed(3):""),{copy:s,copied:a,isSupported:r}=as({source:n});return(i,o)=>{const u=We;return $(),M("small",{class:T(i.$style.item),onClick:o[0]||(o[0]=()=>l(s)())},[c("div",null,[at(i.$slots,"default"),c("span",{class:T(i.$style.text)},[l(n)?($(),M(he,{key:0},[te(U(l(n))+"°",1)],64)):($(),M(he,{key:1},[te("?")],64))],2)]),l(r)&&l(n)?($(),re(u,{key:0,class:T(i.$style.btn),disabled:l(a)},{default:W(()=>[l(a)?($(),re(l(wi),{key:0})):($(),re(l(bi),{key:1}))]),_:1},8,["class","disabled"])):fe("",!0)],2)}}}),_i="f_5",Si="f_6",ki="f_7",$i={item:_i,text:Si,btn:ki},Ti={$style:$i},Ci=Ee(xi,[["__cssModules",Ti]]),Mi={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"};function Ei(t,e){return $(),M("svg",Mi,e[0]||(e[0]=[c("path",{fill:"currentColor",d:"M20 2v2h6.586L18 12.582L19.414 14L28 5.414V12h2V2zm-6 17.416L12.592 18L4 26.586V20H2v10h10v-2H5.414z"},null,-1)]))}const Ii=X({name:"carbon-maximize",render:Ei}),Di={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"};function Fi(t,e){return $(),M("svg",Di,e[0]||(e[0]=[c("path",{fill:"currentColor",d:"M4 18v2h6.586L2 28.582L3.414 30L12 21.414V28h2V18zM30 3.416L28.592 2L20 10.586V4h-2v10h10v-2h-6.586z"},null,-1)]))}const Ai=X({name:"carbon-minimize",render:Fi}),Pi={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"};function Ni(t,e){return $(),M("svg",Pi,e[0]||(e[0]=[c("path",{fill:"currentColor",d:"M18 12h-4V8h-2v4H8v2h4v4h2v-4h4z"},null,-1),c("path",{fill:"currentColor",d:"M21.448 20A10.86 10.86 0 0 0 24 13a11 11 0 1 0-11 11a10.86 10.86 0 0 0 7-2.552L27.586 29L29 27.586ZM13 22a9 9 0 1 1 9-9a9.01 9.01 0 0 1-9 9"},null,-1)]))}const Ri=X({name:"carbon-zoom-in",render:Ni}),Oi={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"};function zi(t,e){return $(),M("svg",Oi,e[0]||(e[0]=[c("path",{fill:"currentColor",d:"M8 12h10v2H8z"},null,-1),c("path",{fill:"currentColor",d:"M21.448 20A10.86 10.86 0 0 0 24 13a11 11 0 1 0-11 11a10.86 10.86 0 0 0 7-2.552L27.586 29L29 27.586ZM13 22a9 9 0 1 1 9-9a9.01 9.01 0 0 1-9 9"},null,-1)]))}const Li=X({name:"carbon-zoom-out",render:zi}),Bi={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"};function Gi(t,e){return $(),M("svg",Bi,e[0]||(e[0]=[c("path",{fill:"currentColor",d:"M4 20v2h4.586L2 28.586L3.414 30L10 23.414V28h2v-8zm15-6a3 3 0 1 0-3-3a3 3 0 0 0 3 3m0-4a1 1 0 1 1-1 1a1 1 0 0 1 1-1"},null,-1),c("path",{fill:"currentColor",d:"M26 4H6a2 2 0 0 0-2 2v10h2V6h20v15.17l-3.59-3.59a2 2 0 0 0-2.82 0L18 19.17L11.83 13l-1.414 1.416L14 18l2.59 2.59a2 2 0 0 0 2.82 0L21 19l5 5v2H16v2h10a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2"},null,-1)]))}const Ui=X({name:"carbon-image-reference",render:Gi}),Vi={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"};function Hi(t,e){return $(),M("svg",Vi,e[0]||(e[0]=[c("path",{d:"M9 24a3.51 3.51 0 0 0-.88-1.86l9.53-16.58l-1.73-1l-9.57 16.56A3.06 3.06 0 0 0 5.5 21a3.5 3.5 0 1 0 3.15 5H28v-2zm-3.5 2A1.5 1.5 0 1 1 7 24.5A1.5 1.5 0 0 1 5.5 26z",fill:"currentColor"},null,-1),c("path",{d:"M22 21h2a13 13 0 0 0-5.42-10.56l-1.16 1.62A11 11 0 0 1 22 21z",fill:"currentColor"},null,-1)]))}const Wi=X({name:"carbon-angle",render:Hi}),Ki={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"};function ji(t,e){return $(),M("svg",Ki,e[0]||(e[0]=[c("path",{fill:"currentColor",d:"M20 10H7.815l3.587-3.586L10 5l-6 6l6 6l1.402-1.415L7.818 12H20a6 6 0 0 1 0 12h-8v2h8a8 8 0 0 0 0-16"},null,-1)]))}const Yi=X({name:"carbon-undo",render:ji}),qi={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"};function Xi(t,e){return $(),M("svg",qi,e[0]||(e[0]=[c("path",{fill:"currentColor",d:"M12 10h12.185l-3.587-3.586L22 5l6 6l-6 6l-1.402-1.415L24.182 12H12a6 6 0 0 0 0 12h8v2h-8a8 8 0 0 1 0-16"},null,-1)]))}const Zi=X({name:"carbon-redo",render:Xi}),Ji={width:"1.2em",height:"1.2em",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor"};function Qi(t,e){return $(),M("svg",Ji,e[0]||(e[0]=[c("path",{d:"M18.3 26a3.5 3.5 0 006.6-3.05 3 3 0 00-.7-.8l7.53-15.58-1.73-1-7.57 15.56a2.7 2.7 0 00-.8-.1 3.5 3.5 0 00-3.33 2.97h-17.973v2Zm3.4.1a1.5 1.5 0 111.5-1.5 1.5 1.5 0 01-1.5 1.5Z"},null,-1),c("path",{d:"M3.75 21.25a13.2 13.2 90 0120.25-10.56l-.87 1.44a11.75 11.75 90 00-17.6 9.13z"},null,-1)]))}const er=X({name:"custom-angle-obtuse",render:Qi}),At=4,kt=je(()=>{const t=z([]),e=z([]),n=z(At-1);let s=()=>{},a=()=>{};Q(t,g=>{e.value=[...g]},{deep:!0,flush:"sync"});const r=(g,D)=>{++n.value>=At&&(n.value=0,t.value=[]);const C=Math.floor(n.value/2);if(n.value%2){const x=t.value[C][0];if(!x)return;t.value[C]=[x,[g,D]]}else t.value[C]=[[g,D]]},i=(g,D)=>{const C=n.value+1>=At?0:n.value+1,x=Math.floor(C/2);if(C%2){const V=e.value[x][0];if(!V)return;e.value[x]=[V,[g,D]]}else e.value[x]=[[g,D]]},{undo:o,redo:u,canUndo:d,canRedo:m}=yt(n),{undo:b,redo:p,canUndo:v,canRedo:y}=yt(t,{deep:!0}),S=()=>{b(),s(),o()},I=()=>{p(),a(),u()};return Bt({onEventFired(g){(g.ctrlKey||g.metaKey)&&g.key==="z"&&(g.shiftKey?I():S())}}),{step:n,lines:e,drawNextPoint:r,predictNextPoint:i,undo:S,redo:I,canUndo:O(()=>d.value&&v.value),canRedo:O(()=>m.value&&y.value),registerOnUndo:g=>s=g,registerOnRedo:g=>a=g}});function En(t){const[[[e,n],[s,a]],[[r,i],[o,u]]]=t,d=s-e,m=a-n,b=o-r,p=u-i,v=Math.atan2(d*p-m*b,d*b+m*p);return Math.abs(v)*(180/Math.PI)}function Gt(t){return O(()=>{var e,n;return(((e=t.value[0])==null?void 0:e.length)||0)<2||(((n=t.value[1])==null?void 0:n.length)||0)<2?0:En(t.value)})}function tr(){try{return"constructor"in GestureEvent}catch{return!1}}function In(){return typeof window<"u"&&"ontouchstart"in window}function Dn(t){return"pointerId"in t?null:t.type==="touchend"?t.changedTouches:t.targetTouches}function Ut(t){return Array.from(Dn(t)).map(e=>e.identifier)}function Te(t){const e="buttons"in t?t.buttons:0,{shiftKey:n,altKey:s,metaKey:a,ctrlKey:r}=t;return{buttons:e,shiftKey:n,altKey:s,metaKey:a,ctrlKey:r}}const It=t=>t;function on(t,e=It){const n=Dn(t),{clientX:s,clientY:a}=n?n[0]:t;return e([s,a])}function ln(t,e,n=It){const[s,a]=Array.from(t.touches).filter(v=>e.includes(v.identifier));if(!s||!a)throw Error("The event doesn't have two pointers matching the pointerIds");const r=a.clientX-s.clientX,i=a.clientY-s.clientY,o=(a.clientX+s.clientX)/2,u=(a.clientY+s.clientY)/2,d=Math.hypot(r,i),m=-(Math.atan2(r,i)*180)/Math.PI,b=n([d,m]),p=n([o,u]);return{values:b,origin:p}}const un=40,cn=800;function Fn(t,e=It){let{deltaX:n,deltaY:s,deltaMode:a}=t;return a===1?(n*=un,s*=un):a===2&&(n*=cn,s*=cn),e([n,s])}function dn(t,e=It){return e([t.scale,t.rotation])}function An(){}function Pn(...t){return t.length===0?An:t.length===1?t[0]:function(){var e;for(let n of t)e=n.apply(this,arguments)||e;return e}}function Ne(t,e){if(t===void 0){if(e===void 0)throw new Error("Must define fallback value if undefined is expected");t=e}return Array.isArray(t)?t:[t,t]}function fn(t,e){return Object.assign({},e,t||{})}function $t(t,...e){return typeof t=="function"?t(...e):t}function tt(t){return{_active:!1,_blocked:!1,_intentional:[!1,!1],_movement:[0,0],_initial:[0,0],_bounds:[[-1/0,1/0],[-1/0,1/0]],_lastEventType:void 0,_dragStarted:!1,_dragPreventScroll:!1,_dragIsTap:!0,_dragDelayed:!1,event:void 0,intentional:!1,values:[0,0],velocities:[0,0],delta:[0,0],movement:[0,0],offset:[0,0],lastOffset:[0,0],direction:[0,0],initial:[0,0],previous:[0,0],first:!1,last:!1,active:!1,timeStamp:0,startTime:0,elapsedTime:0,cancel:An,canceled:!1,memo:void 0,args:void 0,...t}}function Rt(){const t={hovering:!1,scrolling:!1,wheeling:!1,dragging:!1,moving:!1,pinching:!1,touches:0,buttons:0,down:!1,shiftKey:!1,altKey:!1,metaKey:!1,ctrlKey:!1,locked:!1},e=tt({_pointerId:void 0,axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0,tap:!1,swipe:[0,0]}),n=tt({_pointerIds:[],da:[0,0],vdva:[0,0],origin:void 0,turns:0}),s=tt({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0}),a=tt({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0}),r=tt({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0});return{shared:t,drag:e,pinch:n,wheel:s,move:a,scroll:r}}var nr=Object.defineProperty,sr=(t,e,n)=>e in t?nr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,se=(t,e,n)=>(sr(t,typeof e!="symbol"?e+"":e,n),n);class ar{constructor(e){this.classes=e,se(this,"nativeRefs"),se(this,"config"),se(this,"handlers"),se(this,"state"),se(this,"timeouts"),se(this,"domListeners"),se(this,"windowListeners"),se(this,"pointerIds",new Set),se(this,"touchIds",new Set),se(this,"supportsTouchEvents",In()),se(this,"supportsGestureEvents",tr()),se(this,"bind",(...n)=>{const s={};for(let a of this.classes)new a(this,n).addBindings(s);for(let a in this.nativeRefs)Y(s,a,r=>this.nativeRefs[a]({...this.state.shared,event:r,args:n}));return this.config.domTarget?lr(this,s):ur(this,s)}),se(this,"clean",()=>{const{eventOptions:n,domTarget:s}=this.config,a=l(s);a&&ct(a,On(this.domListeners),n),Object.values(this.timeouts).forEach(clearTimeout),ir(this)}),se(this,"reset",()=>{this.state=Rt()}),this.classes=e,this.state=Rt(),this.timeouts={},this.domListeners=[],this.windowListeners={}}}function Nn(t,e){"pointerId"in e?t.pointerIds.add(e.pointerId):t.touchIds=new Set(Ut(e))}function Rn(t,e){"pointerId"in e?t.pointerIds.delete(e.pointerId):Ut(e).forEach(n=>t.touchIds.delete(n))}function ir(t){const{config:{window:e,eventOptions:n},windowListeners:s}=t,a=l(e);if(a){for(let r in s){const i=s[r];ct(a,i,n)}t.windowListeners={}}}function rr({config:t,windowListeners:e},n,s=t.eventOptions){const a=l(t.window);a&&(ct(a,e[n],s),delete e[n])}function or({config:t,windowListeners:e},n,s=[],a=t.eventOptions){const r=l(t.window);r&&(ct(r,e[n],a),zn(r,e[n]=s,a))}function lr({config:t,domListeners:e},n){const{eventOptions:s,domTarget:a}=t,r=l(a);if(!r)throw new Error("domTarget must be defined");ct(r,On(e),s);for(let[i,o]of Object.entries(n)){const u=i.slice(2).toLowerCase();e.push([u,Pn(...o)])}zn(r,e,s)}function ur({config:t},e){const n={},s=t.eventOptions.capture?"Capture":"";for(let[a,r]of Object.entries(e)){const i=Array.isArray(r)?r:[r],o=a+s;n[o]=Pn(...i)}return n}function On(t=[]){return t.splice(0,t.length)}function Y(t,e,n){t[e]||(t[e]=[]),t[e].push(n)}function zn(t,e=[],n={}){if(t)for(let[s,a]of e)t.addEventListener(s,a,n)}function ct(t,e=[],n={}){if(t)for(let[s,a]of e)t.removeEventListener(s,a,n)}function Tt(t,e){return t.map((n,s)=>n+e[s])}function Vt(t,e){return t.map((n,s)=>n-e[s])}function lt(t){return Math.hypot(...t)}function cr(t,e=t){const n=lt(e),s=n===0?0:1/n,a=e.map(i=>s*i);return{distance:lt(t),direction:a}}function Ln(t,e,n){const s=lt(e),a=s===0?0:1/s,r=n===0?0:1/n,i=r*s,o=e.map(m=>r*m),u=e.map(m=>a*m),d=lt(t);return{velocities:o,velocity:i,distance:d,direction:u}}function Ct(t){return Math.sign?Math.sign(t):+(t>0)-+(t<0)||+t}function dr(t,e,n){return Math.max(e,Math.min(t,n))}function fr(t,e){return Math.pow(t,e*5)}function hn(t,e,n){return e===0||Math.abs(e)===1/0?fr(t,n):t*e*n/(e+n*t)}function vn(t,e,n,s=.15){return s===0?dr(t,e,n):t<e?-hn(e-t,n-e,s)+e:t>n?+hn(t-n,n-e,s)+n:t}var hr=Object.defineProperty,vr=(t,e,n)=>e in t?hr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,vt=(t,e,n)=>(vr(t,typeof e!="symbol"?e+"":e,n),n);const Ce=new Map,pr=t=>t;class Bn{constructor(e,n=[]){this.controller=e,this.args=n,vt(this,"debounced",!0),vt(this,"setTimeout",(s,a=140,...r)=>{clearTimeout(this.controller.timeouts[this.stateKey]),this.controller.timeouts[this.stateKey]=window.setTimeout(s,a,...r)}),vt(this,"clearTimeout",()=>{clearTimeout(this.controller.timeouts[this.stateKey])}),vt(this,"fireGestureHandler",(s=!1)=>{if(this.state._blocked)return this.debounced||(this.state._active=!1,this.clean()),null;if(!s&&!this.state.intentional&&!this.config.triggerAllEvents)return null;if(this.state.intentional){const u=this.state.active,d=this.state._active;this.state.active=d,this.state.first=d&&!u,this.state.last=u&&!d,this.controller.state.shared[this.ingKey]=d}const a=this.controller.pointerIds.size||this.controller.touchIds.size,r=this.controller.state.shared.buttons>0||a>0,i={...this.controller.state.shared,...this.state,...this.mapStateValues(this.state),locked:!!document.pointerLockElement,touches:a,down:r},o=this.handler(i);return this.state.memo=o!==void 0?o:this.state.memo,i}),this.controller=e,this.args=n}get config(){return this.controller.config[this.stateKey]}get enabled(){return this.controller.config.enabled&&this.config.enabled}get state(){return this.controller.state[this.stateKey]}get handler(){return this.controller.handlers[this.stateKey]}get transform(){return this.config.transform||this.controller.config.transform||pr}updateSharedState(e){Object.assign(this.controller.state.shared,e)}updateGestureState(e){Object.assign(this.state,e)}checkIntentionality(e,n){return{_intentional:e,_blocked:!1}}getMovement(e){const{rubberband:n,threshold:s}=this.config,{_bounds:a,_initial:r,_active:i,_intentional:o,lastOffset:u,movement:d}=this.state,m=this.getInternalMovement(e,this.state),b=this.transform(s).map(Math.abs),p=o[0]===!1?pn(m[0],b[0]):o[0],v=o[1]===!1?pn(m[1],b[1]):o[1],y=this.checkIntentionality([p,v],m);if(y._blocked)return{...y,_movement:m,delta:[0,0]};const S=y._intentional,I=m;let g=[S[0]!==!1?m[0]-S[0]:0,S[1]!==!1?m[1]-S[1]:0];const D=Tt(g,u),C=i?n:[0,0];return g=mn(a,Tt(g,r),C),{...y,intentional:S[0]!==!1||S[1]!==!1,_initial:r,_movement:I,movement:g,values:e,offset:mn(a,D,C),delta:Vt(g,d)}}clean(){this.clearTimeout()}}function pn(t,e){return Math.abs(t)>=e?Ct(t)*e:!1}function mn(t,[e,n],[s,a]){const[[r,i],[o,u]]=t;return[vn(e,r,i,s),vn(n,o,u,a)]}function ie({state:t},e,n){const{timeStamp:s,type:a}=e,r=t.values,i=n?0:s-t.startTime;return{_lastEventType:a,event:e,timeStamp:s,elapsedTime:i,previous:r}}function ot({state:t,config:e,stateKey:n,args:s},a,r){const i=t.offset,o=r.timeStamp,{initial:u,bounds:d}=e,m={...Rt()[n],_active:!0,args:s,values:a,initial:a,offset:i,lastOffset:i,startTime:o};return{...m,_initial:$t(u,m),_bounds:$t(d,m)}}class Gn extends Bn{getInternalMovement(e,n){return Vt(e,n.initial)}checkIntentionality(e,n){if(e[0]===!1&&e[1]===!1)return{_intentional:e,axis:this.state.axis};const[s,a]=n.map(Math.abs),r=this.state.axis||(s>a?"x":s<a?"y":void 0);return!this.config.axis&&!this.config.lockDirection?{_intentional:e,_blocked:!1,axis:r}:r?this.config.axis&&r!==this.config.axis?{_intentional:e,_blocked:!0,axis:r}:(e[r==="x"?1:0]=!1,{_intentional:e,_blocked:!1,axis:r}):{_intentional:[!1,!1],_blocked:!1,axis:r}}getKinematics(e,n){const s=this.getMovement(e);if(!s._blocked){const a=n.timeStamp-this.state.timeStamp;Object.assign(s,Ln(s.movement,s.delta,a))}return s}mapStateValues(e){return{xy:e.values,vxvy:e.velocities}}}var mr=Object.defineProperty,br=(t,e,n)=>e in t?mr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Z=(t,e,n)=>(br(t,typeof e!="symbol"?e+"":e,n),n);const gr=3;function bn(t){"persist"in t&&typeof t.persist=="function"&&t.persist()}class yr extends Gn{constructor(){super(...arguments),Z(this,"ingKey","dragging"),Z(this,"stateKey","drag"),Z(this,"setPointerCapture",e=>{if(this.config.useTouch||document.pointerLockElement)return;const{target:n,pointerId:s}=e;n&&"setPointerCapture"in n&&n.setPointerCapture(s),this.updateGestureState({_dragTarget:n,_dragPointerId:s})}),Z(this,"releasePointerCapture",()=>{if(this.config.useTouch||document.pointerLockElement)return;const{_dragTarget:e,_dragPointerId:n}=this.state;if(n&&e&&"releasePointerCapture"in e&&(!("hasPointerCapture"in e)||e.hasPointerCapture(n)))try{e.releasePointerCapture(n)}catch{}}),Z(this,"preventScroll",e=>{this.state._dragPreventScroll&&e.cancelable&&e.preventDefault()}),Z(this,"getEventId",e=>this.config.useTouch?e.changedTouches[0].identifier:e.pointerId),Z(this,"isValidEvent",e=>this.state._pointerId===this.getEventId(e)),Z(this,"shouldPreventWindowScrollY",this.config.preventWindowScrollY&&this.controller.supportsTouchEvents),Z(this,"setUpWindowScrollDetection",e=>{bn(e),or(this.controller,this.stateKey,[["touchmove",this.preventScroll],["touchend",this.clean.bind(this)],["touchcancel",this.clean.bind(this)]],{passive:!1}),this.setTimeout(this.startDrag.bind(this),250,e)}),Z(this,"setUpDelayedDragTrigger",e=>{this.state._dragDelayed=!0,bn(e),this.setTimeout(this.startDrag.bind(this),this.config.delay,e)}),Z(this,"setStartState",e=>{const n=on(e,this.transform);this.updateSharedState(Te(e)),this.updateGestureState({...ot(this,n,e),...ie(this,e,!0),_pointerId:this.getEventId(e)}),this.updateGestureState(this.getMovement(n))}),Z(this,"onDragStart",e=>{Nn(this.controller,e),!(!this.enabled||this.state._active)&&(this.setStartState(e),this.setPointerCapture(e),this.shouldPreventWindowScrollY?this.setUpWindowScrollDetection(e):this.config.delay>0?this.setUpDelayedDragTrigger(e):this.startDrag(e,!0))}),Z(this,"onDragChange",e=>{if(this.state.canceled||!this.state._active||!this.isValidEvent(e)||this.state._lastEventType===e.type&&e.timeStamp===this.state.timeStamp)return;let n;if(document.pointerLockElement){const{movementX:u,movementY:d}=e;n=Tt(this.transform([u,d]),this.state.values)}else n=on(e,this.transform);const s=this.getKinematics(n,e);if(!this.state._dragStarted){if(this.state._dragDelayed){this.startDrag(e);return}if(this.shouldPreventWindowScrollY)if(!this.state._dragPreventScroll&&s.axis)if(s.axis==="x")this.startDrag(e);else{this.state._active=!1;return}else return;else return}const a=Te(e);this.updateSharedState(a);const r=ie(this,e),i=lt(s._movement);let{_dragIsTap:o}=this.state;o&&i>=gr&&(o=!1),this.updateGestureState({...r,...s,_dragIsTap:o}),this.fireGestureHandler()}),Z(this,"onDragEnd",e=>{if(Rn(this.controller,e),!this.isValidEvent(e)||(this.clean(),!this.state._active))return;this.state._active=!1;const n=this.state._dragIsTap,[s,a]=this.state.velocities,[r,i]=this.state.movement,[o,u]=this.state._intentional,[d,m]=this.config.swipeVelocity,[b,p]=this.config.swipeDistance,v=this.config.swipeDuration,y={...ie(this,e),...this.getMovement(this.state.values)},S=[0,0];y.elapsedTime<v&&(o!==!1&&Math.abs(s)>d&&Math.abs(r)>b&&(S[0]=Ct(s)),u!==!1&&Math.abs(a)>m&&Math.abs(i)>p&&(S[1]=Ct(a))),this.updateSharedState({buttons:0}),this.updateGestureState({...y,tap:n,swipe:S}),this.fireGestureHandler(this.config.filterTaps&&n===!0)}),Z(this,"clean",()=>{super.clean(),this.state._dragStarted=!1,this.releasePointerCapture(),rr(this.controller,this.stateKey)}),Z(this,"onCancel",()=>{this.state.canceled||(this.updateGestureState({canceled:!0,_active:!1}),this.updateSharedState({buttons:0}),ls(this.fireGestureHandler))}),Z(this,"onClick",e=>{this.state._dragIsTap||e.stopPropagation()})}startDrag(e,n=!1){!this.state._active||this.state._dragStarted||(n||this.setStartState(e),this.updateGestureState({_dragStarted:!0,_dragPreventScroll:!0,cancel:this.onCancel}),this.clearTimeout(),this.fireGestureHandler())}addBindings(e){if(this.config.useTouch?(Y(e,"onTouchStart",this.onDragStart),Y(e,"onTouchMove",this.onDragChange),Y(e,"onTouchEnd",this.onDragEnd),Y(e,"onTouchCancel",this.onDragEnd)):(Y(e,"onPointerDown",this.onDragStart),Y(e,"onPointerMove",this.onDragChange),Y(e,"onPointerUp",this.onDragEnd),Y(e,"onPointerCancel",this.onDragEnd)),this.config.filterTaps){const n=this.controller.config.eventOptions.capture?"onClick":"onClickCapture";Y(e,n,this.onClick)}}}function Ht(t,e){let n,s=[],a,r=!1;function i(...o){return r&&n===this&&e(o,s)||(a=t.apply(this,o),r=!0,n=this,s=o),a}return i}function bt(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;let n,s,a;if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(s=n;s--!==0;)if(!bt(t[s],e[s]))return!1;return!0}let r;if(typeof Map=="function"&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(r=t.entries();!(s=r.next()).done;)if(!e.has(s.value[0]))return!1;for(r=t.entries();!(s=r.next()).done;)if(!bt(s.value[1],e.get(s.value[0])))return!1;return!0}if(typeof Set=="function"&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(r=t.entries();!(s=r.next()).done;)if(!e.has(s.value[0]))return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();if(a=Object.keys(t),n=a.length,n!==Object.keys(e).length)return!1;for(s=n;s--!==0;)if(!Object.prototype.hasOwnProperty.call(e,a[s]))return!1;if(typeof Element<"u"&&t instanceof Element)return!1;for(s=n;s--!==0;)if(!(a[s]==="_owner"&&t.$$typeof)&&!bt(t[a[s]],e[a[s]]))return!1;return!0}return t!==t&&e!==e}function Wt(t,e){try{return bt(t,e)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}}function dt(t={},e){const n={};for(const[s,a]of Object.entries(e))switch(typeof a){case"function":n[s]=a.call(n,t[s],s,t);break;case"object":n[s]=dt(t[s],a);break;case"boolean":a&&(n[s]=t[s]);break}return n}const wr=180,xr=.15,_r=.5,Sr=50,kr=250,Un={threshold(t=0){return Ne(t)},rubberband(t=0){switch(t){case!0:return Ne(xr);case!1:return Ne(0);default:return Ne(t)}},enabled(t=!0){return t},triggerAllEvents(t=!1){return t},initial(t=0){return typeof t=="function"?t:Ne(t)},transform:!0},Kt={...Un,axis:!0,lockDirection(t=!1){return t},bounds(t={}){if(typeof t=="function")return r=>Kt.bounds(t(r));const{left:e=-1/0,right:n=1/0,top:s=-1/0,bottom:a=1/0}=t;return[[e,n],[s,a]]}},$r=typeof window<"u"&&window.document&&window.document.createElement,Tr={enabled(t=!0){return t},domTarget:!0,window(t=$r?window:void 0){return t},eventOptions({passive:t=!0,capture:e=!1}={}){return{passive:t,capture:e}},transform:!0},Cr={...Un,bounds(t,e,{distanceBounds:n={},angleBounds:s={}}){const a=i=>{const o=fn($t(n,i),{min:-1/0,max:1/0});return[o.min,o.max]},r=i=>{const o=fn($t(s,i),{min:-1/0,max:1/0});return[o.min,o.max]};return typeof n!="function"&&typeof s!="function"?[a(),r()]:i=>[a(i),r(i)]}},Mr={...Kt,useTouch(t=!0){return t&&In()},preventWindowScrollY(t=!1){return t},threshold(t,e,{filterTaps:n=!1,lockDirection:s=!1,axis:a=void 0}){const r=Ne(t,n?3:s||a?1:0);return this.filterTaps=n,r},swipeVelocity(t=_r){return Ne(t)},swipeDistance(t=Sr){return Ne(t)},swipeDuration(t=kr){return t},delay(t=0){switch(t){case!0:return wr;case!1:return 0;default:return t}}};function jt(t){return dt(t,Tr)}function Er(t={}){return dt(t,Kt)}function Ir(t={}){return dt(t,Cr)}function Dr(t={}){return dt(t,Mr)}function Fr({domTarget:t,eventOptions:e,window:n,enabled:s,...a}){const r=jt({domTarget:t,eventOptions:e,window:n,enabled:s});return r.drag=Dr(a),r}function Ar({domTarget:t,eventOptions:e,window:n,enabled:s,...a}){const r=jt({domTarget:t,eventOptions:e,window:n,enabled:s});return r.pinch=Ir(a),r}function Pr({domTarget:t,eventOptions:e,window:n,enabled:s,...a}){const r=jt({domTarget:t,eventOptions:e,window:n,enabled:s});return r.wheel=Er(a),r}function Yt(t,e,n={}){const s=Nr(t),a=new ar(s);return a.config=e,a.handlers=t,a.nativeRefs=n,is()&&!e.manual&&(rs(a.bind),os(a.clean)),a}function Nr(t){const e=new Set;return t.drag&&e.add(Ce.get("drag")),t.wheel&&e.add(Ce.get("wheel")),t.scroll&&e.add(Ce.get("scroll")),t.move&&e.add(Ce.get("move")),t.pinch&&e.add(Ce.get("pinch")),t.hover&&e.add(Ce.get("hover")),e}function Rr(t,e={}){Ce.set("drag",yr);const n=z();return n.value||(n.value=Ht(Fr,Wt)),Yt({drag:t},n.value(e))}class Or extends Bn{getInternalMovement(e,n){const s=n.values[1];let[a,r=s]=e,i=r-s,o=n.turns;return Math.abs(i)>270&&(o+=Ct(i)),Vt([a,r-360*o],n.initial)}getKinematics(e,n){const s=this.getMovement(e),a=(e[1]-s._movement[1]-this.state.initial[1])/360,r=n.timeStamp-this.state.timeStamp,{distance:i,velocity:o,...u}=Ln(s.movement,s.delta,r);return{turns:a,...s,...u}}mapStateValues(e){return{da:e.values,vdva:e.velocities}}}var zr=Object.defineProperty,Lr=(t,e,n)=>e in t?zr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ee=(t,e,n)=>(Lr(t,typeof e!="symbol"?e+"":e,n),n);const Br=7,Gr=260;class Ur extends Or{constructor(){super(...arguments),ee(this,"ingKey","pinching"),ee(this,"stateKey","pinch"),ee(this,"onPinchStart",e=>{Nn(this.controller,e);const n=this.controller.touchIds;if(!this.enabled||this.state._active&&this.state._pointerIds.every(i=>n.has(i))||n.size<2)return;const s=Array.from(n).slice(0,2),{values:a,origin:r}=ln(e,s,this.transform);this.updateSharedState(Te(e)),this.updateGestureState({...ot(this,a,e),...ie(this,e,!0),_pointerIds:s,cancel:this.onCancel,origin:r}),this.updateGestureState(this.getMovement(a)),this.fireGestureHandler()}),ee(this,"onPinchChange",e=>{const{canceled:n,_active:s}=this.state;if(n||!s||e.timeStamp===this.state.timeStamp)return;const a=Te(e);this.updateSharedState(a);try{const{values:r,origin:i}=ln(e,this.state._pointerIds,this.transform),o=this.getKinematics(r,e);this.updateGestureState({...ie(this,e),...o,origin:i}),this.fireGestureHandler()}catch{this.onPinchEnd(e)}}),ee(this,"onPinchEnd",e=>{Rn(this.controller,e);const n=Ut(e);this.state._pointerIds.every(s=>!n.includes(s))||(this.clean(),this.state._active&&(this.updateGestureState({...ie(this,e),...this.getMovement(this.state.values),_active:!1}),this.fireGestureHandler()))}),ee(this,"onCancel",()=>{this.state.canceled||(this.updateGestureState({_active:!1,canceled:!0}),this.fireGestureHandler())}),ee(this,"onGestureStart",e=>{if(!this.enabled)return;e.preventDefault();const n=dn(e,this.transform);this.updateSharedState(Te(e)),this.updateGestureState({...ot(this,n,e),...ie(this,e,!0),origin:[e.clientX,e.clientY],cancel:this.onCancel}),this.updateGestureState(this.getMovement(n)),this.fireGestureHandler()}),ee(this,"onGestureChange",e=>{const{canceled:n,_active:s}=this.state;if(n||!s)return;e.preventDefault();const a=Te(e);this.updateSharedState(a);const r=dn(e,this.transform);r[0]=(r[0]-this.state.event.scale)*Gr+this.state.values[0];const i=this.getKinematics(r,e);this.updateGestureState({...ie(this,e),...i,origin:[e.clientX,e.clientY]}),this.fireGestureHandler()}),ee(this,"onGestureEnd",e=>{this.clean(),this.state._active&&(this.updateGestureState({...ie(this,e),...this.getMovement(this.state.values),_active:!1,origin:[e.clientX,e.clientY]}),this.fireGestureHandler())}),ee(this,"wheelShouldRun",e=>this.enabled&&e.ctrlKey),ee(this,"getWheelValuesFromEvent",e=>{const[,n]=Fn(e,this.transform),{values:[s,a]}=this.state;return{values:[s-n*Br,a!==void 0?a:0],origin:[e.clientX,e.clientY],delta:[0,n]}}),ee(this,"onWheel",e=>{this.wheelShouldRun(e)&&(this.setTimeout(this.onWheelEnd),this.state._active?this.onWheelChange(e):this.onWheelStart(e))}),ee(this,"onWheelStart",e=>{const{values:n,delta:s,origin:a}=this.getWheelValuesFromEvent(e);e.cancelable&&e.preventDefault(),this.updateSharedState(Te(e)),this.updateGestureState({...ot(this,n,e),...ie(this,e,!0),initial:this.state.values,offset:n,delta:s,origin:a}),this.updateGestureState(this.getMovement(n)),this.fireGestureHandler()}),ee(this,"onWheelChange",e=>{e.cancelable&&e.preventDefault(),this.updateSharedState(Te(e));const{values:n,origin:s,delta:a}=this.getWheelValuesFromEvent(e);this.updateGestureState({...ie(this,e),...this.getKinematics(n,e),origin:s,delta:a}),this.fireGestureHandler()}),ee(this,"onWheelEnd",()=>{this.clean(),this.state._active&&(this.state._active=!1,this.updateGestureState(this.getMovement(this.state.values)),this.fireGestureHandler())})}addBindings(e){this.controller.config.domTarget&&!this.controller.supportsTouchEvents&&this.controller.supportsGestureEvents?(Y(e,"onGestureStart",this.onGestureStart),Y(e,"onGestureChange",this.onGestureChange),Y(e,"onGestureEnd",this.onGestureEnd)):(Y(e,"onTouchStart",this.onPinchStart),Y(e,"onTouchMove",this.onPinchChange),Y(e,"onTouchEnd",this.onPinchEnd),Y(e,"onTouchCancel",this.onPinchEnd),Y(e,"onWheel",this.onWheel))}}var Vr=Object.defineProperty,Hr=(t,e,n)=>e in t?Vr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,nt=(t,e,n)=>(Hr(t,typeof e!="symbol"?e+"":e,n),n);class Wr extends Gn{constructor(){super(...arguments),nt(this,"ingKey","wheeling"),nt(this,"stateKey","wheel"),nt(this,"debounced",!0),nt(this,"handleEvent",e=>{if(e.ctrlKey&&"pinch"in this.controller.handlers||!this.enabled)return;this.setTimeout(this.onEnd),this.updateSharedState(Te(e));const n=Tt(Fn(e,this.transform),this.state.values);if(this.state._active)this.updateGestureState({...ie(this,e),...this.getKinematics(n,e)});else{this.updateGestureState({...ot(this,n,e),...ie(this,e,!0),initial:this.state.values});const s=this.getMovement(n),a=cr(s.delta);this.updateGestureState(s),this.updateGestureState(a)}this.fireGestureHandler()}),nt(this,"onEnd",()=>{if(this.clean(),!this.state._active)return;const e=this.getMovement(this.state.values);this.updateGestureState(e),this.updateGestureState({_active:!1,velocities:[0,0],velocity:0}),this.fireGestureHandler()})}addBindings(e){Y(e,"onWheel",this.handleEvent)}}function Kr(t,e={}){Ce.set("pinch",Ur);const n=z();return n.value||(n.value=Ht(Ar,Wt)),Yt({pinch:t},n.value(e))}function jr(t,e={}){Ce.set("wheel",Wr);const n=z();return n.value||(n.value=Ht(Pr,Wt)),Yt({wheel:t},n.value(e))}function Yr(t,e){const n=us(e),s=O(()=>{var p;return((p=l(n))==null?void 0:p.enabled)??!0}),a=z(!1),r=z([0,0]),i=z(1),o=O({set(p){return p>10?i.value=10:p<.1?i.value=.1:i.value=p,i.value},get(){return i.value}}),u=z([0,0]),d=O(()=>{var p;return(p=zt(t))==null?void 0:p.getBoundingClientRect()}),m=p=>(p=(p+1800)/1800,p<=0?.01:p),b=({wheeling:p,dragging:v,pinching:y,intentional:S,enabled:I,touches:g,ctrlKey:D,event:C})=>{const x=!I||!S?!1:v&&(g===2||"pointerType"in C&&C.pointerType==="mouse")||y||p&&!D;return a.value?requestAnimationFrame(()=>a.value=x):a.value=x,x};return Rr(({wheeling:p,dragging:v,pinching:y,touches:S,intentional:I,delta:g,ctrlKey:D,event:C})=>{b({wheeling:p,dragging:v,pinching:y,intentional:I,enabled:s.value,ctrlKey:D,touches:S,event:C})&&(r.value[0]+=g[0],r.value[1]+=g[1])},{domTarget:t,filterTaps:!0}),jr(({event:p,delta:v,wheeling:y,dragging:S,pinching:I,touches:g,intentional:D,ctrlKey:C})=>{b({dragging:S,pinching:I,wheeling:y,intentional:D,enabled:s.value,touches:g,ctrlKey:C,event:p})&&(p.preventDefault(),r.value[0]+=v[0],r.value[1]+=v[1])},{domTarget:t,eventOptions:{passive:!1}}),Kr(({offset:[p],origin:v,pinching:y,dragging:S,wheeling:I,ctrlKey:g,touches:D,intentional:C,event:x})=>{if(!b({dragging:S,pinching:y,wheeling:I,intentional:C,enabled:s.value,touches:D,ctrlKey:g,event:x}))return;const V=o.value;o.value=m(p),d.value&&(v[0]-=d.value.x,v[1]-=d.value.y,r.value[0]-=(v[0]-d.value.width/2)*(o.value-V),r.value[1]-=(v[1]-d.value.height/2)*(o.value-V)),r.value[0]-=v[0]-u.value[0],r.value[1]-=v[1]-u.value[1],u.value=v},{domTarget:t,eventOptions:{passive:!1},distanceBounds:()=>({min:-1800,max:16200})}),{offset:O(()=>[r.value[0]+u.value[0],r.value[1]+u.value[1]]),zoom:o,transformOrigin:u,active:a}}const Vn=je(()=>Yr(Mt())),Hn=je(()=>{const t=z(""),e=z(0),n=z(0);return{src:t,width:e,height:n,processFiles:a=>{if(!((a==null?void 0:a[0])instanceof File))return;const r=new FileReader;r.addEventListener("load",i=>{var o;if((o=i.target)!=null&&o.result){const u=new Image;u.onload=()=>{t.value=u.src,e.value=u.width,n.value=u.height},u.src=i.target.result.toString()}}),r.readAsDataURL(a[0])}}}),qr={class:"d-none md-d-inline-block"},Xr={class:"d-none md-d-inline-block"},Zr={key:0},Jr=oe({__name:"BoardControls",props:{info:{type:Array,required:!0}},setup(t){const{t:e}=Ke(),{lines:n}=kt(),s=Gt(n),{zoom:a,transformOrigin:r}=Vn(),i=Et(),o=Mt(),u=O(()=>{const H=zt(o);return H?H.viewBox.baseVal:{x:0,y:0,width:0,height:0}});function d(){r.value=[(u.value.width/2-(u.value.x+u.value.width/2)/2)*a.value,(u.value.height/2-(u.value.y+u.value.height/2)/2)*a.value]}function m(){d(),a.value+=.1}function b(){d(),a.value-=.1}const{toggle:p,isFullscreen:v,isSupported:y}=cs(i),{undo:S,redo:I,canUndo:g,canRedo:D}=kt(),C=O(()=>`${e("board.nav.undo")} [ctrl + z][⌘ + z]`),x=O(()=>`${e("board.nav.redo")} [ctrl + shift + z][⌘ + shift + z]`),V=z();Q(s,H=>H===void 0?V.value=void 0:V.value=H>90?180-H:H);const L=O(()=>V.value?180-V.value:void 0),{processFiles:Se}=Hn(),{files:Ie,open:Re}=ds({multiple:!1,accept:"image/*"});return fs(Ie,H=>{Se(Array.from(H))}),wn("f",p),(H,P)=>{const N=Ci,f=vi,h=We,k=Va;return $(),M("div",{class:T([H.$style.bar,"pointer-none"])},[c("div",{class:T(["pointer-all bg-bg-transparent-inverse text-inverse whitespace-nowrap",H.$style["info-box"]]),onMousemoveCapture:P[0]||(P[0]=ne(()=>{},["prevent","stop"]))},[A(N,{value:l(V)},{default:W(()=>[A(l(Wi))]),_:1},8,["value"]),A(N,{value:l(L)},{default:W(()=>[A(l(er))]),_:1},8,["value"])],34),($(!0),M(he,null,Ze(t.info,F=>($(),M("li",{key:F,class:T(["bg-bg-transparent-inverse text-inverse min-w-0",H.$style["info-box"]])},[c("small",null,U(F),1)],2))),128)),c("nav",{class:T(H.$style.nav)},[c("ul",{class:T(["pointer-all",H.$style.nav__btns])},[A(f),c("li",null,[A(h,{disabled:!l(g),tooltip:l(C),"tooltip-placement":"left",onClick:l(S),onTouchstartCapture:ne(l(S),["prevent","stop"])},{default:W(()=>[A(l(Yi))]),_:1},8,["disabled","tooltip","onClick","onTouchstartCapture"])]),c("li",null,[A(h,{disabled:!l(D),tooltip:l(x),"tooltip-placement":"left",onClick:l(I),onTouchstartCapture:ne(l(I),["prevent","stop"])},{default:W(()=>[A(l(Zi))]),_:1},8,["disabled","tooltip","onClick","onTouchstartCapture"])]),A(k,{disabled:l(g)},null,8,["disabled"]),c("li",null,[A(h,{tooltip:l(e)("board.nav.upload_file"),"tooltip-placement":"left",onClick:P[1]||(P[1]=F=>l(Re)()),onTouchstartCapture:P[2]||(P[2]=ne(()=>{},["stop"]))},{default:W(()=>[A(l(Ui))]),_:1},8,["tooltip"])]),c("li",qr,[A(h,{disabled:!l(g),tooltip:`${l(e)("board.result.zoom_out")} [-]`,"tooltip-placement":"left",onClick:P[3]||(P[3]=F=>b()),onTouchstartCapture:P[4]||(P[4]=ne(F=>b(),["prevent","stop"]))},{default:W(()=>[A(l(Li))]),_:1},8,["disabled","tooltip"])]),c("li",Xr,[A(h,{disabled:!l(g),tooltip:`${l(e)("board.result.zoom_in")} [+]`,"tooltip-placement":"left",onClick:P[5]||(P[5]=F=>m()),onTouchstartCapture:P[6]||(P[6]=ne(F=>m(),["prevent","stop"]))},{default:W(()=>[A(l(Ri))]),_:1},8,["disabled","tooltip"])]),l(y)?($(),M("li",Zr,[A(h,{tooltip:`${l(e)("board.nav.toggle_fullscreen")} [f]`,"tooltip-placement":"left",onClick:l(p),onTouchstartCapture:ne(l(p),["prevent","stop"])},{default:W(()=>[l(v)?($(),re(l(Ai),{key:0})):($(),re(l(Ii),{key:1}))]),_:1},8,["tooltip","onClick","onTouchstartCapture"])])):fe("",!0)],2)],2)],2)}}}),Qr="f_l",eo="f_m",to={bar:Qr,nav__btns:eo,"info-box":"f_n"},no={$style:to},so=Ee(Jr,[["__cssModules",no]]),ao=["x1","y1","x2","y2"],io=oe({__name:"Segment",props:{pointStart:{type:Array,default:void 0},pointStop:{type:Array,default:void 0}},setup(t){return(e,n)=>t.pointStart&&t.pointStop?($(),M("line",{key:0,x1:t.pointStart[0],y1:t.pointStart[1],x2:t.pointStop[0],y2:t.pointStop[1]},null,8,ao)):fe("",!0)}}),ro=hs((t,e,n,s)=>{if(!t||!e||!n||!s)return;t===n&&(t+=.1);const a=(e-s)/(t-n),r=s-n*a;return{slope:a,intercept:r}});function ut(t){return O(()=>ro(...t.value[0]||[],...t.value[1]||[]))}var E=function(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n},w=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)},Fe,Be,de,qe,st,pe,me,be,ge,ye,we,xe,_e,Ge,Xe,Ae,gt,Pe;const oo=function(t){var e=131,n=137,s=0;t+="x";var a=Math.floor(9007199254740991/n);for(let r=0;r<t.length;r++)s>a&&(s=Math.floor(s/n)),s=s*e+t.charCodeAt(r);return s},_="0123456789abcdef".split(""),lo=[-2147483648,8388608,32768,128],ce=[24,16,8,0],pt=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],q=[];class uo{constructor(e=!1,n=!1){Fe.set(this,void 0),Be.set(this,void 0),de.set(this,void 0),qe.set(this,void 0),st.set(this,void 0),pe.set(this,void 0),me.set(this,void 0),be.set(this,void 0),ge.set(this,void 0),ye.set(this,void 0),we.set(this,void 0),xe.set(this,void 0),_e.set(this,void 0),Ge.set(this,void 0),Xe.set(this,void 0),Ae.set(this,void 0),gt.set(this,0),Pe.set(this,void 0),this.init(e,n)}init(e,n){n?(q[0]=q[16]=q[1]=q[2]=q[3]=q[4]=q[5]=q[6]=q[7]=q[8]=q[9]=q[10]=q[11]=q[12]=q[13]=q[14]=q[15]=0,E(this,Be,q)):E(this,Be,[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),e?(E(this,pe,3238371032),E(this,me,914150663),E(this,be,812702999),E(this,ge,4144912697),E(this,ye,4290775857),E(this,we,1750603025),E(this,xe,1694076839),E(this,_e,3204075428)):(E(this,pe,1779033703),E(this,me,3144134277),E(this,be,1013904242),E(this,ge,2773480762),E(this,ye,1359893119),E(this,we,2600822924),E(this,xe,528734635),E(this,_e,1541459225)),E(this,Fe,E(this,Pe,E(this,de,E(this,Xe,0)))),E(this,qe,E(this,Ge,!1)),E(this,st,!0),E(this,Ae,e)}update(e){if(w(this,qe))return this;let n;e instanceof ArrayBuffer?n=new Uint8Array(e):n=e;let s=0;const a=n.length,r=w(this,Be);for(;s<a;){let i;if(w(this,Ge)&&(E(this,Ge,!1),r[0]=w(this,Fe),r[16]=r[1]=r[2]=r[3]=r[4]=r[5]=r[6]=r[7]=r[8]=r[9]=r[10]=r[11]=r[12]=r[13]=r[14]=r[15]=0),typeof n!="string")for(i=w(this,Pe);s<a&&i<64;++s)r[i>>2]|=n[s]<<ce[i++&3];else for(i=w(this,Pe);s<a&&i<64;++s){let o=n.charCodeAt(s);o<128?r[i>>2]|=o<<ce[i++&3]:o<2048?(r[i>>2]|=(192|o>>6)<<ce[i++&3],r[i>>2]|=(128|o&63)<<ce[i++&3]):o<55296||o>=57344?(r[i>>2]|=(224|o>>12)<<ce[i++&3],r[i>>2]|=(128|o>>6&63)<<ce[i++&3],r[i>>2]|=(128|o&63)<<ce[i++&3]):(o=65536+((o&1023)<<10|n.charCodeAt(++s)&1023),r[i>>2]|=(240|o>>18)<<ce[i++&3],r[i>>2]|=(128|o>>12&63)<<ce[i++&3],r[i>>2]|=(128|o>>6&63)<<ce[i++&3],r[i>>2]|=(128|o&63)<<ce[i++&3])}E(this,gt,i),E(this,de,w(this,de)+(i-w(this,Pe))),i>=64?(E(this,Fe,r[16]),E(this,Pe,i-64),this.hash(),E(this,Ge,!0)):E(this,Pe,i)}return w(this,de)>4294967295&&(E(this,Xe,w(this,Xe)+(w(this,de)/4294967296<<0)),E(this,de,w(this,de)%4294967296)),this}finalize(){if(w(this,qe))return;E(this,qe,!0);const e=w(this,Be),n=w(this,gt);e[16]=w(this,Fe),e[n>>2]|=lo[n&3],E(this,Fe,e[16]),n>=56&&(w(this,Ge)||this.hash(),e[0]=w(this,Fe),e[16]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=0),e[14]=w(this,Xe)<<3|w(this,de)>>>29,e[15]=w(this,de)<<3,this.hash()}hash(){let e=w(this,pe),n=w(this,me),s=w(this,be),a=w(this,ge),r=w(this,ye),i=w(this,we),o=w(this,xe),u=w(this,_e);const d=w(this,Be);let m,b,p,v,y,S,I,g,D,C;for(let x=16;x<64;++x)v=d[x-15],m=(v>>>7|v<<25)^(v>>>18|v<<14)^v>>>3,v=d[x-2],b=(v>>>17|v<<15)^(v>>>19|v<<13)^v>>>10,d[x]=d[x-16]+m+d[x-7]+b<<0;C=n&s;for(let x=0;x<64;x+=4)w(this,st)?(w(this,Ae)?(I=300032,v=d[0]-1413257819,u=v-150054599<<0,a=v+24177077<<0):(I=704751109,v=d[0]-210244248,u=v-1521486534<<0,a=v+143694565<<0),E(this,st,!1)):(m=(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10),b=(r>>>6|r<<26)^(r>>>11|r<<21)^(r>>>25|r<<7),I=e&n,p=I^e&s^C,S=r&i^~r&o,v=u+b+S+pt[x]+d[x],y=m+p,u=a+v<<0,a=v+y<<0),m=(a>>>2|a<<30)^(a>>>13|a<<19)^(a>>>22|a<<10),b=(u>>>6|u<<26)^(u>>>11|u<<21)^(u>>>25|u<<7),g=a&e,p=g^a&n^I,S=u&r^~u&i,v=o+b+S+pt[x+1]+d[x+1],y=m+p,o=s+v<<0,s=v+y<<0,m=(s>>>2|s<<30)^(s>>>13|s<<19)^(s>>>22|s<<10),b=(o>>>6|o<<26)^(o>>>11|o<<21)^(o>>>25|o<<7),D=s&a,p=D^s&e^g,S=o&u^~o&r,v=i+b+S+pt[x+2]+d[x+2],y=m+p,i=n+v<<0,n=v+y<<0,m=(n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10),b=(i>>>6|i<<26)^(i>>>11|i<<21)^(i>>>25|i<<7),C=n&s,p=C^n&a^D,S=i&o^~i&u,v=r+b+S+pt[x+3]+d[x+3],y=m+p,r=e+v<<0,e=v+y<<0;E(this,pe,w(this,pe)+e<<0),E(this,me,w(this,me)+n<<0),E(this,be,w(this,be)+s<<0),E(this,ge,w(this,ge)+a<<0),E(this,ye,w(this,ye)+r<<0),E(this,we,w(this,we)+i<<0),E(this,xe,w(this,xe)+o<<0),E(this,_e,w(this,_e)+u<<0)}hex(){this.finalize();const e=w(this,pe),n=w(this,me),s=w(this,be),a=w(this,ge),r=w(this,ye),i=w(this,we),o=w(this,xe),u=w(this,_e);let d=_[e>>28&15]+_[e>>24&15]+_[e>>20&15]+_[e>>16&15]+_[e>>12&15]+_[e>>8&15]+_[e>>4&15]+_[e&15]+_[n>>28&15]+_[n>>24&15]+_[n>>20&15]+_[n>>16&15]+_[n>>12&15]+_[n>>8&15]+_[n>>4&15]+_[n&15]+_[s>>28&15]+_[s>>24&15]+_[s>>20&15]+_[s>>16&15]+_[s>>12&15]+_[s>>8&15]+_[s>>4&15]+_[s&15]+_[a>>28&15]+_[a>>24&15]+_[a>>20&15]+_[a>>16&15]+_[a>>12&15]+_[a>>8&15]+_[a>>4&15]+_[a&15]+_[r>>28&15]+_[r>>24&15]+_[r>>20&15]+_[r>>16&15]+_[r>>12&15]+_[r>>8&15]+_[r>>4&15]+_[r&15]+_[i>>28&15]+_[i>>24&15]+_[i>>20&15]+_[i>>16&15]+_[i>>12&15]+_[i>>8&15]+_[i>>4&15]+_[i&15]+_[o>>28&15]+_[o>>24&15]+_[o>>20&15]+_[o>>16&15]+_[o>>12&15]+_[o>>8&15]+_[o>>4&15]+_[o&15];return w(this,Ae)||(d+=_[u>>28&15]+_[u>>24&15]+_[u>>20&15]+_[u>>16&15]+_[u>>12&15]+_[u>>8&15]+_[u>>4&15]+_[u&15]),d}toString(){return this.hex()}digest(){this.finalize();const e=w(this,pe),n=w(this,me),s=w(this,be),a=w(this,ge),r=w(this,ye),i=w(this,we),o=w(this,xe),u=w(this,_e),d=[e>>24&255,e>>16&255,e>>8&255,e&255,n>>24&255,n>>16&255,n>>8&255,n&255,s>>24&255,s>>16&255,s>>8&255,s&255,a>>24&255,a>>16&255,a>>8&255,a&255,r>>24&255,r>>16&255,r>>8&255,r&255,i>>24&255,i>>16&255,i>>8&255,i&255,o>>24&255,o>>16&255,o>>8&255,o&255];return w(this,Ae)||d.push(u>>24&255,u>>16&255,u>>8&255,u&255),d}array(){return this.digest()}arrayBuffer(){this.finalize();const e=new ArrayBuffer(w(this,Ae)?28:32),n=new DataView(e);return n.setUint32(0,w(this,pe)),n.setUint32(4,w(this,me)),n.setUint32(8,w(this,be)),n.setUint32(12,w(this,ge)),n.setUint32(16,w(this,ye)),n.setUint32(20,w(this,we)),n.setUint32(24,w(this,xe)),w(this,Ae)||n.setUint32(28,w(this,_e)),e}}Fe=new WeakMap,Be=new WeakMap,de=new WeakMap,qe=new WeakMap,st=new WeakMap,pe=new WeakMap,me=new WeakMap,be=new WeakMap,ge=new WeakMap,ye=new WeakMap,we=new WeakMap,xe=new WeakMap,_e=new WeakMap,Ge=new WeakMap,Xe=new WeakMap,Ae=new WeakMap,gt=new WeakMap,Pe=new WeakMap;function co(t){const e=new uo;return e.update(t),parseInt(e.hex().substring(0,8),16)}const fo=function(t){var e="#";return t.forEach(function(n){n<16&&(e+=0),e+=n.toString(16)}),e},ho=function(t,e,n){t/=360;var s=n<.5?n*(1+e):n+e-n*e,a=2*n-s;return[t+1/3,t,t-1/3].map(function(r){return r<0&&r++,r>1&&r--,r<1/6?r=a+(s-a)*6*r:r<.5?r=s:r<2/3?r=a+(s-a)*6*(2/3-r):r=a,Math.round(r*255)})};class vo{constructor(e={}){const[n,s]=[e.lightness,e.saturation].map(function(a){return a=a!==void 0?a:[.35,.5,.65],Array.isArray(a)?a.concat():[a]});this.L=n,this.S=s,typeof e.hue=="number"&&(e.hue={min:e.hue,max:e.hue}),typeof e.hue=="object"&&!Array.isArray(e.hue)&&(e.hue=[e.hue]),typeof e.hue>"u"&&(e.hue=[]),this.hueRanges=e.hue.map(function(a){return{min:typeof a.min>"u"?0:a.min,max:typeof a.max>"u"?360:a.max}}),this.hash=co,typeof e.hash=="function"&&(this.hash=e.hash),e.hash==="bkdr"&&(this.hash=oo)}hsl(e){var n,s,a,r=this.hash(e),i=727;if(this.hueRanges.length){const o=this.hueRanges[r%this.hueRanges.length];n=r/this.hueRanges.length%i*(o.max-o.min)/i+o.min}else n=r%359;return r=Math.ceil(r/360),s=this.S[r%this.S.length],r=Math.ceil(r/this.S.length),a=this.L[r%this.L.length],[n,s,a]}rgb(e){var n=this.hsl(e);return ho.apply(this,n)}hex(e){var n=this.rgb(e);return fo(n)}}const po=Array.from({length:550},(t,e)=>(e+401)/1e3),mo=Array.from({length:551},(t,e)=>(e+50)/1e3);function Ot(t){return O(()=>{const e=JSON.stringify(t.value),n=Dt.value?po:mo,[s,a,r]=new vo({lightness:n}).hsl(e);return`hsl(${[s,`${Dt.value&&r<.3||!Dt.value&&r>.7?Math.min(a+.4,1)*100:a*100}%`,`${r*100}%`].join(",")})`})}const Wn=oe({__name:"Line",props:{points:{type:Array,default:()=>[]},pathWidth:{type:Number,default:1},svgSize:{type:Object,default:void 0},svgOffset:{type:Object,default:void 0}},setup(t){const e=t,n=ut(Zt(e,"points")),s=Ot(Zt(e,"points")),a=O(()=>{var p,v,y,S;const{svgSize:i,svgOffset:o}=e;if(!i||!o||!n.value||((p=e.points[0])==null?void 0:p[0])===((v=e.points[1])==null?void 0:v[0])&&((y=e.points[0])==null?void 0:y[1])===((S=e.points[1])==null?void 0:S[1]))return;const{slope:u,intercept:d}=n.value,m=o.x,b=i.width+o.x;return[[m,u*m+d],[b,u*b+d]]}),r=O(()=>`${e.pathWidth} ${2*e.pathWidth}`);return(i,o)=>{const u=io;return $(),M(he,null,[a.value?($(),M(he,{key:0},[A(u,Ve(i.$attrs,{"stroke-width":t.pathWidth*.8,stroke:"var(--background-color-transparent)","point-start":a.value[0],"point-stop":a.value[1],"stroke-dasharray":r.value,"stroke-linecap":"round",opacity:".2"}),null,16,["stroke-width","point-start","point-stop","stroke-dasharray"]),A(u,Ve({"stroke-width":t.pathWidth*.4,stroke:l(s)},i.$attrs,{"point-start":a.value[0],"point-stop":a.value[1],"stroke-dasharray":r.value,"stroke-linecap":"round"}),null,16,["stroke-width","stroke","point-start","point-stop","stroke-dasharray"])],64)):fe("",!0),A(u,Ve(i.$attrs,{"stroke-width":t.pathWidth*1.2,stroke:"var(--background-color-transparent)","point-start":t.points[0],"point-stop":t.points[1],"stroke-linecap":"round",opacity:".3"}),null,16,["stroke-width","point-start","point-stop"]),A(u,Ve({stroke:l(s)},i.$attrs,{"stroke-linecap":"round","point-start":t.points[0],"point-stop":t.points[1]}),null,16,["stroke","point-start","point-stop"])],64)}}}),bo={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"};function go(t,e){return $(),M("svg",bo,e[0]||(e[0]=[c("path",{fill:"currentColor",d:"M24 19h-3v-3h-2v3h-3v2h3v3h2v-3h3z"},null,-1),c("path",{fill:"currentColor",d:"m31 29.586l-4.688-4.688a8.028 8.028 0 1 0-1.415 1.414L29.586 31zM20 26a6 6 0 1 1 6-6a6.007 6.007 0 0 1-6 6M4 8H2V4a2 2 0 0 1 2-2h4v2H4zm22 0h-2V4h-4V2h4a2 2 0 0 1 2 2zM12 2h4v2h-4zM8 26H4a2 2 0 0 1-2-2v-4h2v4h4zM2 12h2v4H2z"},null,-1)]))}const yo=X({name:"carbon-zoom-in-area",render:go}),wo={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"};function xo(t,e){return $(),M("svg",wo,e[0]||(e[0]=[c("path",{fill:"currentColor",d:"M16 19h8v2h-8z"},null,-1),c("path",{fill:"currentColor",d:"m31 29.586l-4.688-4.688a8.028 8.028 0 1 0-1.415 1.414L29.586 31zM20 26a6 6 0 1 1 6-6a6.007 6.007 0 0 1-6 6M4 8H2V4a2 2 0 0 1 2-2h4v2H4zm22 0h-2V4h-4V2h4a2 2 0 0 1 2 2zM12 2h4v2h-4zM8 26H4a2 2 0 0 1-2-2v-4h2v4h4zM2 12h2v4H2z"},null,-1)]))}const _o=X({name:"carbon-zoom-out-area",render:xo});var ke=(t=>(t[t.UP=0]="UP",t[t.DOWN=1]="DOWN",t[t.LEFT=2]="LEFT",t[t.RIGHT=3]="RIGHT",t))(ke||{});const Kn=je(()=>{const t=z(!1);return{outOfBoundLabels:t,setOutBoundLabels(e,n,s){const a={x:30,y:4.5},r=e.find(({x:u,y:d})=>(u-=s.x,d-=s.y,u<a.x||u>n.width-a.x||d<a.y+3||d>n.height-a.y));if(!r)return t.value=!1;let{x:i,y:o}=r;return i-=s.x,o-=s.y,i<a.x?t.value={direction:2,y:o}:i>n.width-a.x?t.value={direction:3,y:o}:o<a.y+3?t.value={direction:0,x:i}:t.value={direction:1,x:i}}}});function jn(t,e){return O(()=>{if(!t.value||!e.value)return;const{slope:n,intercept:s}=t.value,{slope:a,intercept:r}=e.value;let i;return n===a?i=r-s:i=(s-r)/(a-n),{x:i,y:n*i+s}})}function Yn(t,e,n,s){return O(()=>{if(!e.value||!n.value||!s.value||!t.value)return;const a=n.value,r=s.value;let i=Math.tan((Math.atan(a.slope)+Math.atan(r.slope))/2),o=-1/i,u=a.slope*e.value.x+a.intercept-i*e.value.x,d=a.slope*e.value.x+a.intercept-o*e.value.x;const m=En([[[0,a.intercept],[e.value.x,a.slope*e.value.x+a.intercept]],[[0,u],[e.value.x,i*e.value.x+u]]])*2;return(m-1>t.value||m+1<t.value)&&([i,u,o,d]=[o,d,i,u]),{acute:{slope:i,intercept:u},obtuse:{slope:o,intercept:d}}})}function qn(t,e,n){const s=z([]);return vs([e,n,t],()=>{if(!e.value||!n.value||!t.value)return s.value=[];const{acute:{slope:a,intercept:r},obtuse:{slope:i,intercept:o}}=n.value,u=70,d=t.value,m=Math.cos(Math.atan(a))*(u+(90-d)*.4)+e.value.x,b=180-d,p=-Math.cos(Math.atan(i))*(u+(90-b)*.4)+e.value.x;s.value=[{x:m,y:a*m+r,value:d},{x:p,y:i*p+o,value:b}]},{throttle:20,immediate:!0}),s}function gn(t,e){return O(()=>{if(!e.value||!t.value)return;const{slope:n,intercept:s}=t.value,{x1:a,x2:r}=e.value;return[[a,n*a+s],[r,n*r+s]]})}const So=["viewBox"],ko=["transform"],$o=["x","y"],To=oe({__name:"BoardResult",setup(t){const{t:e}=Ke(),n=z(!1);function s(){n.value&&(n.value=!1)}const a=z();ps(a,s),wn("Escape",s);const{height:r,width:i}=Lt(Et()),o=O(()=>({width:300,height:300*r.value/i.value})),{outOfBoundLabels:u}=Kn(),d=O(()=>{const P=n.value?260:50;return{width:P,height:P}}),m=O(()=>({minY:d.value.height,maxY:r.value-d.value.height,minX:d.value.width,maxX:i.value-d.value.width})),b=O(()=>{const{minX:P,maxX:N,minY:f,maxY:h}=m.value,k=B=>B>h?h:B<f?f:B,F=B=>B>N?N:B<P?P:B;if(!u.value)return;const R={height:`${d.value.height}px`,width:`${d.value.width}px`};switch(u.value.direction){case ke.DOWN:return{...R,bottom:"1rem",left:`${F(u.value.x)}px`,transform:"translateX(-50%)"};case ke.UP:return{...R,top:"1rem",left:`${F(u.value.x)}px`,transform:"translateX(-50%)"};case ke.LEFT:return{...R,top:`${k(u.value.y)}px`,left:"1rem",transform:"translateY(-50%)"};case ke.RIGHT:return{...R,top:`${k(u.value.y)}px`,right:"1rem",transform:"translateY(-50%)"}}}),{lines:p}=kt(),v=Gt(p),y=O(()=>p.value[0]||[]),S=O(()=>p.value[1]||[]),I=ut(y),g=ut(S),D=jn(I,g),C=Yn(v,D,I,g),x=qn(v,D,C),V=O(()=>D.value&&{x1:D.value.x-o.value.width,x2:D.value.x+o.value.width}),L=gn(I,V),Se=gn(g,V),Ie=Ot(y),Re=Ot(S),H={[ke.UP]:"bottom",[ke.DOWN]:void 0,[ke.LEFT]:"right",[ke.RIGHT]:"left"};return(P,N)=>{const f=We,h=Wn;return l(I)&&l(g)&&l(D)&&l(u)?($(),M("section",{key:0,ref_key:"el",ref:a,class:T(["bg-bg-transparent-inverse text-inverse",[P.$style.result,{[P.$style["result--open"]]:l(n)}]]),style:mt(l(b)),onMousemove:N[0]||(N[0]=ne(()=>{},["prevent","stop"])),onClick:N[1]||(N[1]=k=>n.value=!l(n))},[A(f,{class:T(P.$style.btn),tooltip:l(n)?l(e)("board.result.zoom_out"):l(e)("board.result.zoom_in"),"tooltip-placement":l(n)?"left":H[l(u).direction]},{default:W(()=>[($(),re(ms(l(n)?l(_o):l(yo))))]),_:1},8,["class","tooltip","tooltip-placement"]),($(),M("svg",{viewBox:`${l(o).width*.1} ${l(o).height*.1} ${l(o).width*.8} ${l(o).height*.8}`,class:T(P.$style.svg)},[c("g",{transform:`translate(${-l(D).x+l(o).width*.5} ${-l(D).y+l(o).height*.5})`},[l(L)?($(),re(h,Ve({key:0,"stroke-width":"4","stroke-linecap":"round"},P.$attrs,{stroke:l(Ie),"path-width":4,points:l(L),"stroke-dasharray":"5 10",filter:"saturate(2.5)"}),null,16,["stroke","points"])):fe("",!0),l(Se)?($(),re(h,Ve({key:1,"stroke-width":"4","stroke-linecap":"round"},P.$attrs,{stroke:l(Re),"path-width":4,points:l(Se),"stroke-dasharray":"5 10",filter:"saturate(2.5)"}),null,16,["stroke","points"])):fe("",!0),($(!0),M(he,null,Ze(l(x),k=>($(),M("text",{key:`${k.x}|${k.y}`,x:k.x,y:k.y,"text-anchor":"middle","dominant-baseline":"middle",stroke:"transparent"},U(k.value.toFixed(3))+"° ",9,$o))),128))],8,ko)],10,So))],38)):fe("",!0)}}}),Co="f_o",Mo="f_q",Eo="f_r",Io={result:Co,"result--open":"f_p",svg:Mo,btn:Eo},Do={$style:Io},Fo=Ee(To,[["__cssModules",Do]]),Ao=["viewBox","stroke-width"],Po=["cx","cy","r"],No=["x","y","stroke-width"],Ro=["x","y"],Oo=oe({__name:"BoardSvg",props:{width:{type:Number,default:0},height:{type:Number,default:0}},emits:["pressed"],setup(t,{emit:e}){const n=t,s=e,{width:a,height:r}=yn(n),i=Mt(),o=z(!1),{ctrl:u,meta:d,option:m}=Bt(),b=O(()=>{if(d.value)return"move"}),{offset:p,active:v,zoom:y,transformOrigin:S}=Vn(),I=O(()=>5/y.value),g=O(()=>({width:a.value/y.value,height:r.value/y.value})),D=O(()=>({x:-p.value[0]/y.value,y:-p.value[1]/y.value})),{elementX:C,elementY:x}=bs(i,{handleOutside:!1}),V=O(()=>(C.value-p.value[0])/y.value),L=O(()=>(x.value-p.value[1])/y.value),{undo:Se,redo:Ie}=yt(C),{undo:Re,redo:H}=yt(x),{lines:P,predictNextPoint:N,drawNextPoint:f,step:h,registerOnRedo:k,registerOnUndo:F}=kt();k(()=>{Ie(),H()}),F(()=>{Se(),Re()}),Q([V,L],([ue,J])=>{h.value===2&&N(ue,J)});const R=Gt(P),B=O(()=>P.value[0]||[]),G=O(()=>P.value[1]||[]),K=ut(B),j=ut(G),ve=jn(K,j),Oe=Yn(R,ve,K,j),le=qn(R,ve,Oe),{setOutBoundLabels:ze}=Kn();Q([le,g,D],([ue,J,Le])=>ze(ue,J,Le)),Q([a,r],([ue,J],[Le,ae])=>{S.value=[S.value[0]+(ue-Le)/2,S.value[1]+(J-ae)/2]});function Je(){v.value||(f(V.value,L.value),s("pressed"))}return(ue,J)=>{const Le=Wn;return $(),M("svg",{ref_key:"svgRef",ref:i,viewBox:`${l(D).x} ${l(D).y} ${l(g).width} ${l(g).height}`,"stroke-width":l(I),tabindex:"0",style:mt({cursor:l(b)}),onTouchend:ne(Je,["prevent"]),onMouseup:ne(Je,["left","prevent"]),onMousedownOnce:J[0]||(J[0]=ne(ae=>o.value=!0,["left"])),onMousemovePassiveOnce:J[1]||(J[1]=ae=>o.value=!0),onTouchstartPassiveOnce:J[2]||(J[2]=ae=>o.value=!0)},[at(ue.$slots,"default"),l(h)%2?De(($(),M("circle",{key:0,cx:`${l(V)}px`,cy:`${l(L)}px`,r:l(I),"stroke-width":1},null,8,Po)),[[gs,l(o)&&!l(u)&&!l(d)&&!l(m)]]):($(),re(Le,{key:1,points:[l(P)[Math.floor(l(h)/2)][0],[l(V),l(L)]],"svg-size":l(g),"svg-offset":l(D),"path-width":l(I)},null,8,["points","svg-size","svg-offset","path-width"])),A(Le,{points:l(P)[0],"svg-size":l(g),"svg-offset":l(D),"path-width":l(I)},null,8,["points","svg-size","svg-offset","path-width"]),A(Le,{points:l(P)[1],"svg-size":l(g),"svg-offset":l(D),"path-width":l(I)},null,8,["points","svg-size","svg-offset","path-width"]),($(!0),M(he,null,Ze(l(le),ae=>($(),M(he,{key:`${ae.x}|${ae.y}`},[c("text",{x:ae.x,y:ae.y,"text-anchor":"middle","dominant-baseline":"middle",stroke:"var(--background-color-transparent)","stroke-width":l(I),style:mt(`font-size:${l(I)/5}em`)},U(ae.value.toFixed(3))+"° ",13,No),c("text",{x:ae.x,y:ae.y,"text-anchor":"middle","dominant-baseline":"middle",stroke:"transparent",style:mt(`font-size:${l(I)/5}em`)},U(ae.value.toFixed(3))+"° ",13,Ro)],64))),128))],44,Ao)}}}),zo=["href","x","y","height","width"],Lo=oe({__name:"Board",setup(t){const{t:e}=Ke(),n=z(!0),s=Et(),{height:a,width:r}=Lt(s),{src:i,width:o,height:u,processFiles:d}=Hn(),m=z(0),b=z(0);Q(i,()=>{if(u&&o)if(o.value>r.value||u.value>a.value){const y=Math.min(r.value/o.value,a.value/u.value);m.value=u.value*y,b.value=o.value*y}else m.value=u.value,b.value=o.value});const{isOverDropZone:p}=ys(s,d),v=O(()=>p.value?[e("board.drop_file_here")]:[]);return(y,S)=>{const I=Oo,g=Fo,D=so;return $(),M("div",{ref_key:"boardRef",ref:s,class:T(y.$style.board)},[A(I,{class:T(y.$style.board__svg),width:l(r),height:l(a),onPressed:S[0]||(S[0]=C=>n.value=!1)},{default:W(()=>[l(i)?($(),M("image",{key:0,href:l(i),x:l(b)/-2,y:l(m)/-2,height:`${l(m)}`,width:`${l(b)}`},null,8,zo)):fe("",!0)]),_:1},8,["class","width","height"]),l(n)&&!l(i)?($(),M("div",{key:0,class:T(y.$style.board__hint)},U(l(e)("board.click_this_button_or_drop")),3)):fe("",!0),A(g),A(D,{class:T(y.$style.board__nav),info:l(v),"onUpdate:files":l(d)},null,8,["class","info","onUpdate:files"])],2)}}}),Bo="f_g",Go="f_h",Uo="f_i",Vo="f_j",Ho={board:Bo,board__svg:Go,board__nav:Uo,board__hint:Vo},Wo={$style:Ho},Ko=Ee(Lo,[["__cssModules",Wo]]),jo={};function Yo(t,e){const n=Ko;return $(),re(n,{class:"flex-grow"})}const Jo=Ee(jo,[["render",Yo]]);export{Jo as default};
