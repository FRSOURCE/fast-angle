import{_ as Wt,I as Zn}from"./Button-EcG005Zg.js";import{d as ot,I as z,A as Q,J as Le,K as Jn,L as Qn,u as Kt,c as rt,D as ft,o as k,T as ts,b as A,g as l,w as W,a as c,M as Vt,p as nt,C as ae,t as U,n as T,f as et,N as jt,i as O,m as X,e as M,O as es,P as ns,Q as he,R as wn,q as Dt,S as Qt,s as $t,v as Xe,F as ht,x as Zt,U as Be,V as Ge,r as ss,h as as,l as Ze,W as is,X as we,Y as rs,Z as os,$ as ls,a0 as us,a1 as cs,a2 as ds,a3 as fs,a4 as hs,a5 as _n,a6 as vs,z as Fe,a7 as Je,a8 as ps,a9 as ms,aa as be,ab as bs,ac as gs,ad as ys,ae as ws}from"./app--bd9qSQ1.js";import{_ as Et}from"./_plugin-vue_export-helper-DlAUqK2U.js";/*!
* tabbable 6.3.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var xn=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],_e=xn.join(","),Sn=typeof Element>"u",Ht=Sn?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,xe=!Sn&&Element.prototype.getRootNode?function(n){var t;return n==null||(t=n.getRootNode)===null||t===void 0?void 0:t.call(n)}:function(n){return n?.ownerDocument},le=function(t,e){var s;e===void 0&&(e=!0);var a=t==null||(s=t.getAttribute)===null||s===void 0?void 0:s.call(t,"inert"),r=a===""||a==="true",i=r||e&&t&&le(t.parentNode);return i},_s=function(t){var e,s=t==null||(e=t.getAttribute)===null||e===void 0?void 0:e.call(t,"contenteditable");return s===""||s==="true"},kn=function(t,e,s){if(le(t))return[];var a=Array.prototype.slice.apply(t.querySelectorAll(_e));return e&&Ht.call(t,_e)&&a.unshift(t),a=a.filter(s),a},Se=function(t,e,s){for(var a=[],r=Array.from(t);r.length;){var i=r.shift();if(!le(i,!1))if(i.tagName==="SLOT"){var o=i.assignedElements(),u=o.length?o:i.children,d=Se(u,!0,s);s.flatten?a.push.apply(a,d):a.push({scopeParent:i,candidates:d})}else{var v=Ht.call(i,_e);v&&s.filter(i)&&(e||!t.includes(i))&&a.push(i);var m=i.shadowRoot||typeof s.getShadowRoot=="function"&&s.getShadowRoot(i),b=!le(m,!1)&&(!s.shadowRootFilter||s.shadowRootFilter(i));if(m&&b){var p=Se(m===!0?i.children:m.children,!0,s);s.flatten?a.push.apply(a,p):a.push({scopeParent:i,candidates:p})}else r.unshift.apply(r,i.children)}}return a},$n=function(t){return!isNaN(parseInt(t.getAttribute("tabindex"),10))},Ut=function(t){if(!t)throw new Error("No node provided");return t.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName)||_s(t))&&!$n(t)?0:t.tabIndex},xs=function(t,e){var s=Ut(t);return s<0&&e&&!$n(t)?0:s},Ss=function(t,e){return t.tabIndex===e.tabIndex?t.documentOrder-e.documentOrder:t.tabIndex-e.tabIndex},Tn=function(t){return t.tagName==="INPUT"},ks=function(t){return Tn(t)&&t.type==="hidden"},$s=function(t){var e=t.tagName==="DETAILS"&&Array.prototype.slice.apply(t.children).some(function(s){return s.tagName==="SUMMARY"});return e},Ts=function(t,e){for(var s=0;s<t.length;s++)if(t[s].checked&&t[s].form===e)return t[s]},Cs=function(t){if(!t.name)return!0;var e=t.form||xe(t),s=function(o){return e.querySelectorAll('input[type="radio"][name="'+o+'"]')},a;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")a=s(window.CSS.escape(t.name));else try{a=s(t.name)}catch(i){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",i.message),!1}var r=Ts(a,t.form);return!r||r===t},Ms=function(t){return Tn(t)&&t.type==="radio"},Es=function(t){return Ms(t)&&!Cs(t)},Is=function(t){var e,s=t&&xe(t),a=(e=s)===null||e===void 0?void 0:e.host,r=!1;if(s&&s!==t){var i,o,u;for(r=!!((i=a)!==null&&i!==void 0&&(o=i.ownerDocument)!==null&&o!==void 0&&o.contains(a)||t!=null&&(u=t.ownerDocument)!==null&&u!==void 0&&u.contains(t));!r&&a;){var d,v,m;s=xe(a),a=(d=s)===null||d===void 0?void 0:d.host,r=!!((v=a)!==null&&v!==void 0&&(m=v.ownerDocument)!==null&&m!==void 0&&m.contains(a))}}return r},Qe=function(t){var e=t.getBoundingClientRect(),s=e.width,a=e.height;return s===0&&a===0},Ds=function(t,e){var s=e.displayCheck,a=e.getShadowRoot;if(s==="full-native"&&"checkVisibility"in t){var r=t.checkVisibility({checkOpacity:!1,opacityProperty:!1,contentVisibilityAuto:!0,visibilityProperty:!0,checkVisibilityCSS:!0});return!r}if(getComputedStyle(t).visibility==="hidden")return!0;var i=Ht.call(t,"details>summary:first-of-type"),o=i?t.parentElement:t;if(Ht.call(o,"details:not([open]) *"))return!0;if(!s||s==="full"||s==="full-native"||s==="legacy-full"){if(typeof a=="function"){for(var u=t;t;){var d=t.parentElement,v=xe(t);if(d&&!d.shadowRoot&&a(d)===!0)return Qe(t);t.assignedSlot?t=t.assignedSlot:!d&&v!==t.ownerDocument?t=v.host:t=d}t=u}if(Is(t))return!t.getClientRects().length;if(s!=="legacy-full")return!0}else if(s==="non-zero-area")return Qe(t);return!1},Fs=function(t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))for(var e=t.parentElement;e;){if(e.tagName==="FIELDSET"&&e.disabled){for(var s=0;s<e.children.length;s++){var a=e.children.item(s);if(a.tagName==="LEGEND")return Ht.call(e,"fieldset[disabled] *")?!0:!a.contains(t)}return!0}e=e.parentElement}return!1},ke=function(t,e){return!(e.disabled||le(e)||ks(e)||Ds(e,t)||$s(e)||Fs(e))},Ne=function(t,e){return!(Es(e)||Ut(e)<0||!ke(t,e))},As=function(t){var e=parseInt(t.getAttribute("tabindex"),10);return!!(isNaN(e)||e>=0)},Cn=function(t){var e=[],s=[];return t.forEach(function(a,r){var i=!!a.scopeParent,o=i?a.scopeParent:a,u=xs(o,i),d=i?Cn(a.candidates):o;u===0?i?e.push.apply(e,d):e.push(o):s.push({documentOrder:r,tabIndex:u,item:a,isScope:i,content:d})}),s.sort(Ss).reduce(function(a,r){return r.isScope?a.push.apply(a,r.content):a.push(r.content),a},[]).concat(e)},Ps=function(t,e){e=e||{};var s;return e.getShadowRoot?s=Se([t],e.includeContainer,{filter:Ne.bind(null,e),flatten:!1,getShadowRoot:e.getShadowRoot,shadowRootFilter:As}):s=kn(t,e.includeContainer,Ne.bind(null,e)),Cn(s)},Ns=function(t,e){e=e||{};var s;return e.getShadowRoot?s=Se([t],e.includeContainer,{filter:ke.bind(null,e),flatten:!0,getShadowRoot:e.getShadowRoot}):s=kn(t,e.includeContainer,ke.bind(null,e)),s},Yt=function(t,e){if(e=e||{},!t)throw new Error("No node provided");return Ht.call(t,_e)===!1?!1:Ne(e,t)},Rs=xn.concat("iframe").join(","),Ae=function(t,e){if(e=e||{},!t)throw new Error("No node provided");return Ht.call(t,Rs)===!1?!1:ke(e,t)};/*!
* focus-trap 7.6.6
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function Re(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,s=Array(t);e<t;e++)s[e]=n[e];return s}function Os(n){if(Array.isArray(n))return Re(n)}function zs(n,t,e){return(t=Vs(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Ls(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Bs(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tn(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),e.push.apply(e,s)}return e}function en(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?tn(Object(e),!0).forEach(function(s){zs(n,s,e[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):tn(Object(e)).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(e,s))})}return n}function Gs(n){return Os(n)||Ls(n)||Hs(n)||Bs()}function Us(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var s=e.call(n,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function Vs(n){var t=Us(n,"string");return typeof t=="symbol"?t:t+""}function Hs(n,t){if(n){if(typeof n=="string")return Re(n,t);var e={}.toString.call(n).slice(8,-1);return e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set"?Array.from(n):e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?Re(n,t):void 0}}var nn={activateTrap:function(t,e){if(t.length>0){var s=t[t.length-1];s!==e&&s._setPausedState(!0)}var a=t.indexOf(e);a===-1||t.splice(a,1),t.push(e)},deactivateTrap:function(t,e){var s=t.indexOf(e);s!==-1&&t.splice(s,1),t.length>0&&!t[t.length-1]._isManuallyPaused()&&t[t.length-1]._setPausedState(!1)}},Ws=function(t){return t.tagName&&t.tagName.toLowerCase()==="input"&&typeof t.select=="function"},Ks=function(t){return t?.key==="Escape"||t?.key==="Esc"||t?.keyCode===27},ie=function(t){return t?.key==="Tab"||t?.keyCode===9},js=function(t){return ie(t)&&!t.shiftKey},Ys=function(t){return ie(t)&&t.shiftKey},sn=function(t){return setTimeout(t,0)},te=function(t){for(var e=arguments.length,s=new Array(e>1?e-1:0),a=1;a<e;a++)s[a-1]=arguments[a];return typeof t=="function"?t.apply(void 0,s):t},ve=function(t){return t.target.shadowRoot&&typeof t.composedPath=="function"?t.composedPath()[0]:t.target},qs=[],Xs=function(t,e){var s=e?.document||document,a=e?.trapStack||qs,r=en({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:js,isKeyBackward:Ys},e),i={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,manuallyPaused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},o,u=function(f,h,S){return f&&f[h]!==void 0?f[h]:r[S||h]},d=function(f,h){var S=typeof h?.composedPath=="function"?h.composedPath():void 0;return i.containerGroups.findIndex(function(F){var R=F.container,B=F.tabbableNodes;return R.contains(f)||S?.includes(R)||B.find(function(G){return G===f})})},v=function(f){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},S=h.hasFallback,F=S===void 0?!1:S,R=h.params,B=R===void 0?[]:R,G=r[f];if(typeof G=="function"&&(G=G.apply(void 0,Gs(B))),G===!0&&(G=void 0),!G){if(G===void 0||G===!1)return G;throw new Error("`".concat(f,"` was specified but was not a node, or did not return a node"))}var K=G;if(typeof G=="string"){try{K=s.querySelector(G)}catch(j){throw new Error("`".concat(f,'` appears to be an invalid selector; error="').concat(j.message,'"'))}if(!K&&!F)throw new Error("`".concat(f,"` as selector refers to no known node"))}return K},m=function(){var f=v("initialFocus",{hasFallback:!0});if(f===!1)return!1;if(f===void 0||f&&!Ae(f,r.tabbableOptions))if(d(s.activeElement)>=0)f=s.activeElement;else{var h=i.tabbableGroups[0],S=h&&h.firstTabbableNode;f=S||v("fallbackFocus")}else f===null&&(f=v("fallbackFocus"));if(!f)throw new Error("Your focus-trap needs to have at least one focusable element");return f},b=function(){if(i.containerGroups=i.containers.map(function(f){var h=Ps(f,r.tabbableOptions),S=Ns(f,r.tabbableOptions),F=h.length>0?h[0]:void 0,R=h.length>0?h[h.length-1]:void 0,B=S.find(function(j){return Yt(j)}),G=S.slice().reverse().find(function(j){return Yt(j)}),K=!!h.find(function(j){return Ut(j)>0});return{container:f,tabbableNodes:h,focusableNodes:S,posTabIndexesFound:K,firstTabbableNode:F,lastTabbableNode:R,firstDomTabbableNode:B,lastDomTabbableNode:G,nextTabbableNode:function(vt){var Ot=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,lt=h.indexOf(vt);return lt<0?Ot?S.slice(S.indexOf(vt)+1).find(function(zt){return Yt(zt)}):S.slice(0,S.indexOf(vt)).reverse().find(function(zt){return Yt(zt)}):h[lt+(Ot?1:-1)]}}}),i.tabbableGroups=i.containerGroups.filter(function(f){return f.tabbableNodes.length>0}),i.tabbableGroups.length<=0&&!v("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(i.containerGroups.find(function(f){return f.posTabIndexesFound})&&i.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},p=function(f){var h=f.activeElement;if(h)return h.shadowRoot&&h.shadowRoot.activeElement!==null?p(h.shadowRoot):h},y=function(f){if(f!==!1&&f!==p(document)){if(!f||!f.focus){y(m());return}f.focus({preventScroll:!!r.preventScroll}),i.mostRecentlyFocusedNode=f,Ws(f)&&f.select()}},$=function(f){var h=v("setReturnFocus",{params:[f]});return h||(h===!1?!1:f)},I=function(f){var h=f.target,S=f.event,F=f.isBackward,R=F===void 0?!1:F;h=h||ve(S),b();var B=null;if(i.tabbableGroups.length>0){var G=d(h,S),K=G>=0?i.containerGroups[G]:void 0;if(G<0)R?B=i.tabbableGroups[i.tabbableGroups.length-1].lastTabbableNode:B=i.tabbableGroups[0].firstTabbableNode;else if(R){var j=i.tabbableGroups.findIndex(function(ut){var J=ut.firstTabbableNode;return h===J});if(j<0&&(K.container===h||Ae(h,r.tabbableOptions)&&!Yt(h,r.tabbableOptions)&&!K.nextTabbableNode(h,!1))&&(j=G),j>=0){var vt=j===0?i.tabbableGroups.length-1:j-1,Ot=i.tabbableGroups[vt];B=Ut(h)>=0?Ot.lastTabbableNode:Ot.lastDomTabbableNode}else ie(S)||(B=K.nextTabbableNode(h,!1))}else{var lt=i.tabbableGroups.findIndex(function(ut){var J=ut.lastTabbableNode;return h===J});if(lt<0&&(K.container===h||Ae(h,r.tabbableOptions)&&!Yt(h,r.tabbableOptions)&&!K.nextTabbableNode(h))&&(lt=G),lt>=0){var zt=lt===i.tabbableGroups.length-1?0:lt+1,Jt=i.tabbableGroups[zt];B=Ut(h)>=0?Jt.firstTabbableNode:Jt.firstDomTabbableNode}else ie(S)||(B=K.nextTabbableNode(h))}}else B=v("fallbackFocus");return B},g=function(f){var h=ve(f);if(!(d(h,f)>=0)){if(te(r.clickOutsideDeactivates,f)){o.deactivate({returnFocus:r.returnFocusOnDeactivate});return}te(r.allowOutsideClick,f)||f.preventDefault()}},D=function(f){var h=ve(f),S=d(h,f)>=0;if(S||h instanceof Document)S&&(i.mostRecentlyFocusedNode=h);else{f.stopImmediatePropagation();var F,R=!0;if(i.mostRecentlyFocusedNode)if(Ut(i.mostRecentlyFocusedNode)>0){var B=d(i.mostRecentlyFocusedNode),G=i.containerGroups[B].tabbableNodes;if(G.length>0){var K=G.findIndex(function(j){return j===i.mostRecentlyFocusedNode});K>=0&&(r.isKeyForward(i.recentNavEvent)?K+1<G.length&&(F=G[K+1],R=!1):K-1>=0&&(F=G[K-1],R=!1))}}else i.containerGroups.some(function(j){return j.tabbableNodes.some(function(vt){return Ut(vt)>0})})||(R=!1);else R=!1;R&&(F=I({target:i.mostRecentlyFocusedNode,isBackward:r.isKeyBackward(i.recentNavEvent)})),y(F||i.mostRecentlyFocusedNode||m())}i.recentNavEvent=void 0},C=function(f){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;i.recentNavEvent=f;var S=I({event:f,isBackward:h});S&&(ie(f)&&f.preventDefault(),y(S))},_=function(f){(r.isKeyForward(f)||r.isKeyBackward(f))&&C(f,r.isKeyBackward(f))},V=function(f){Ks(f)&&te(r.escapeDeactivates,f)!==!1&&(f.preventDefault(),o.deactivate())},L=function(f){var h=ve(f);d(h,f)>=0||te(r.clickOutsideDeactivates,f)||te(r.allowOutsideClick,f)||(f.preventDefault(),f.stopImmediatePropagation())},St=function(){if(i.active)return nn.activateTrap(a,o),i.delayInitialFocusTimer=r.delayInitialFocus?sn(function(){y(m())}):y(m()),s.addEventListener("focusin",D,!0),s.addEventListener("mousedown",g,{capture:!0,passive:!1}),s.addEventListener("touchstart",g,{capture:!0,passive:!1}),s.addEventListener("click",L,{capture:!0,passive:!1}),s.addEventListener("keydown",_,{capture:!0,passive:!1}),s.addEventListener("keydown",V),o},It=function(){if(i.active)return s.removeEventListener("focusin",D,!0),s.removeEventListener("mousedown",g,!0),s.removeEventListener("touchstart",g,!0),s.removeEventListener("click",L,!0),s.removeEventListener("keydown",_,!0),s.removeEventListener("keydown",V),o},Rt=function(f){var h=f.some(function(S){var F=Array.from(S.removedNodes);return F.some(function(R){return R===i.mostRecentlyFocusedNode})});h&&y(m())},H=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(Rt):void 0,P=function(){H&&(H.disconnect(),i.active&&!i.paused&&i.containers.map(function(f){H.observe(f,{subtree:!0,childList:!0})}))};return o={get active(){return i.active},get paused(){return i.paused},activate:function(f){if(i.active)return this;var h=u(f,"onActivate"),S=u(f,"onPostActivate"),F=u(f,"checkCanFocusTrap");F||b(),i.active=!0,i.paused=!1,i.nodeFocusedBeforeActivation=p(s),h?.();var R=function(){F&&b(),St(),P(),S?.()};return F?(F(i.containers.concat()).then(R,R),this):(R(),this)},deactivate:function(f){if(!i.active)return this;var h=en({onDeactivate:r.onDeactivate,onPostDeactivate:r.onPostDeactivate,checkCanReturnFocus:r.checkCanReturnFocus},f);clearTimeout(i.delayInitialFocusTimer),i.delayInitialFocusTimer=void 0,It(),i.active=!1,i.paused=!1,P(),nn.deactivateTrap(a,o);var S=u(h,"onDeactivate"),F=u(h,"onPostDeactivate"),R=u(h,"checkCanReturnFocus"),B=u(h,"returnFocus","returnFocusOnDeactivate");S?.();var G=function(){sn(function(){B&&y($(i.nodeFocusedBeforeActivation)),F?.()})};return B&&R?(R($(i.nodeFocusedBeforeActivation)).then(G,G),this):(G(),this)},pause:function(f){return i.active?(i.manuallyPaused=!0,this._setPausedState(!0,f)):this},unpause:function(f){return i.active?(i.manuallyPaused=!1,a[a.length-1]!==this?this:this._setPausedState(!1,f)):this},updateContainerElements:function(f){var h=[].concat(f).filter(Boolean);return i.containers=h.map(function(S){return typeof S=="string"?s.querySelector(S):S}),i.active&&b(),P(),this}},Object.defineProperties(o,{_isManuallyPaused:{value:function(){return i.manuallyPaused}},_setPausedState:{value:function(f,h){if(i.paused===f)return this;if(i.paused=f,f){var S=u(h,"onPause"),F=u(h,"onPostPause");S?.(),It(),P(),F?.()}else{var R=u(h,"onUnpause"),B=u(h,"onPostUnpause");R?.(),b(),St(),P(),B?.()}return this}}}),o.updateContainerElements(t),o};const Zs=ot({name:"UseFocusTrap",props:["as","options"],setup(n,{slots:t}){let e;const s=z(),a=()=>e&&e.activate(),r=()=>e&&e.deactivate();return Q(()=>Le(s),i=>{i&&(e=Xs(i,n.options||{}),a())},{flush:"post"}),Jn(()=>r()),()=>{if(t.default)return Qn(n.as||"div",{ref:s},t.default())}}}),Js=["textContent"],Qs={inheritAttrs:!1},ta=ot({...Qs,__name:"Modal",props:{heading:{type:String,required:!0},modelValue:{type:Boolean,required:!0}},emits:["update:modelValue"],setup(n,{emit:t}){const e=t,{t:s}=Kt(),a=z(),r=()=>e("update:modelValue",!1);return Q(a,i=>{i?.showModal()}),(i,o)=>{const u=Wt;return n.modelValue?(k(),rt(ts,{key:0,to:"body"},[A(l(Zs),{options:{immediate:!0,initialFocus:!1}},{default:W(()=>[c("dialog",{ref_key:"dialog",ref:a,"aria-modal":"",onClick:r,onClose:r},[c("article",Vt({class:i.$style.content},i.$attrs,{onClick:o[0]||(o[0]=nt(()=>{},["stop"]))}),[c("h3",{textContent:U(n.heading)},null,8,Js),ae(i.$slots,"default"),c("footer",{class:T(i.$style.footer)},[ae(i.$slots,"footer-pre"),A(u,{onClick:r,class:"outline"},{default:W(()=>[et(U(l(s)("main.close")),1)]),_:1}),ae(i.$slots,"footer")],2)],16)],544)]),_:3})])):ft("",!0)}}}),ea="f_ad",na="f_ae",sa="f_af",aa={content:ea,spacer:na,footer:sa},ia={$style:aa},Mn=Et(ta,[["__cssModules",ia]]),Ee=jt(()=>z());function ra(n,t){const e=new MouseEvent("click",{view:window,bubbles:!1,cancelable:!0}),s=document.createElement("a");s.setAttribute("download",t),s.setAttribute("href",n),s.setAttribute("target","_blank"),s.dispatchEvent(e)}async function oa(n,t){const e=new XMLSerializer().serializeToString(n),s=new Blob([e],{type:"image/svg+xml;charset=utf-8"}),a=new Image,r=URL.createObjectURL(s);await new Promise((i,o)=>{a.onload=function(){t.drawImage(a,0,0),URL.revokeObjectURL(r),i()},a.onabort=a.onerror=()=>o(),a.src=r})}const re={JPG:1,PNG:2},la={[re.JPG]:{encoding:"image/jpeg",extension:"jpg"},[re.PNG]:{encoding:"image/png",extension:"png"}};function ua(n){const t=n.cloneNode(!0),e=window.getComputedStyle(n);return t.querySelector("circle")?.remove(),t.style.setProperty("--background-color-transparent",e.getPropertyValue("--background-color-transparent")),t.style.color=t.style.fill=e.getPropertyValue("--color"),t.style.stroke="#fff",t.style.fontFamily="Arial",t.style.fontSize="20px",t}const En=jt(()=>{const n=document.createElement("canvas"),t=n?.getContext("2d"),e=Ee(),s=O(()=>e.value&&t);return{triggerDownload:async({filename:r,filetype:i,quality:o,width:u,height:d})=>{if(!s.value||!n||!e.value||!t)return console.error("Cannot download due to required api missing:",s.value,n,e.value,t);n.width=u,n.height=d,await oa(ua(e.value),t);const{encoding:v,extension:m}=la[i],b=n.toDataURL(v,o);ra(b,`${r}.${m}`)},isSupported:s}}),Mt={px:1,"%":2,in:3,mm:4};function ca(n,t,e){let s=n;switch(t){case Mt["%"]:s=n*100/e;break;case Mt.in:s=n/window.devicePixelRatio;break;case Mt.mm:s=n*25.4/window.devicePixelRatio;break}return+s.toFixed(6)}function da(n,t,e){let s=n;switch(t){case Mt["%"]:s=n/100*e;break;case Mt.in:s=n*window.devicePixelRatio;break;case Mt.mm:s=n*window.devicePixelRatio/25.4;break}return+s.toFixed(5)}function an(n,t,e){const s=z(0),a=z(n.value-1),r=z(0);return Q([n,t],([i,o],[,u])=>{(a.value!==i||o!==u)&&(a.value=i,s.value=ca(i,o,e.value))},{immediate:!0}),Q(r,i=>{s.value!==i&&(a.value=da(i,t.value,e.value))}),Q(s,i=>r.value=i,{immediate:!0}),r}const fa={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"};function ha(n,t){return k(),M("svg",fa,[...t[0]||(t[0]=[c("path",{fill:"currentColor",d:"M24 14h-2V8a6 6 0 0 0-12 0v6H8a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V16a2 2 0 0 0-2-2M12 8a4 4 0 0 1 8 0v6h-8Zm12 20H8V16h16Z"},null,-1)])])}const va=X({name:"carbon-locked",render:ha}),pa={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"};function ma(n,t){return k(),M("svg",pa,[...t[0]||(t[0]=[c("path",{fill:"currentColor",d:"M24 14H12V8a4 4 0 0 1 8 0h2a6 6 0 0 0-12 0v6H8a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V16a2 2 0 0 0-2-2m0 14H8V16h16Z"},null,-1)])])}const ba=X({name:"carbon-unlocked",render:ma}),ga=es({...ns,xs:480}),ya={class:"flex-grow"},wa=["aria-invalid"],_a=["value","textContent"],xa=["aria-invalid"],Sa=["aria-invalid"],ka=["data-tooltip"],$a=["value","textContent"],Ta=["aria-invalid"],Ca=ot({__name:"BoardControlsSvgDownloadModalContent",props:{boardWidth:{type:Number,required:!0},boardHeight:{type:Number,required:!0}},emits:["downloadFinish"],setup(n,{emit:t}){const e=n,s=t,{t:a}=Kt(),{triggerDownload:r}=En(),i=he("FA_FILENAME","fast-angle-image"),{boardHeight:o,boardWidth:u}=wn(e),d=z(o.value),v=z(u.value),m=he("FA_SIZE_UNIT",Mt.px),b=z(!0),p=z(u.value/o.value);ga.isGreaterOrEqual("xl")&&Q([u,o],([C,_])=>{v.value=C,d.value=_,p.value=C/_});const y=an(d,m,o),$=an(v,m,u);Q([$,y],([C,_])=>{b.value||(p.value=C/_)},{flush:"sync",immediate:!0}),Q(y,()=>{y.value<0&&(y.value=1),b.value&&y.value!==+($.value/p.value).toFixed(3)&&($.value=+(y.value*p.value).toFixed(3))},{flush:"sync"}),Q($,()=>{$.value<0&&($.value=1),b.value&&$.value!==+(y.value*p.value).toFixed(3)&&(y.value=+($.value/p.value).toFixed(3))},{flush:"sync"});const I=he("FA_FILETYPE",re.PNG),g=he("FA_QUALITY",100);Q(g,()=>{g.value>100&&(g.value=100),g.value<0&&(g.value=0)});async function D(){await r({filename:i.value,filetype:I.value,quality:g.value/100,width:v.value,height:d.value}).catch(()=>{}),s("downloadFinish")}return(C,_)=>{const V=Wt;return k(),M("form",{onSubmit:nt(D,["prevent"])},[c("div",{class:T(C.$style.name)},[c("label",ya,[et(U(l(a)("board.nav.download_image.name_label"))+" ",1),Dt(c("input",{"onUpdate:modelValue":_[0]||(_[0]=L=>$t(i)?i.value=L:null),type:"text",name:"name",required:"","aria-invalid":!l(i)},null,8,wa),[[Qt,l(i)]])]),c("label",{class:T(C.$style["label--big"])},[et(U(l(a)("board.nav.download_image.format_label"))+" ",1),Dt(c("select",{"onUpdate:modelValue":_[1]||(_[1]=L=>$t(I)?I.value=L:null),required:""},[(k(!0),M(ht,null,Zt(Object.keys(l(re)),L=>(k(),M("option",{key:L,value:l(re)[L],textContent:U(L)},null,8,_a))),128))],512),[[Xe,l(I)]])],2)],2),c("fieldset",{class:T(C.$style.sizing)},[c("legend",null,[c("small",null,U(l(a)("board.nav.download_image.sizing_label")),1)]),c("label",{class:T(C.$style.label)},[et(U(l(a)("board.nav.download_image.width_label"))+" ",1),Dt(c("input",{"onUpdate:modelValue":_[2]||(_[2]=L=>$t($)?$.value=L:null),min:"1",type:"number",step:"0.000001",name:"width",required:"","aria-invalid":!l($)||l($)<1},null,8,xa),[[Qt,l($),void 0,{number:!0}]])],2),c("label",{class:T(C.$style.label)},[et(U(l(a)("board.nav.download_image.height_label"))+" ",1),Dt(c("input",{"onUpdate:modelValue":_[3]||(_[3]=L=>$t(y)?y.value=L:null),min:"1",type:"number",step:"0.000001",name:"height",required:"","aria-invalid":!l(y)||l(y)<1},null,8,Sa),[[Qt,l(y),void 0,{number:!0}]])],2),c("label",null,[_[8]||(_[8]=et("   ",-1)),c("div",{class:T(C.$style["aspect-ratio"]),"data-tooltip":l(a)("board.nav.download_image.keep_aspect_ratio"),"data-placement":"left"},[A(V,{"aria-label":l(a)("board.nav.download_image.keep_aspect_ratio"),class:T([C.$style["aspect-ratio-btn"],{[C.$style["aspect-ratio-btn--inactive"]]:!l(b)}]),onClick:_[4]||(_[4]=L=>b.value=!l(b))},{default:W(()=>[l(b)?(k(),rt(l(va),{key:0})):(k(),rt(l(ba),{key:1}))]),_:1},8,["aria-label","class"])],10,ka)]),c("label",{class:T([C.$style.label,C.$style["label--small"]])},[et(U(l(a)("board.nav.download_image.unit_label"))+" ",1),Dt(c("select",{"onUpdate:modelValue":_[5]||(_[5]=L=>$t(m)?m.value=L:null),required:""},[(k(!0),M(ht,null,Zt(Object.keys(l(Mt)),L=>(k(),M("option",{key:L,value:l(Mt)[L],textContent:U(L)},null,8,$a))),128))],512),[[Xe,l(m)]])],2)],2),c("label",null,[c("span",{class:T(C.$style.quality)},[et(U(l(a)("board.nav.download_image.quality_label"))+" ",1),Dt(c("input",{"onUpdate:modelValue":_[6]||(_[6]=L=>$t(g)?g.value=L:null),type:"number",min:"1",max:"100",class:T(C.$style.quality__input),name:"quality","aria-invalid":!l(g)||l(g)>100||l(g)<1},null,10,Ta),[[Qt,l(g),void 0,{number:!0}]]),_[9]||(_[9]=et(" % ",-1))],2),Dt(c("input",{"onUpdate:modelValue":_[7]||(_[7]=L=>$t(g)?g.value=L:null),type:"range",min:"1",max:"100",name:"quality"},null,512),[[Qt,l(g),void 0,{number:!0}]])])],32)}}}),Ma="f_ag",Ea="f_aj",Ia="f_ak",Da="f_ao",Fa="f_ap",Aa={label:Ma,"label--big":"f_ah","label--small":"f_ai",sizing:Ea,name:Ia,"aspect-ratio":"f_al","aspect-ratio-btn":"f_am","aspect-ratio-btn--inactive":"f_an",quality:Da,quality__input:Fa},Pa={$style:Aa},Na=Et(Ca,[["__cssModules",Pa]]),Ra={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"};function Oa(n,t){return k(),M("svg",Ra,[...t[0]||(t[0]=[c("path",{fill:"currentColor",d:"M26 24v4H6v-4H4v4a2 2 0 0 0 2 2h20a2 2 0 0 0 2-2v-4zm0-10l-1.41-1.41L17 20.17V2h-2v18.17l-7.59-7.58L6 14l10 10z"},null,-1)])])}const za=X({name:"carbon-download",render:Oa}),Ie=jt(()=>z()),La={key:0},rn="board_svg_download_form",Ba=ot({__name:"BoardControlsSvgDownload",props:{disabled:{type:Boolean,default:!1}},setup(n){const{t}=Kt(),{isSupported:e}=En(),s=Ie(),{height:a,width:r}=Be(s),i=z(!1),o=z(!1);return Ge({onEventFired(u){(u.ctrlKey||u.metaKey)&&u.key==="s"&&(u.preventDefault(),i.value=!0)},passive:!1}),(u,d)=>{const v=Na,m=Wt,b=Mn;return l(e)?(k(),M("li",La,[A(m,{tooltip:`${l(t)("board.nav.download_image.action")} [ctrl + s][⌘ + s]`,"tooltip-placement":"left",disabled:n.disabled?void 0:!0,onClick:d[3]||(d[3]=p=>i.value=!0),onTouchstart:d[4]||(d[4]=nt(p=>i.value=!0,["stop","prevent"]))},{default:W(()=>[A(l(za)),A(b,{modelValue:l(i),"onUpdate:modelValue":d[2]||(d[2]=p=>$t(i)?i.value=p:null),heading:l(t)("board.nav.download_image.heading")},{footer:W(()=>[A(m,{type:"submit",role:"button",form:rn,disabled:l(o),"aria-busy":l(o),class:T(u.$style["button-submit"]),autofocus:""},{default:W(()=>[et(U(l(t)("board.nav.download_image.save")),1)]),_:1},8,["disabled","aria-busy","class"])]),default:W(()=>[A(v,{id:rn,"board-height":l(a),"board-width":l(r),onSubmit:d[0]||(d[0]=p=>o.value=!0),onDownloadFinish:d[1]||(d[1]=p=>(o.value=!1,i.value=!1))},null,8,["board-height","board-width"])]),_:1},8,["modelValue","heading"])]),_:1},8,["tooltip","disabled"])])):ft("",!0)}}}),Ga={"button-submit":"f_4"},Ua={$style:Ga},Va=Et(Ba,[["__cssModules",Ua]]),Ha={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"};function Wa(n,t){return k(),M("svg",Ha,[...t[0]||(t[0]=[c("path",{fill:"currentColor",d:"M16 2a14 14 0 1 0 14 14A14 14 0 0 0 16 2m0 26a12 12 0 1 1 12-12a12 12 0 0 1-12 12"},null,-1),c("circle",{cx:"16",cy:"23.5",r:"1.5",fill:"currentColor"},null,-1),c("path",{fill:"currentColor",d:"M17 8h-1.5a4.49 4.49 0 0 0-4.5 4.5v.5h2v-.5a2.5 2.5 0 0 1 2.5-2.5H17a2.5 2.5 0 0 1 0 5h-2v4.5h2V17a4.5 4.5 0 0 0 0-9"},null,-1)])])}const Ka=X({name:"carbon-help",render:Wa}),ja={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"};function Ya(n,t){return k(),M("svg",ja,[...t[0]||(t[0]=[c("path",{fill:"currentColor",d:"M22.5 4c-2 0-3.9.8-5.3 2.2L16 7.4l-1.1-1.1c-2.9-3-7.7-3-10.6-.1l-.1.1c-3 3-3 7.8 0 10.8L16 29l11.8-11.9c3-3 3-7.8 0-10.8C26.4 4.8 24.5 4 22.5 4"},null,-1)])])}const on=X({name:"carbon-favorite-filled",render:Ya}),qa=["textContent"],Xa={rol:"grid"},Za=["textContent"],Ja=["textContent"],Qa=["textContent"],ti=["textContent"],ei=["textContent"],ni=["textContent"],si=["href","data-tooltip","title"],ai={rel:"noreferrer",href:"https://github.com/FRSOURCE/fast-angle",target:"_blank",title:"GitHub"},ii={rel:"noreferrer",href:"https://www.frsource.org/blog/sponsoring",target:"_blank",title:"Sponsoring"},ri=["textContent"],oi=["textContent"],li=ot({__name:"BoardControlsSvgHelp",setup(n){const{t,tm:e,rt:s}=Kt(),a=z(!1),r=O(()=>e("board.nav.help.content"));return(i,o)=>{const u=ss("RouterLink"),d=Mn,v=Wt;return k(),M("li",null,[A(v,{tooltip:l(t)("board.nav.help.action"),"tooltip-placement":"left",onClick:o[1]||(o[1]=m=>a.value=!0),onTouchstartCapture:o[2]||(o[2]=nt(m=>a.value=!0,["prevent","stop"]))},{default:W(()=>[A(l(Ka)),A(d,{modelValue:l(a),"onUpdate:modelValue":o[0]||(o[0]=m=>$t(a)?a.value=m:null),heading:l(t)("board.nav.help.heading"),class:T(i.$style.modal)},{"footer-pre":W(()=>[c("a",{autofocus:"",rel:"noreferrer",href:"https://github.com/FRSOURCE/fast-angle",target:"_blank",title:"GitHub",class:T(i.$style.donate)},[A(l(on)),c("small",null,U(l(t)("main.donate_us")),1)],2)]),default:W(()=>[c("ul",null,[(k(!0),M(ht,null,Zt(l(r),m=>(k(),M("li",{key:l(s)(m)},U(l(s)(m)),1))),128))]),o[21]||(o[21]=c("hr",null,null,-1)),c("div",{class:T(i.$style["hide-mobile"])},[c("h4",{textContent:U(l(t)("board.nav.help.key_bindings.heading"))},null,8,qa),c("table",Xa,[c("thead",null,[c("tr",null,[o[3]||(o[3]=c("th",{scope:"col",textContent:"Win"},null,-1)),o[4]||(o[4]=c("th",{scope:"col",textContent:"Mac"},null,-1)),c("th",{scope:"col",textContent:U(l(t)("board.nav.help.key_bindings.description"))},null,8,Za)])]),c("tbody",null,[c("tr",null,[c("td",{scope:"col",class:T(i.$style["binding-item-wrapper"])},[c("div",{class:T(i.$style["binding-item"])},[o[5]||(o[5]=c("kbd",null,"ctrl",-1)),c("small",{class:T(i.$style["binding-item-plus"])},"+",2),o[6]||(o[6]=c("kbd",null,"z",-1))],2)],2),c("td",{scope:"col",class:T(i.$style["binding-item-wrapper"])},[c("div",{class:T(i.$style["binding-item"])},[o[7]||(o[7]=c("kbd",null,"⌘",-1)),c("small",{class:T(i.$style["binding-item-plus"])},"+",2),o[8]||(o[8]=c("kbd",null,"z",-1))],2)],2),c("td",{scope:"col",textContent:U(l(t)("board.nav.undo"))},null,8,Ja)]),c("tr",null,[c("td",{scope:"col",class:T(i.$style["binding-item-wrapper"])},[c("div",{class:T(i.$style["binding-item"])},[o[9]||(o[9]=c("kbd",null,"ctrl",-1)),c("small",{class:T(i.$style["binding-item-plus"])},"+",2),o[10]||(o[10]=c("kbd",null,"shift",-1)),c("small",{class:T(i.$style["binding-item-plus"])},"+",2),o[11]||(o[11]=c("kbd",null,"z",-1))],2)],2),c("td",{scope:"col",class:T(i.$style["binding-item-wrapper"])},[c("div",{class:T(i.$style["binding-item"])},[o[12]||(o[12]=c("kbd",null,"⌘",-1)),c("small",{class:T(i.$style["binding-item-plus"])},"+",2),o[13]||(o[13]=c("kbd",null,"shift",-1)),c("small",{class:T(i.$style["binding-item-plus"])},"+",2),o[14]||(o[14]=c("kbd",null,"z",-1))],2)],2),c("td",{scope:"col",textContent:U(l(t)("board.nav.download_image.action"))},null,8,Qa)]),c("tr",null,[c("td",{scope:"col",class:T(i.$style["binding-item-wrapper"])},[c("div",{class:T(i.$style["binding-item"])},[o[15]||(o[15]=c("kbd",null,"ctrl",-1)),c("small",{class:T(i.$style["binding-item-plus"])},"+",2),o[16]||(o[16]=c("kbd",null,"s",-1))],2)],2),c("td",{scope:"col",class:T(i.$style["binding-item-wrapper"])},[c("div",{class:T(i.$style["binding-item"])},[o[17]||(o[17]=c("kbd",null,"⌘",-1)),c("small",{class:T(i.$style["binding-item-plus"])},"+",2),o[18]||(o[18]=c("kbd",null,"s",-1))],2)],2),c("td",{scope:"col",textContent:U(l(t)("board.nav.redo"))},null,8,ti)]),c("tr",null,[c("td",{scope:"col",class:T(i.$style["binding-item-wrapper"])},[c("div",{class:T(i.$style["binding-item"])},[...o[19]||(o[19]=[c("kbd",null,"f",-1)])],2)],2),c("td",{scope:"col",class:T(i.$style["binding-item-wrapper"])},[c("div",{class:T(i.$style["binding-item"])},[...o[20]||(o[20]=[c("kbd",null,"f",-1)])],2)],2),c("td",{scope:"col",textContent:U(l(t)("board.nav.toggle_fullscreen"))},null,8,ei)])])])],2),c("h4",{textContent:U(l(t)("board.nav.help.heading_authors"))},null,8,ni),c("p",null,[et(U(l(t)("main.brought_to_you_by"))+" ",1),c("a",{href:`${"host"in i?i.host:l(as)}/`,"data-tooltip":l(t)("main.visit_our_website"),title:l(t)("main.visit_our_website")},"FRSOURCE",8,si)]),c("p",null,[c("a",ai,[A(l(Zn)),et(" "+U(l(t)("main.star_us_on_github")),1)])]),c("p",null,[c("a",ii,[A(l(on)),et(" "+U(l(t)("main.donate_us")),1)])]),o[22]||(o[22]=c("hr",null,null,-1)),c("p",{class:T(i.$style.terms)},[A(u,{to:{name:`lang-${l(Ze)}-terms`}},{default:W(()=>[c("small",{textContent:U(l(t)("main.terms_and_conditions"))},null,8,ri)]),_:1},8,["to"]),A(u,{to:{name:`lang-${l(Ze)}-privacy-policy`}},{default:W(()=>[c("small",{textContent:U(l(t)("main.privacy_policy"))},null,8,oi)]),_:1},8,["to"])],2)]),_:1},8,["modelValue","heading","class"])]),_:1},8,["tooltip"])])}}}),ui="f_8",ci="f_ab",di="f_ac",fi={modal:ui,"hide-mobile":"f_9","binding-item":"f__","binding-item-plus":"f_-","list-item":"f_aa",terms:ci,donate:di},hi={$style:fi},vi=Et(li,[["__cssModules",hi]]),pi={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"};function mi(n,t){return k(),M("svg",pi,[...t[0]||(t[0]=[c("path",{fill:"currentColor",d:"M28 10v18H10V10zm0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2"},null,-1),c("path",{fill:"currentColor",d:"M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"},null,-1)])])}const bi=X({name:"carbon-copy",render:mi}),gi={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"};function yi(n,t){return k(),M("svg",gi,[...t[0]||(t[0]=[c("path",{fill:"currentColor",d:"m13 24l-9-9l1.414-1.414L13 21.171L26.586 7.586L28 9z"},null,-1)])])}const wi=X({name:"carbon-checkmark",render:yi}),_i=ot({__name:"BoardSummaryItem",props:{value:{type:Number,default:0}},setup(n){const t=n,e=O(()=>t.value?t.value.toFixed(3):""),{copy:s,copied:a,isSupported:r}=is({source:e});return(i,o)=>{const u=Wt;return k(),M("small",{class:T(i.$style.item),onClick:o[0]||(o[0]=()=>l(s)())},[c("div",null,[ae(i.$slots,"default"),c("span",{class:T(i.$style.text)},[l(e)?(k(),M(ht,{key:0},[et(U(l(e))+"°",1)],64)):(k(),M(ht,{key:1},[et("?")],64))],2)]),l(r)&&l(e)?(k(),rt(u,{key:0,class:T(i.$style.btn),disabled:l(a)},{default:W(()=>[l(a)?(k(),rt(l(wi),{key:0})):(k(),rt(l(bi),{key:1}))]),_:1},8,["class","disabled"])):ft("",!0)],2)}}}),xi="f_5",Si="f_6",ki="f_7",$i={item:xi,text:Si,btn:ki},Ti={$style:$i},Ci=Et(_i,[["__cssModules",Ti]]),Mi={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"};function Ei(n,t){return k(),M("svg",Mi,[...t[0]||(t[0]=[c("path",{fill:"currentColor",d:"M20 2v2h6.586L18 12.582L19.414 14L28 5.414V12h2V2zm-6 17.416L12.592 18L4 26.586V20H2v10h10v-2H5.414z"},null,-1)])])}const Ii=X({name:"carbon-maximize",render:Ei}),Di={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"};function Fi(n,t){return k(),M("svg",Di,[...t[0]||(t[0]=[c("path",{fill:"currentColor",d:"M4 18v2h6.586L2 28.582L3.414 30L12 21.414V28h2V18zM30 3.416L28.592 2L20 10.586V4h-2v10h10v-2h-6.586z"},null,-1)])])}const Ai=X({name:"carbon-minimize",render:Fi}),Pi={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"};function Ni(n,t){return k(),M("svg",Pi,[...t[0]||(t[0]=[c("path",{fill:"currentColor",d:"M18 12h-4V8h-2v4H8v2h4v4h2v-4h4z"},null,-1),c("path",{fill:"currentColor",d:"M21.448 20A10.86 10.86 0 0 0 24 13a11 11 0 1 0-11 11a10.86 10.86 0 0 0 7-2.552L27.586 29L29 27.586ZM13 22a9 9 0 1 1 9-9a9.01 9.01 0 0 1-9 9"},null,-1)])])}const Ri=X({name:"carbon-zoom-in",render:Ni}),Oi={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"};function zi(n,t){return k(),M("svg",Oi,[...t[0]||(t[0]=[c("path",{fill:"currentColor",d:"M8 12h10v2H8z"},null,-1),c("path",{fill:"currentColor",d:"M21.448 20A10.86 10.86 0 0 0 24 13a11 11 0 1 0-11 11a10.86 10.86 0 0 0 7-2.552L27.586 29L29 27.586ZM13 22a9 9 0 1 1 9-9a9.01 9.01 0 0 1-9 9"},null,-1)])])}const Li=X({name:"carbon-zoom-out",render:zi}),Bi={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"};function Gi(n,t){return k(),M("svg",Bi,[...t[0]||(t[0]=[c("path",{fill:"currentColor",d:"M4 20v2h4.586L2 28.586L3.414 30L10 23.414V28h2v-8zm15-6a3 3 0 1 0-3-3a3 3 0 0 0 3 3m0-4a1 1 0 1 1-1 1a1 1 0 0 1 1-1"},null,-1),c("path",{fill:"currentColor",d:"M26 4H6a2 2 0 0 0-2 2v10h2V6h20v15.17l-3.59-3.59a2 2 0 0 0-2.82 0L18 19.17L11.83 13l-1.414 1.416L14 18l2.59 2.59a2 2 0 0 0 2.82 0L21 19l5 5v2H16v2h10a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2"},null,-1)])])}const Ui=X({name:"carbon-image-reference",render:Gi}),Vi={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"};function Hi(n,t){return k(),M("svg",Vi,[...t[0]||(t[0]=[c("path",{d:"M9 24a3.51 3.51 0 0 0-.88-1.86l9.53-16.58l-1.73-1l-9.57 16.56A3.06 3.06 0 0 0 5.5 21a3.5 3.5 0 1 0 3.15 5H28v-2zm-3.5 2A1.5 1.5 0 1 1 7 24.5A1.5 1.5 0 0 1 5.5 26z",fill:"currentColor"},null,-1),c("path",{d:"M22 21h2a13 13 0 0 0-5.42-10.56l-1.16 1.62A11 11 0 0 1 22 21z",fill:"currentColor"},null,-1)])])}const Wi=X({name:"carbon-angle",render:Hi}),Ki={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"};function ji(n,t){return k(),M("svg",Ki,[...t[0]||(t[0]=[c("path",{fill:"currentColor",d:"M20 10H7.815l3.587-3.586L10 5l-6 6l6 6l1.402-1.415L7.818 12H20a6 6 0 0 1 0 12h-8v2h8a8 8 0 0 0 0-16"},null,-1)])])}const Yi=X({name:"carbon-undo",render:ji}),qi={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"};function Xi(n,t){return k(),M("svg",qi,[...t[0]||(t[0]=[c("path",{fill:"currentColor",d:"M12 10h12.185l-3.587-3.586L22 5l6 6l-6 6l-1.402-1.415L24.182 12H12a6 6 0 0 0 0 12h8v2h-8a8 8 0 0 1 0-16"},null,-1)])])}const Zi=X({name:"carbon-redo",render:Xi}),Ji={width:"1.2em",height:"1.2em",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor"};function Qi(n,t){return k(),M("svg",Ji,[...t[0]||(t[0]=[c("path",{d:"M18.3 26a3.5 3.5 0 006.6-3.05 3 3 0 00-.7-.8l7.53-15.58-1.73-1-7.57 15.56a2.7 2.7 0 00-.8-.1 3.5 3.5 0 00-3.33 2.97h-17.973v2Zm3.4.1a1.5 1.5 0 111.5-1.5 1.5 1.5 0 01-1.5 1.5Z"},null,-1),c("path",{d:"M3.75 21.25a13.2 13.2 90 0120.25-10.56l-.87 1.44a11.75 11.75 90 00-17.6 9.13z"},null,-1)])])}const tr=X({name:"custom-angle-obtuse",render:Qi}),Pe=4,$e=jt(()=>{const n=z([]),t=z([]),e=z(Pe-1);let s=()=>{},a=()=>{};Q(n,g=>{t.value=[...g]},{deep:!0,flush:"sync"});const r=(g,D)=>{++e.value>=Pe&&(e.value=0,n.value=[]);const C=Math.floor(e.value/2);if(e.value%2){const _=n.value[C][0];if(!_)return;n.value[C]=[_,[g,D]]}else n.value[C]=[[g,D]]},i=(g,D)=>{const C=e.value+1>=Pe?0:e.value+1,_=Math.floor(C/2);if(C%2){const V=t.value[_][0];if(!V)return;t.value[_]=[V,[g,D]]}else t.value[_]=[[g,D]]},{undo:o,redo:u,canUndo:d,canRedo:v}=we(e),{undo:m,redo:b,canUndo:p,canRedo:y}=we(n,{deep:!0}),$=()=>{m(),s(),o()},I=()=>{b(),a(),u()};return Ge({onEventFired(g){(g.ctrlKey||g.metaKey)&&g.key==="z"&&(g.shiftKey?I():$())}}),{step:e,lines:t,drawNextPoint:r,predictNextPoint:i,undo:$,redo:I,canUndo:O(()=>d.value&&p.value),canRedo:O(()=>v.value&&y.value),registerOnUndo:g=>s=g,registerOnRedo:g=>a=g}});function In(n){const[[[t,e],[s,a]],[[r,i],[o,u]]]=n,d=s-t,v=a-e,m=o-r,b=u-i,p=Math.atan2(d*b-v*m,d*m+v*b);return Math.abs(p)*(180/Math.PI)}function Ue(n){return O(()=>(n.value[0]?.length||0)<2||(n.value[1]?.length||0)<2?0:In(n.value))}function er(){try{return"constructor"in GestureEvent}catch{return!1}}function Dn(){return typeof window<"u"&&"ontouchstart"in window}function Fn(n){return"pointerId"in n?null:n.type==="touchend"?n.changedTouches:n.targetTouches}function Ve(n){return Array.from(Fn(n)).map(t=>t.identifier)}function Tt(n){const t="buttons"in n?n.buttons:0,{shiftKey:e,altKey:s,metaKey:a,ctrlKey:r}=n;return{buttons:t,shiftKey:e,altKey:s,metaKey:a,ctrlKey:r}}const De=n=>n;function ln(n,t=De){const e=Fn(n),{clientX:s,clientY:a}=e?e[0]:n;return t([s,a])}function un(n,t,e=De){const[s,a]=Array.from(n.touches).filter(p=>t.includes(p.identifier));if(!s||!a)throw Error("The event doesn't have two pointers matching the pointerIds");const r=a.clientX-s.clientX,i=a.clientY-s.clientY,o=(a.clientX+s.clientX)/2,u=(a.clientY+s.clientY)/2,d=Math.hypot(r,i),v=-(Math.atan2(r,i)*180)/Math.PI,m=e([d,v]),b=e([o,u]);return{values:m,origin:b}}const cn=40,dn=800;function An(n,t=De){let{deltaX:e,deltaY:s,deltaMode:a}=n;return a===1?(e*=cn,s*=cn):a===2&&(e*=dn,s*=dn),t([e,s])}function fn(n,t=De){return t([n.scale,n.rotation])}function Pn(){}function Nn(...n){return n.length===0?Pn:n.length===1?n[0]:function(){var t;for(let e of n)t=e.apply(this,arguments)||t;return t}}function Nt(n,t){if(n===void 0){if(t===void 0)throw new Error("Must define fallback value if undefined is expected");n=t}return Array.isArray(n)?n:[n,n]}function hn(n,t){return Object.assign({},t,n||{})}function Te(n,...t){return typeof n=="function"?n(...t):n}function ee(n){return{_active:!1,_blocked:!1,_intentional:[!1,!1],_movement:[0,0],_initial:[0,0],_bounds:[[-1/0,1/0],[-1/0,1/0]],_lastEventType:void 0,_dragStarted:!1,_dragPreventScroll:!1,_dragIsTap:!0,_dragDelayed:!1,event:void 0,intentional:!1,values:[0,0],velocities:[0,0],delta:[0,0],movement:[0,0],offset:[0,0],lastOffset:[0,0],direction:[0,0],initial:[0,0],previous:[0,0],first:!1,last:!1,active:!1,timeStamp:0,startTime:0,elapsedTime:0,cancel:Pn,canceled:!1,memo:void 0,args:void 0,...n}}function Oe(){const n={hovering:!1,scrolling:!1,wheeling:!1,dragging:!1,moving:!1,pinching:!1,touches:0,buttons:0,down:!1,shiftKey:!1,altKey:!1,metaKey:!1,ctrlKey:!1,locked:!1},t=ee({_pointerId:void 0,axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0,tap:!1,swipe:[0,0]}),e=ee({_pointerIds:[],da:[0,0],vdva:[0,0],origin:void 0,turns:0}),s=ee({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0}),a=ee({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0}),r=ee({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0});return{shared:n,drag:t,pinch:e,wheel:s,move:a,scroll:r}}var nr=Object.defineProperty,sr=(n,t,e)=>t in n?nr(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,st=(n,t,e)=>(sr(n,typeof t!="symbol"?t+"":t,e),e);class ar{constructor(t){this.classes=t,st(this,"nativeRefs"),st(this,"config"),st(this,"handlers"),st(this,"state"),st(this,"timeouts"),st(this,"domListeners"),st(this,"windowListeners"),st(this,"pointerIds",new Set),st(this,"touchIds",new Set),st(this,"supportsTouchEvents",Dn()),st(this,"supportsGestureEvents",er()),st(this,"bind",(...e)=>{const s={};for(let a of this.classes)new a(this,e).addBindings(s);for(let a in this.nativeRefs)Y(s,a,r=>this.nativeRefs[a]({...this.state.shared,event:r,args:e}));return this.config.domTarget?lr(this,s):ur(this,s)}),st(this,"clean",()=>{const{eventOptions:e,domTarget:s}=this.config,a=l(s);a&&de(a,zn(this.domListeners),e),Object.values(this.timeouts).forEach(clearTimeout),ir(this)}),st(this,"reset",()=>{this.state=Oe()}),this.classes=t,this.state=Oe(),this.timeouts={},this.domListeners=[],this.windowListeners={}}}function Rn(n,t){"pointerId"in t?n.pointerIds.add(t.pointerId):n.touchIds=new Set(Ve(t))}function On(n,t){"pointerId"in t?n.pointerIds.delete(t.pointerId):Ve(t).forEach(e=>n.touchIds.delete(e))}function ir(n){const{config:{window:t,eventOptions:e},windowListeners:s}=n,a=l(t);if(a){for(let r in s){const i=s[r];de(a,i,e)}n.windowListeners={}}}function rr({config:n,windowListeners:t},e,s=n.eventOptions){const a=l(n.window);a&&(de(a,t[e],s),delete t[e])}function or({config:n,windowListeners:t},e,s=[],a=n.eventOptions){const r=l(n.window);r&&(de(r,t[e],a),Ln(r,t[e]=s,a))}function lr({config:n,domListeners:t},e){const{eventOptions:s,domTarget:a}=n,r=l(a);if(!r)throw new Error("domTarget must be defined");de(r,zn(t),s);for(let[i,o]of Object.entries(e)){const u=i.slice(2).toLowerCase();t.push([u,Nn(...o)])}Ln(r,t,s)}function ur({config:n},t){const e={},s=n.eventOptions.capture?"Capture":"";for(let[a,r]of Object.entries(t)){const i=Array.isArray(r)?r:[r],o=a+s;e[o]=Nn(...i)}return e}function zn(n=[]){return n.splice(0,n.length)}function Y(n,t,e){n[t]||(n[t]=[]),n[t].push(e)}function Ln(n,t=[],e={}){if(n)for(let[s,a]of t)n.addEventListener(s,a,e)}function de(n,t=[],e={}){if(n)for(let[s,a]of t)n.removeEventListener(s,a,e)}function Ce(n,t){return n.map((e,s)=>e+t[s])}function He(n,t){return n.map((e,s)=>e-t[s])}function ue(n){return Math.hypot(...n)}function cr(n,t=n){const e=ue(t),s=e===0?0:1/e,a=t.map(i=>s*i);return{distance:ue(n),direction:a}}function Bn(n,t,e){const s=ue(t),a=s===0?0:1/s,r=e===0?0:1/e,i=r*s,o=t.map(v=>r*v),u=t.map(v=>a*v),d=ue(n);return{velocities:o,velocity:i,distance:d,direction:u}}function Me(n){return Math.sign?Math.sign(n):+(n>0)-+(n<0)||+n}function dr(n,t,e){return Math.max(t,Math.min(n,e))}function fr(n,t){return Math.pow(n,t*5)}function vn(n,t,e){return t===0||Math.abs(t)===1/0?fr(n,e):n*t*e/(t+e*n)}function pn(n,t,e,s=.15){return s===0?dr(n,t,e):n<t?-vn(t-n,e-t,s)+t:n>e?+vn(n-e,e-t,s)+e:n}var hr=Object.defineProperty,vr=(n,t,e)=>t in n?hr(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,pe=(n,t,e)=>(vr(n,typeof t!="symbol"?t+"":t,e),e);const Ct=new Map,pr=n=>n;class Gn{constructor(t,e=[]){this.controller=t,this.args=e,pe(this,"debounced",!0),pe(this,"setTimeout",(s,a=140,...r)=>{clearTimeout(this.controller.timeouts[this.stateKey]),this.controller.timeouts[this.stateKey]=window.setTimeout(s,a,...r)}),pe(this,"clearTimeout",()=>{clearTimeout(this.controller.timeouts[this.stateKey])}),pe(this,"fireGestureHandler",(s=!1)=>{if(this.state._blocked)return this.debounced||(this.state._active=!1,this.clean()),null;if(!s&&!this.state.intentional&&!this.config.triggerAllEvents)return null;if(this.state.intentional){const u=this.state.active,d=this.state._active;this.state.active=d,this.state.first=d&&!u,this.state.last=u&&!d,this.controller.state.shared[this.ingKey]=d}const a=this.controller.pointerIds.size||this.controller.touchIds.size,r=this.controller.state.shared.buttons>0||a>0,i={...this.controller.state.shared,...this.state,...this.mapStateValues(this.state),locked:!!document.pointerLockElement,touches:a,down:r},o=this.handler(i);return this.state.memo=o!==void 0?o:this.state.memo,i}),this.controller=t,this.args=e}get config(){return this.controller.config[this.stateKey]}get enabled(){return this.controller.config.enabled&&this.config.enabled}get state(){return this.controller.state[this.stateKey]}get handler(){return this.controller.handlers[this.stateKey]}get transform(){return this.config.transform||this.controller.config.transform||pr}updateSharedState(t){Object.assign(this.controller.state.shared,t)}updateGestureState(t){Object.assign(this.state,t)}checkIntentionality(t,e){return{_intentional:t,_blocked:!1}}getMovement(t){const{rubberband:e,threshold:s}=this.config,{_bounds:a,_initial:r,_active:i,_intentional:o,lastOffset:u,movement:d}=this.state,v=this.getInternalMovement(t,this.state),m=this.transform(s).map(Math.abs),b=o[0]===!1?mn(v[0],m[0]):o[0],p=o[1]===!1?mn(v[1],m[1]):o[1],y=this.checkIntentionality([b,p],v);if(y._blocked)return{...y,_movement:v,delta:[0,0]};const $=y._intentional,I=v;let g=[$[0]!==!1?v[0]-$[0]:0,$[1]!==!1?v[1]-$[1]:0];const D=Ce(g,u),C=i?e:[0,0];return g=bn(a,Ce(g,r),C),{...y,intentional:$[0]!==!1||$[1]!==!1,_initial:r,_movement:I,movement:g,values:t,offset:bn(a,D,C),delta:He(g,d)}}clean(){this.clearTimeout()}}function mn(n,t){return Math.abs(n)>=t?Me(n)*t:!1}function bn(n,[t,e],[s,a]){const[[r,i],[o,u]]=n;return[pn(t,r,i,s),pn(e,o,u,a)]}function it({state:n},t,e){const{timeStamp:s,type:a}=t,r=n.values,i=e?0:s-n.startTime;return{_lastEventType:a,event:t,timeStamp:s,elapsedTime:i,previous:r}}function oe({state:n,config:t,stateKey:e,args:s},a,r){const i=n.offset,o=r.timeStamp,{initial:u,bounds:d}=t,v={...Oe()[e],_active:!0,args:s,values:a,initial:a,offset:i,lastOffset:i,startTime:o};return{...v,_initial:Te(u,v),_bounds:Te(d,v)}}class Un extends Gn{getInternalMovement(t,e){return He(t,e.initial)}checkIntentionality(t,e){if(t[0]===!1&&t[1]===!1)return{_intentional:t,axis:this.state.axis};const[s,a]=e.map(Math.abs),r=this.state.axis||(s>a?"x":s<a?"y":void 0);return!this.config.axis&&!this.config.lockDirection?{_intentional:t,_blocked:!1,axis:r}:r?this.config.axis&&r!==this.config.axis?{_intentional:t,_blocked:!0,axis:r}:(t[r==="x"?1:0]=!1,{_intentional:t,_blocked:!1,axis:r}):{_intentional:[!1,!1],_blocked:!1,axis:r}}getKinematics(t,e){const s=this.getMovement(t);if(!s._blocked){const a=e.timeStamp-this.state.timeStamp;Object.assign(s,Bn(s.movement,s.delta,a))}return s}mapStateValues(t){return{xy:t.values,vxvy:t.velocities}}}var mr=Object.defineProperty,br=(n,t,e)=>t in n?mr(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,Z=(n,t,e)=>(br(n,typeof t!="symbol"?t+"":t,e),e);const gr=3;function gn(n){"persist"in n&&typeof n.persist=="function"&&n.persist()}class yr extends Un{constructor(){super(...arguments),Z(this,"ingKey","dragging"),Z(this,"stateKey","drag"),Z(this,"setPointerCapture",t=>{if(this.config.useTouch||document.pointerLockElement)return;const{target:e,pointerId:s}=t;e&&"setPointerCapture"in e&&e.setPointerCapture(s),this.updateGestureState({_dragTarget:e,_dragPointerId:s})}),Z(this,"releasePointerCapture",()=>{if(this.config.useTouch||document.pointerLockElement)return;const{_dragTarget:t,_dragPointerId:e}=this.state;if(e&&t&&"releasePointerCapture"in t&&(!("hasPointerCapture"in t)||t.hasPointerCapture(e)))try{t.releasePointerCapture(e)}catch{}}),Z(this,"preventScroll",t=>{this.state._dragPreventScroll&&t.cancelable&&t.preventDefault()}),Z(this,"getEventId",t=>this.config.useTouch?t.changedTouches[0].identifier:t.pointerId),Z(this,"isValidEvent",t=>this.state._pointerId===this.getEventId(t)),Z(this,"shouldPreventWindowScrollY",this.config.preventWindowScrollY&&this.controller.supportsTouchEvents),Z(this,"setUpWindowScrollDetection",t=>{gn(t),or(this.controller,this.stateKey,[["touchmove",this.preventScroll],["touchend",this.clean.bind(this)],["touchcancel",this.clean.bind(this)]],{passive:!1}),this.setTimeout(this.startDrag.bind(this),250,t)}),Z(this,"setUpDelayedDragTrigger",t=>{this.state._dragDelayed=!0,gn(t),this.setTimeout(this.startDrag.bind(this),this.config.delay,t)}),Z(this,"setStartState",t=>{const e=ln(t,this.transform);this.updateSharedState(Tt(t)),this.updateGestureState({...oe(this,e,t),...it(this,t,!0),_pointerId:this.getEventId(t)}),this.updateGestureState(this.getMovement(e))}),Z(this,"onDragStart",t=>{Rn(this.controller,t),!(!this.enabled||this.state._active)&&(this.setStartState(t),this.setPointerCapture(t),this.shouldPreventWindowScrollY?this.setUpWindowScrollDetection(t):this.config.delay>0?this.setUpDelayedDragTrigger(t):this.startDrag(t,!0))}),Z(this,"onDragChange",t=>{if(this.state.canceled||!this.state._active||!this.isValidEvent(t)||this.state._lastEventType===t.type&&t.timeStamp===this.state.timeStamp)return;let e;if(document.pointerLockElement){const{movementX:u,movementY:d}=t;e=Ce(this.transform([u,d]),this.state.values)}else e=ln(t,this.transform);const s=this.getKinematics(e,t);if(!this.state._dragStarted){if(this.state._dragDelayed){this.startDrag(t);return}if(this.shouldPreventWindowScrollY)if(!this.state._dragPreventScroll&&s.axis)if(s.axis==="x")this.startDrag(t);else{this.state._active=!1;return}else return;else return}const a=Tt(t);this.updateSharedState(a);const r=it(this,t),i=ue(s._movement);let{_dragIsTap:o}=this.state;o&&i>=gr&&(o=!1),this.updateGestureState({...r,...s,_dragIsTap:o}),this.fireGestureHandler()}),Z(this,"onDragEnd",t=>{if(On(this.controller,t),!this.isValidEvent(t)||(this.clean(),!this.state._active))return;this.state._active=!1;const e=this.state._dragIsTap,[s,a]=this.state.velocities,[r,i]=this.state.movement,[o,u]=this.state._intentional,[d,v]=this.config.swipeVelocity,[m,b]=this.config.swipeDistance,p=this.config.swipeDuration,y={...it(this,t),...this.getMovement(this.state.values)},$=[0,0];y.elapsedTime<p&&(o!==!1&&Math.abs(s)>d&&Math.abs(r)>m&&($[0]=Me(s)),u!==!1&&Math.abs(a)>v&&Math.abs(i)>b&&($[1]=Me(a))),this.updateSharedState({buttons:0}),this.updateGestureState({...y,tap:e,swipe:$}),this.fireGestureHandler(this.config.filterTaps&&e===!0)}),Z(this,"clean",()=>{super.clean(),this.state._dragStarted=!1,this.releasePointerCapture(),rr(this.controller,this.stateKey)}),Z(this,"onCancel",()=>{this.state.canceled||(this.updateGestureState({canceled:!0,_active:!1}),this.updateSharedState({buttons:0}),us(this.fireGestureHandler))}),Z(this,"onClick",t=>{this.state._dragIsTap||t.stopPropagation()})}startDrag(t,e=!1){!this.state._active||this.state._dragStarted||(e||this.setStartState(t),this.updateGestureState({_dragStarted:!0,_dragPreventScroll:!0,cancel:this.onCancel}),this.clearTimeout(),this.fireGestureHandler())}addBindings(t){if(this.config.useTouch?(Y(t,"onTouchStart",this.onDragStart),Y(t,"onTouchMove",this.onDragChange),Y(t,"onTouchEnd",this.onDragEnd),Y(t,"onTouchCancel",this.onDragEnd)):(Y(t,"onPointerDown",this.onDragStart),Y(t,"onPointerMove",this.onDragChange),Y(t,"onPointerUp",this.onDragEnd),Y(t,"onPointerCancel",this.onDragEnd)),this.config.filterTaps){const e=this.controller.config.eventOptions.capture?"onClick":"onClickCapture";Y(t,e,this.onClick)}}}function We(n,t){let e,s=[],a,r=!1;function i(...o){return r&&e===this&&t(o,s)||(a=n.apply(this,o),r=!0,e=this,s=o),a}return i}function ge(n,t){if(n===t)return!0;if(n&&t&&typeof n=="object"&&typeof t=="object"){if(n.constructor!==t.constructor)return!1;let e,s,a;if(Array.isArray(n)){if(e=n.length,e!==t.length)return!1;for(s=e;s--!==0;)if(!ge(n[s],t[s]))return!1;return!0}let r;if(typeof Map=="function"&&n instanceof Map&&t instanceof Map){if(n.size!==t.size)return!1;for(r=n.entries();!(s=r.next()).done;)if(!t.has(s.value[0]))return!1;for(r=n.entries();!(s=r.next()).done;)if(!ge(s.value[1],t.get(s.value[0])))return!1;return!0}if(typeof Set=="function"&&n instanceof Set&&t instanceof Set){if(n.size!==t.size)return!1;for(r=n.entries();!(s=r.next()).done;)if(!t.has(s.value[0]))return!1;return!0}if(n.constructor===RegExp)return n.source===t.source&&n.flags===t.flags;if(n.valueOf!==Object.prototype.valueOf)return n.valueOf()===t.valueOf();if(n.toString!==Object.prototype.toString)return n.toString()===t.toString();if(a=Object.keys(n),e=a.length,e!==Object.keys(t).length)return!1;for(s=e;s--!==0;)if(!Object.prototype.hasOwnProperty.call(t,a[s]))return!1;if(typeof Element<"u"&&n instanceof Element)return!1;for(s=e;s--!==0;)if(!(a[s]==="_owner"&&n.$$typeof)&&!ge(n[a[s]],t[a[s]]))return!1;return!0}return n!==n&&t!==t}function Ke(n,t){try{return ge(n,t)}catch(e){if((e.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw e}}function fe(n={},t){const e={};for(const[s,a]of Object.entries(t))switch(typeof a){case"function":e[s]=a.call(e,n[s],s,n);break;case"object":e[s]=fe(n[s],a);break;case"boolean":a&&(e[s]=n[s]);break}return e}const wr=180,_r=.15,xr=.5,Sr=50,kr=250,Vn={threshold(n=0){return Nt(n)},rubberband(n=0){switch(n){case!0:return Nt(_r);case!1:return Nt(0);default:return Nt(n)}},enabled(n=!0){return n},triggerAllEvents(n=!1){return n},initial(n=0){return typeof n=="function"?n:Nt(n)},transform:!0},je={...Vn,axis:!0,lockDirection(n=!1){return n},bounds(n={}){if(typeof n=="function")return r=>je.bounds(n(r));const{left:t=-1/0,right:e=1/0,top:s=-1/0,bottom:a=1/0}=n;return[[t,e],[s,a]]}},$r=typeof window<"u"&&window.document&&window.document.createElement,Tr={enabled(n=!0){return n},domTarget:!0,window(n=$r?window:void 0){return n},eventOptions({passive:n=!0,capture:t=!1}={}){return{passive:n,capture:t}},transform:!0},Cr={...Vn,bounds(n,t,{distanceBounds:e={},angleBounds:s={}}){const a=i=>{const o=hn(Te(e,i),{min:-1/0,max:1/0});return[o.min,o.max]},r=i=>{const o=hn(Te(s,i),{min:-1/0,max:1/0});return[o.min,o.max]};return typeof e!="function"&&typeof s!="function"?[a(),r()]:i=>[a(i),r(i)]}},Mr={...je,useTouch(n=!0){return n&&Dn()},preventWindowScrollY(n=!1){return n},threshold(n,t,{filterTaps:e=!1,lockDirection:s=!1,axis:a=void 0}){const r=Nt(n,e?3:s||a?1:0);return this.filterTaps=e,r},swipeVelocity(n=xr){return Nt(n)},swipeDistance(n=Sr){return Nt(n)},swipeDuration(n=kr){return n},delay(n=0){switch(n){case!0:return wr;case!1:return 0;default:return n}}};function Ye(n){return fe(n,Tr)}function Er(n={}){return fe(n,je)}function Ir(n={}){return fe(n,Cr)}function Dr(n={}){return fe(n,Mr)}function Fr({domTarget:n,eventOptions:t,window:e,enabled:s,...a}){const r=Ye({domTarget:n,eventOptions:t,window:e,enabled:s});return r.drag=Dr(a),r}function Ar({domTarget:n,eventOptions:t,window:e,enabled:s,...a}){const r=Ye({domTarget:n,eventOptions:t,window:e,enabled:s});return r.pinch=Ir(a),r}function Pr({domTarget:n,eventOptions:t,window:e,enabled:s,...a}){const r=Ye({domTarget:n,eventOptions:t,window:e,enabled:s});return r.wheel=Er(a),r}function qe(n,t,e={}){const s=Nr(n),a=new ar(s);return a.config=t,a.handlers=n,a.nativeRefs=e,rs()&&!t.manual&&(os(a.bind),ls(a.clean)),a}function Nr(n){const t=new Set;return n.drag&&t.add(Ct.get("drag")),n.wheel&&t.add(Ct.get("wheel")),n.scroll&&t.add(Ct.get("scroll")),n.move&&t.add(Ct.get("move")),n.pinch&&t.add(Ct.get("pinch")),n.hover&&t.add(Ct.get("hover")),t}function Rr(n,t={}){Ct.set("drag",yr);const e=z();return e.value||(e.value=We(Fr,Ke)),qe({drag:n},e.value(t))}class Or extends Gn{getInternalMovement(t,e){const s=e.values[1];let[a,r=s]=t,i=r-s,o=e.turns;return Math.abs(i)>270&&(o+=Me(i)),He([a,r-360*o],e.initial)}getKinematics(t,e){const s=this.getMovement(t),a=(t[1]-s._movement[1]-this.state.initial[1])/360,r=e.timeStamp-this.state.timeStamp,{distance:i,velocity:o,...u}=Bn(s.movement,s.delta,r);return{turns:a,...s,...u}}mapStateValues(t){return{da:t.values,vdva:t.velocities}}}var zr=Object.defineProperty,Lr=(n,t,e)=>t in n?zr(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,tt=(n,t,e)=>(Lr(n,typeof t!="symbol"?t+"":t,e),e);const Br=7,Gr=260;class Ur extends Or{constructor(){super(...arguments),tt(this,"ingKey","pinching"),tt(this,"stateKey","pinch"),tt(this,"onPinchStart",t=>{Rn(this.controller,t);const e=this.controller.touchIds;if(!this.enabled||this.state._active&&this.state._pointerIds.every(i=>e.has(i))||e.size<2)return;const s=Array.from(e).slice(0,2),{values:a,origin:r}=un(t,s,this.transform);this.updateSharedState(Tt(t)),this.updateGestureState({...oe(this,a,t),...it(this,t,!0),_pointerIds:s,cancel:this.onCancel,origin:r}),this.updateGestureState(this.getMovement(a)),this.fireGestureHandler()}),tt(this,"onPinchChange",t=>{const{canceled:e,_active:s}=this.state;if(e||!s||t.timeStamp===this.state.timeStamp)return;const a=Tt(t);this.updateSharedState(a);try{const{values:r,origin:i}=un(t,this.state._pointerIds,this.transform),o=this.getKinematics(r,t);this.updateGestureState({...it(this,t),...o,origin:i}),this.fireGestureHandler()}catch{this.onPinchEnd(t)}}),tt(this,"onPinchEnd",t=>{On(this.controller,t);const e=Ve(t);this.state._pointerIds.every(s=>!e.includes(s))||(this.clean(),this.state._active&&(this.updateGestureState({...it(this,t),...this.getMovement(this.state.values),_active:!1}),this.fireGestureHandler()))}),tt(this,"onCancel",()=>{this.state.canceled||(this.updateGestureState({_active:!1,canceled:!0}),this.fireGestureHandler())}),tt(this,"onGestureStart",t=>{if(!this.enabled)return;t.preventDefault();const e=fn(t,this.transform);this.updateSharedState(Tt(t)),this.updateGestureState({...oe(this,e,t),...it(this,t,!0),origin:[t.clientX,t.clientY],cancel:this.onCancel}),this.updateGestureState(this.getMovement(e)),this.fireGestureHandler()}),tt(this,"onGestureChange",t=>{const{canceled:e,_active:s}=this.state;if(e||!s)return;t.preventDefault();const a=Tt(t);this.updateSharedState(a);const r=fn(t,this.transform);r[0]=(r[0]-this.state.event.scale)*Gr+this.state.values[0];const i=this.getKinematics(r,t);this.updateGestureState({...it(this,t),...i,origin:[t.clientX,t.clientY]}),this.fireGestureHandler()}),tt(this,"onGestureEnd",t=>{this.clean(),this.state._active&&(this.updateGestureState({...it(this,t),...this.getMovement(this.state.values),_active:!1,origin:[t.clientX,t.clientY]}),this.fireGestureHandler())}),tt(this,"wheelShouldRun",t=>this.enabled&&t.ctrlKey),tt(this,"getWheelValuesFromEvent",t=>{const[,e]=An(t,this.transform),{values:[s,a]}=this.state;return{values:[s-e*Br,a!==void 0?a:0],origin:[t.clientX,t.clientY],delta:[0,e]}}),tt(this,"onWheel",t=>{this.wheelShouldRun(t)&&(this.setTimeout(this.onWheelEnd),this.state._active?this.onWheelChange(t):this.onWheelStart(t))}),tt(this,"onWheelStart",t=>{const{values:e,delta:s,origin:a}=this.getWheelValuesFromEvent(t);t.cancelable&&t.preventDefault(),this.updateSharedState(Tt(t)),this.updateGestureState({...oe(this,e,t),...it(this,t,!0),initial:this.state.values,offset:e,delta:s,origin:a}),this.updateGestureState(this.getMovement(e)),this.fireGestureHandler()}),tt(this,"onWheelChange",t=>{t.cancelable&&t.preventDefault(),this.updateSharedState(Tt(t));const{values:e,origin:s,delta:a}=this.getWheelValuesFromEvent(t);this.updateGestureState({...it(this,t),...this.getKinematics(e,t),origin:s,delta:a}),this.fireGestureHandler()}),tt(this,"onWheelEnd",()=>{this.clean(),this.state._active&&(this.state._active=!1,this.updateGestureState(this.getMovement(this.state.values)),this.fireGestureHandler())})}addBindings(t){this.controller.config.domTarget&&!this.controller.supportsTouchEvents&&this.controller.supportsGestureEvents?(Y(t,"onGestureStart",this.onGestureStart),Y(t,"onGestureChange",this.onGestureChange),Y(t,"onGestureEnd",this.onGestureEnd)):(Y(t,"onTouchStart",this.onPinchStart),Y(t,"onTouchMove",this.onPinchChange),Y(t,"onTouchEnd",this.onPinchEnd),Y(t,"onTouchCancel",this.onPinchEnd),Y(t,"onWheel",this.onWheel))}}var Vr=Object.defineProperty,Hr=(n,t,e)=>t in n?Vr(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,ne=(n,t,e)=>(Hr(n,typeof t!="symbol"?t+"":t,e),e);class Wr extends Un{constructor(){super(...arguments),ne(this,"ingKey","wheeling"),ne(this,"stateKey","wheel"),ne(this,"debounced",!0),ne(this,"handleEvent",t=>{if(t.ctrlKey&&"pinch"in this.controller.handlers||!this.enabled)return;this.setTimeout(this.onEnd),this.updateSharedState(Tt(t));const e=Ce(An(t,this.transform),this.state.values);if(this.state._active)this.updateGestureState({...it(this,t),...this.getKinematics(e,t)});else{this.updateGestureState({...oe(this,e,t),...it(this,t,!0),initial:this.state.values});const s=this.getMovement(e),a=cr(s.delta);this.updateGestureState(s),this.updateGestureState(a)}this.fireGestureHandler()}),ne(this,"onEnd",()=>{if(this.clean(),!this.state._active)return;const t=this.getMovement(this.state.values);this.updateGestureState(t),this.updateGestureState({_active:!1,velocities:[0,0],velocity:0}),this.fireGestureHandler()})}addBindings(t){Y(t,"onWheel",this.handleEvent)}}function Kr(n,t={}){Ct.set("pinch",Ur);const e=z();return e.value||(e.value=We(Ar,Ke)),qe({pinch:n},e.value(t))}function jr(n,t={}){Ct.set("wheel",Wr);const e=z();return e.value||(e.value=We(Pr,Ke)),qe({wheel:n},e.value(t))}function Yr(n,t){const e=cs(t),s=O(()=>l(e)?.enabled??!0),a=z(!1),r=z([0,0]),i=z(1),o=O({set(b){return b>10?i.value=10:b<.1?i.value=.1:i.value=b,i.value},get(){return i.value}}),u=z([0,0]),d=O(()=>Le(n)?.getBoundingClientRect()),v=b=>(b=(b+1800)/1800,b<=0?.01:b),m=({wheeling:b,dragging:p,pinching:y,intentional:$,enabled:I,touches:g,ctrlKey:D,event:C})=>{const _=!I||!$?!1:p&&(g===2||"pointerType"in C&&C.pointerType==="mouse")||y||b&&!D;return a.value?requestAnimationFrame(()=>a.value=_):a.value=_,_};return Rr(({wheeling:b,dragging:p,pinching:y,touches:$,intentional:I,delta:g,ctrlKey:D,event:C})=>{m({wheeling:b,dragging:p,pinching:y,intentional:I,enabled:s.value,ctrlKey:D,touches:$,event:C})&&(r.value[0]+=g[0],r.value[1]+=g[1])},{domTarget:n,filterTaps:!0}),jr(({event:b,delta:p,wheeling:y,dragging:$,pinching:I,touches:g,intentional:D,ctrlKey:C})=>{m({dragging:$,pinching:I,wheeling:y,intentional:D,enabled:s.value,touches:g,ctrlKey:C,event:b})&&(b.preventDefault(),r.value[0]+=p[0],r.value[1]+=p[1])},{domTarget:n,eventOptions:{passive:!1}}),Kr(({offset:[b],origin:p,pinching:y,dragging:$,wheeling:I,ctrlKey:g,touches:D,intentional:C,event:_})=>{if(!m({dragging:$,pinching:y,wheeling:I,intentional:C,enabled:s.value,touches:D,ctrlKey:g,event:_}))return;const V=o.value;o.value=v(b),d.value&&(p[0]-=d.value.x,p[1]-=d.value.y,r.value[0]-=(p[0]-d.value.width/2)*(o.value-V),r.value[1]-=(p[1]-d.value.height/2)*(o.value-V)),r.value[0]-=p[0]-u.value[0],r.value[1]-=p[1]-u.value[1],u.value=p},{domTarget:n,eventOptions:{passive:!1},distanceBounds:()=>({min:-1800,max:16200})}),{offset:O(()=>[r.value[0]+u.value[0],r.value[1]+u.value[1]]),zoom:o,transformOrigin:u,active:a}}const Hn=jt(()=>Yr(Ee())),Wn=jt(()=>{const n=z(""),t=z(0),e=z(0);return{src:n,width:t,height:e,processFiles:a=>{if(!(a?.[0]instanceof File))return;const r=new FileReader;r.addEventListener("load",i=>{if(i.target?.result){const o=new Image;o.onload=()=>{n.value=o.src,t.value=o.width,e.value=o.height},o.src=i.target.result.toString()}}),r.readAsDataURL(a[0])}}}),qr={class:"d-none md-d-inline-block"},Xr={class:"d-none md-d-inline-block"},Zr={key:0},Jr=ot({__name:"BoardControls",props:{info:{type:Array,required:!0}},setup(n){const{t}=Kt(),{lines:e}=$e(),s=Ue(e),{zoom:a,transformOrigin:r}=Hn(),i=Ie(),o=Ee(),u=O(()=>{const H=Le(o);return H?H.viewBox.baseVal:{x:0,y:0,width:0,height:0}});function d(){r.value=[(u.value.width/2-(u.value.x+u.value.width/2)/2)*a.value,(u.value.height/2-(u.value.y+u.value.height/2)/2)*a.value]}function v(){d(),a.value+=.1}function m(){d(),a.value-=.1}const{toggle:b,isFullscreen:p,isSupported:y}=ds(i),{undo:$,redo:I,canUndo:g,canRedo:D}=$e(),C=O(()=>`${t("board.nav.undo")} [ctrl + z][⌘ + z]`),_=O(()=>`${t("board.nav.redo")} [ctrl + shift + z][⌘ + shift + z]`),V=z();Q(s,H=>H===void 0?V.value=void 0:V.value=H>90?180-H:H);const L=O(()=>V.value?180-V.value:void 0),{processFiles:St}=Wn(),{files:It,open:Rt}=fs({multiple:!1,accept:"image/*"});return hs(It,H=>{St(Array.from(H))}),_n("f",b),(H,P)=>{const N=Ci,f=vi,h=Wt,S=Va;return k(),M("div",{class:T([H.$style.bar,"pointer-none"])},[c("div",{class:T(["pointer-all bg-bg-transparent-inverse text-inverse whitespace-nowrap",H.$style["info-box"]]),onMousemoveCapture:P[0]||(P[0]=nt(()=>{},["prevent","stop"]))},[A(N,{value:l(V)},{default:W(()=>[A(l(Wi))]),_:1},8,["value"]),A(N,{value:l(L)},{default:W(()=>[A(l(tr))]),_:1},8,["value"])],34),(k(!0),M(ht,null,Zt(n.info,F=>(k(),M("li",{key:F,class:T(["bg-bg-transparent-inverse text-inverse min-w-0",H.$style["info-box"]])},[c("small",null,U(F),1)],2))),128)),c("nav",{class:T(H.$style.nav)},[c("ul",{class:T(["pointer-all",H.$style.nav__btns])},[A(f),c("li",null,[A(h,{disabled:!l(g),tooltip:l(C),"tooltip-placement":"left",onClick:l($),onTouchstartCapture:nt(l($),["prevent","stop"])},{default:W(()=>[A(l(Yi))]),_:1},8,["disabled","tooltip","onClick","onTouchstartCapture"])]),c("li",null,[A(h,{disabled:!l(D),tooltip:l(_),"tooltip-placement":"left",onClick:l(I),onTouchstartCapture:nt(l(I),["prevent","stop"])},{default:W(()=>[A(l(Zi))]),_:1},8,["disabled","tooltip","onClick","onTouchstartCapture"])]),A(S,{disabled:l(g)},null,8,["disabled"]),c("li",null,[A(h,{tooltip:l(t)("board.nav.upload_file"),"tooltip-placement":"left",onClick:P[1]||(P[1]=F=>l(Rt)()),onTouchstartCapture:P[2]||(P[2]=nt(()=>{},["stop"]))},{default:W(()=>[A(l(Ui))]),_:1},8,["tooltip"])]),c("li",qr,[A(h,{disabled:!l(g),tooltip:`${l(t)("board.result.zoom_out")} [-]`,"tooltip-placement":"left",onClick:P[3]||(P[3]=F=>m()),onTouchstartCapture:P[4]||(P[4]=nt(F=>m(),["prevent","stop"]))},{default:W(()=>[A(l(Li))]),_:1},8,["disabled","tooltip"])]),c("li",Xr,[A(h,{disabled:!l(g),tooltip:`${l(t)("board.result.zoom_in")} [+]`,"tooltip-placement":"left",onClick:P[5]||(P[5]=F=>v()),onTouchstartCapture:P[6]||(P[6]=nt(F=>v(),["prevent","stop"]))},{default:W(()=>[A(l(Ri))]),_:1},8,["disabled","tooltip"])]),l(y)?(k(),M("li",Zr,[A(h,{tooltip:`${l(t)("board.nav.toggle_fullscreen")} [f]`,"tooltip-placement":"left",onClick:l(b),onTouchstartCapture:nt(l(b),["prevent","stop"])},{default:W(()=>[l(p)?(k(),rt(l(Ai),{key:0})):(k(),rt(l(Ii),{key:1}))]),_:1},8,["tooltip","onClick","onTouchstartCapture"])])):ft("",!0)],2)],2)],2)}}}),Qr="f_p",to="f_q",eo={bar:Qr,nav__btns:to,"info-box":"f_r"},no={$style:eo},so=Et(Jr,[["__cssModules",no]]),ao=["x1","y1","x2","y2"],io=ot({__name:"Segment",props:{pointStart:{type:Array,default:void 0},pointStop:{type:Array,default:void 0}},setup(n){return(t,e)=>n.pointStart&&n.pointStop?(k(),M("line",{key:0,x1:n.pointStart[0],y1:n.pointStart[1],x2:n.pointStop[0],y2:n.pointStop[1]},null,8,ao)):ft("",!0)}}),ro=vs((n,t,e,s)=>{if(!n||!t||!e||!s)return;n===e&&(n+=.1);const a=(t-s)/(n-e),r=s-e*a;return{slope:a,intercept:r}});function ce(n){return O(()=>ro(...n.value[0]||[],...n.value[1]||[]))}var E=function(n,t,e){if(!t.has(n))throw new TypeError("attempted to set private field on non-instance");return t.set(n,e),e},w=function(n,t){if(!t.has(n))throw new TypeError("attempted to get private field on non-instance");return t.get(n)},Ft,Bt,dt,qt,se,pt,mt,bt,gt,yt,wt,_t,xt,Gt,Xt,At,ye,Pt;const oo=function(n){var t=131,e=137,s=0;n+="x";var a=Math.floor(9007199254740991/e);for(let r=0;r<n.length;r++)s>a&&(s=Math.floor(s/e)),s=s*t+n.charCodeAt(r);return s},x="0123456789abcdef".split(""),lo=[-2147483648,8388608,32768,128],ct=[24,16,8,0],me=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],q=[];class uo{constructor(t=!1,e=!1){Ft.set(this,void 0),Bt.set(this,void 0),dt.set(this,void 0),qt.set(this,void 0),se.set(this,void 0),pt.set(this,void 0),mt.set(this,void 0),bt.set(this,void 0),gt.set(this,void 0),yt.set(this,void 0),wt.set(this,void 0),_t.set(this,void 0),xt.set(this,void 0),Gt.set(this,void 0),Xt.set(this,void 0),At.set(this,void 0),ye.set(this,0),Pt.set(this,void 0),this.init(t,e)}init(t,e){e?(q[0]=q[16]=q[1]=q[2]=q[3]=q[4]=q[5]=q[6]=q[7]=q[8]=q[9]=q[10]=q[11]=q[12]=q[13]=q[14]=q[15]=0,E(this,Bt,q)):E(this,Bt,[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),t?(E(this,pt,3238371032),E(this,mt,914150663),E(this,bt,812702999),E(this,gt,4144912697),E(this,yt,4290775857),E(this,wt,1750603025),E(this,_t,1694076839),E(this,xt,3204075428)):(E(this,pt,1779033703),E(this,mt,3144134277),E(this,bt,1013904242),E(this,gt,2773480762),E(this,yt,1359893119),E(this,wt,2600822924),E(this,_t,528734635),E(this,xt,1541459225)),E(this,Ft,E(this,Pt,E(this,dt,E(this,Xt,0)))),E(this,qt,E(this,Gt,!1)),E(this,se,!0),E(this,At,t)}update(t){if(w(this,qt))return this;let e;t instanceof ArrayBuffer?e=new Uint8Array(t):e=t;let s=0;const a=e.length,r=w(this,Bt);for(;s<a;){let i;if(w(this,Gt)&&(E(this,Gt,!1),r[0]=w(this,Ft),r[16]=r[1]=r[2]=r[3]=r[4]=r[5]=r[6]=r[7]=r[8]=r[9]=r[10]=r[11]=r[12]=r[13]=r[14]=r[15]=0),typeof e!="string")for(i=w(this,Pt);s<a&&i<64;++s)r[i>>2]|=e[s]<<ct[i++&3];else for(i=w(this,Pt);s<a&&i<64;++s){let o=e.charCodeAt(s);o<128?r[i>>2]|=o<<ct[i++&3]:o<2048?(r[i>>2]|=(192|o>>6)<<ct[i++&3],r[i>>2]|=(128|o&63)<<ct[i++&3]):o<55296||o>=57344?(r[i>>2]|=(224|o>>12)<<ct[i++&3],r[i>>2]|=(128|o>>6&63)<<ct[i++&3],r[i>>2]|=(128|o&63)<<ct[i++&3]):(o=65536+((o&1023)<<10|e.charCodeAt(++s)&1023),r[i>>2]|=(240|o>>18)<<ct[i++&3],r[i>>2]|=(128|o>>12&63)<<ct[i++&3],r[i>>2]|=(128|o>>6&63)<<ct[i++&3],r[i>>2]|=(128|o&63)<<ct[i++&3])}E(this,ye,i),E(this,dt,w(this,dt)+(i-w(this,Pt))),i>=64?(E(this,Ft,r[16]),E(this,Pt,i-64),this.hash(),E(this,Gt,!0)):E(this,Pt,i)}return w(this,dt)>4294967295&&(E(this,Xt,w(this,Xt)+(w(this,dt)/4294967296<<0)),E(this,dt,w(this,dt)%4294967296)),this}finalize(){if(w(this,qt))return;E(this,qt,!0);const t=w(this,Bt),e=w(this,ye);t[16]=w(this,Ft),t[e>>2]|=lo[e&3],E(this,Ft,t[16]),e>=56&&(w(this,Gt)||this.hash(),t[0]=w(this,Ft),t[16]=t[1]=t[2]=t[3]=t[4]=t[5]=t[6]=t[7]=t[8]=t[9]=t[10]=t[11]=t[12]=t[13]=t[14]=t[15]=0),t[14]=w(this,Xt)<<3|w(this,dt)>>>29,t[15]=w(this,dt)<<3,this.hash()}hash(){let t=w(this,pt),e=w(this,mt),s=w(this,bt),a=w(this,gt),r=w(this,yt),i=w(this,wt),o=w(this,_t),u=w(this,xt);const d=w(this,Bt);let v,m,b,p,y,$,I,g,D,C;for(let _=16;_<64;++_)p=d[_-15],v=(p>>>7|p<<25)^(p>>>18|p<<14)^p>>>3,p=d[_-2],m=(p>>>17|p<<15)^(p>>>19|p<<13)^p>>>10,d[_]=d[_-16]+v+d[_-7]+m<<0;C=e&s;for(let _=0;_<64;_+=4)w(this,se)?(w(this,At)?(I=300032,p=d[0]-1413257819,u=p-150054599<<0,a=p+24177077<<0):(I=704751109,p=d[0]-210244248,u=p-1521486534<<0,a=p+143694565<<0),E(this,se,!1)):(v=(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10),m=(r>>>6|r<<26)^(r>>>11|r<<21)^(r>>>25|r<<7),I=t&e,b=I^t&s^C,$=r&i^~r&o,p=u+m+$+me[_]+d[_],y=v+b,u=a+p<<0,a=p+y<<0),v=(a>>>2|a<<30)^(a>>>13|a<<19)^(a>>>22|a<<10),m=(u>>>6|u<<26)^(u>>>11|u<<21)^(u>>>25|u<<7),g=a&t,b=g^a&e^I,$=u&r^~u&i,p=o+m+$+me[_+1]+d[_+1],y=v+b,o=s+p<<0,s=p+y<<0,v=(s>>>2|s<<30)^(s>>>13|s<<19)^(s>>>22|s<<10),m=(o>>>6|o<<26)^(o>>>11|o<<21)^(o>>>25|o<<7),D=s&a,b=D^s&t^g,$=o&u^~o&r,p=i+m+$+me[_+2]+d[_+2],y=v+b,i=e+p<<0,e=p+y<<0,v=(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10),m=(i>>>6|i<<26)^(i>>>11|i<<21)^(i>>>25|i<<7),C=e&s,b=C^e&a^D,$=i&o^~i&u,p=r+m+$+me[_+3]+d[_+3],y=v+b,r=t+p<<0,t=p+y<<0;E(this,pt,w(this,pt)+t<<0),E(this,mt,w(this,mt)+e<<0),E(this,bt,w(this,bt)+s<<0),E(this,gt,w(this,gt)+a<<0),E(this,yt,w(this,yt)+r<<0),E(this,wt,w(this,wt)+i<<0),E(this,_t,w(this,_t)+o<<0),E(this,xt,w(this,xt)+u<<0)}hex(){this.finalize();const t=w(this,pt),e=w(this,mt),s=w(this,bt),a=w(this,gt),r=w(this,yt),i=w(this,wt),o=w(this,_t),u=w(this,xt);let d=x[t>>28&15]+x[t>>24&15]+x[t>>20&15]+x[t>>16&15]+x[t>>12&15]+x[t>>8&15]+x[t>>4&15]+x[t&15]+x[e>>28&15]+x[e>>24&15]+x[e>>20&15]+x[e>>16&15]+x[e>>12&15]+x[e>>8&15]+x[e>>4&15]+x[e&15]+x[s>>28&15]+x[s>>24&15]+x[s>>20&15]+x[s>>16&15]+x[s>>12&15]+x[s>>8&15]+x[s>>4&15]+x[s&15]+x[a>>28&15]+x[a>>24&15]+x[a>>20&15]+x[a>>16&15]+x[a>>12&15]+x[a>>8&15]+x[a>>4&15]+x[a&15]+x[r>>28&15]+x[r>>24&15]+x[r>>20&15]+x[r>>16&15]+x[r>>12&15]+x[r>>8&15]+x[r>>4&15]+x[r&15]+x[i>>28&15]+x[i>>24&15]+x[i>>20&15]+x[i>>16&15]+x[i>>12&15]+x[i>>8&15]+x[i>>4&15]+x[i&15]+x[o>>28&15]+x[o>>24&15]+x[o>>20&15]+x[o>>16&15]+x[o>>12&15]+x[o>>8&15]+x[o>>4&15]+x[o&15];return w(this,At)||(d+=x[u>>28&15]+x[u>>24&15]+x[u>>20&15]+x[u>>16&15]+x[u>>12&15]+x[u>>8&15]+x[u>>4&15]+x[u&15]),d}toString(){return this.hex()}digest(){this.finalize();const t=w(this,pt),e=w(this,mt),s=w(this,bt),a=w(this,gt),r=w(this,yt),i=w(this,wt),o=w(this,_t),u=w(this,xt),d=[t>>24&255,t>>16&255,t>>8&255,t&255,e>>24&255,e>>16&255,e>>8&255,e&255,s>>24&255,s>>16&255,s>>8&255,s&255,a>>24&255,a>>16&255,a>>8&255,a&255,r>>24&255,r>>16&255,r>>8&255,r&255,i>>24&255,i>>16&255,i>>8&255,i&255,o>>24&255,o>>16&255,o>>8&255,o&255];return w(this,At)||d.push(u>>24&255,u>>16&255,u>>8&255,u&255),d}array(){return this.digest()}arrayBuffer(){this.finalize();const t=new ArrayBuffer(w(this,At)?28:32),e=new DataView(t);return e.setUint32(0,w(this,pt)),e.setUint32(4,w(this,mt)),e.setUint32(8,w(this,bt)),e.setUint32(12,w(this,gt)),e.setUint32(16,w(this,yt)),e.setUint32(20,w(this,wt)),e.setUint32(24,w(this,_t)),w(this,At)||e.setUint32(28,w(this,xt)),t}}Ft=new WeakMap,Bt=new WeakMap,dt=new WeakMap,qt=new WeakMap,se=new WeakMap,pt=new WeakMap,mt=new WeakMap,bt=new WeakMap,gt=new WeakMap,yt=new WeakMap,wt=new WeakMap,_t=new WeakMap,xt=new WeakMap,Gt=new WeakMap,Xt=new WeakMap,At=new WeakMap,ye=new WeakMap,Pt=new WeakMap;function co(n){const t=new uo;return t.update(n),parseInt(t.hex().substring(0,8),16)}const fo=function(n){var t="#";return n.forEach(function(e){e<16&&(t+=0),t+=e.toString(16)}),t},ho=function(n,t,e){n/=360;var s=e<.5?e*(1+t):e+t-e*t,a=2*e-s;return[n+1/3,n,n-1/3].map(function(r){return r<0&&r++,r>1&&r--,r<1/6?r=a+(s-a)*6*r:r<.5?r=s:r<2/3?r=a+(s-a)*6*(2/3-r):r=a,Math.round(r*255)})};class vo{constructor(t={}){const[e,s]=[t.lightness,t.saturation].map(function(a){return a=a!==void 0?a:[.35,.5,.65],Array.isArray(a)?a.concat():[a]});this.L=e,this.S=s,typeof t.hue=="number"&&(t.hue={min:t.hue,max:t.hue}),typeof t.hue=="object"&&!Array.isArray(t.hue)&&(t.hue=[t.hue]),typeof t.hue>"u"&&(t.hue=[]),this.hueRanges=t.hue.map(function(a){return{min:typeof a.min>"u"?0:a.min,max:typeof a.max>"u"?360:a.max}}),this.hash=co,typeof t.hash=="function"&&(this.hash=t.hash),t.hash==="bkdr"&&(this.hash=oo)}hsl(t){var e,s,a,r=this.hash(t),i=727;if(this.hueRanges.length){const o=this.hueRanges[r%this.hueRanges.length];e=r/this.hueRanges.length%i*(o.max-o.min)/i+o.min}else e=r%359;return r=Math.ceil(r/360),s=this.S[r%this.S.length],r=Math.ceil(r/this.S.length),a=this.L[r%this.L.length],[e,s,a]}rgb(t){var e=this.hsl(t);return ho.apply(this,e)}hex(t){var e=this.rgb(t);return fo(e)}}const po=Array.from({length:550},(n,t)=>(t+401)/1e3),mo=Array.from({length:551},(n,t)=>(t+50)/1e3);function ze(n){return O(()=>{const t=JSON.stringify(n.value),e=Fe.value?po:mo,[s,a,r]=new vo({lightness:e}).hsl(t);return`hsl(${[s,`${Fe.value&&r<.3||!Fe.value&&r>.7?Math.min(a+.4,1)*100:a*100}%`,`${r*100}%`].join(",")})`})}const Kn=ot({__name:"Line",props:{points:{type:Array,default:()=>[]},pathWidth:{type:Number,default:1},svgSize:{type:Object,default:void 0},svgOffset:{type:Object,default:void 0}},setup(n){const t=n,e=ce(Je(t,"points")),s=ze(Je(t,"points")),a=O(()=>{const{svgSize:i,svgOffset:o}=t;if(!i||!o||!e.value||t.points[0]?.[0]===t.points[1]?.[0]&&t.points[0]?.[1]===t.points[1]?.[1])return;const{slope:u,intercept:d}=e.value,v=o.x,m=i.width+o.x;return[[v,u*v+d],[m,u*m+d]]}),r=O(()=>`${t.pathWidth} ${2*t.pathWidth}`);return(i,o)=>{const u=io;return k(),M(ht,null,[a.value?(k(),M(ht,{key:0},[A(u,Vt(i.$attrs,{"stroke-width":n.pathWidth*.8,stroke:"var(--background-color-transparent)","point-start":a.value[0],"point-stop":a.value[1],"stroke-dasharray":r.value,"stroke-linecap":"round",opacity:".2"}),null,16,["stroke-width","point-start","point-stop","stroke-dasharray"]),A(u,Vt({"stroke-width":n.pathWidth*.4,stroke:l(s)},i.$attrs,{"point-start":a.value[0],"point-stop":a.value[1],"stroke-dasharray":r.value,"stroke-linecap":"round"}),null,16,["stroke-width","stroke","point-start","point-stop","stroke-dasharray"])],64)):ft("",!0),A(u,Vt(i.$attrs,{"stroke-width":n.pathWidth*1.2,stroke:"var(--background-color-transparent)","point-start":n.points[0],"point-stop":n.points[1],"stroke-linecap":"round",opacity:".3"}),null,16,["stroke-width","point-start","point-stop"]),A(u,Vt({stroke:l(s)},i.$attrs,{"stroke-linecap":"round","point-start":n.points[0],"point-stop":n.points[1]}),null,16,["stroke","point-start","point-stop"])],64)}}}),bo={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"};function go(n,t){return k(),M("svg",bo,[...t[0]||(t[0]=[c("path",{fill:"currentColor",d:"M24 19h-3v-3h-2v3h-3v2h3v3h2v-3h3z"},null,-1),c("path",{fill:"currentColor",d:"m31 29.586l-4.688-4.688a8.028 8.028 0 1 0-1.415 1.414L29.586 31zM20 26a6 6 0 1 1 6-6a6.007 6.007 0 0 1-6 6M4 8H2V4a2 2 0 0 1 2-2h4v2H4zm22 0h-2V4h-4V2h4a2 2 0 0 1 2 2zM12 2h4v2h-4zM8 26H4a2 2 0 0 1-2-2v-4h2v4h4zM2 12h2v4H2z"},null,-1)])])}const yo=X({name:"carbon-zoom-in-area",render:go}),wo={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"};function _o(n,t){return k(),M("svg",wo,[...t[0]||(t[0]=[c("path",{fill:"currentColor",d:"M16 19h8v2h-8z"},null,-1),c("path",{fill:"currentColor",d:"m31 29.586l-4.688-4.688a8.028 8.028 0 1 0-1.415 1.414L29.586 31zM20 26a6 6 0 1 1 6-6a6.007 6.007 0 0 1-6 6M4 8H2V4a2 2 0 0 1 2-2h4v2H4zm22 0h-2V4h-4V2h4a2 2 0 0 1 2 2zM12 2h4v2h-4zM8 26H4a2 2 0 0 1-2-2v-4h2v4h4zM2 12h2v4H2z"},null,-1)])])}const xo=X({name:"carbon-zoom-out-area",render:_o});var kt=(n=>(n[n.UP=0]="UP",n[n.DOWN=1]="DOWN",n[n.LEFT=2]="LEFT",n[n.RIGHT=3]="RIGHT",n))(kt||{});const jn=jt(()=>{const n=z(!1);return{outOfBoundLabels:n,setOutBoundLabels(t,e,s){const a={x:30,y:4.5},r=t.find(({x:u,y:d})=>(u-=s.x,d-=s.y,u<a.x||u>e.width-a.x||d<a.y+3||d>e.height-a.y));if(!r)return n.value=!1;let{x:i,y:o}=r;return i-=s.x,o-=s.y,i<a.x?n.value={direction:2,y:o}:i>e.width-a.x?n.value={direction:3,y:o}:o<a.y+3?n.value={direction:0,x:i}:n.value={direction:1,x:i}}}});function Yn(n,t){return O(()=>{if(!n.value||!t.value)return;const{slope:e,intercept:s}=n.value,{slope:a,intercept:r}=t.value;let i;return e===a?i=r-s:i=(s-r)/(a-e),{x:i,y:e*i+s}})}function qn(n,t,e,s){return O(()=>{if(!t.value||!e.value||!s.value||!n.value)return;const a=e.value,r=s.value;let i=Math.tan((Math.atan(a.slope)+Math.atan(r.slope))/2),o=-1/i,u=a.slope*t.value.x+a.intercept-i*t.value.x,d=a.slope*t.value.x+a.intercept-o*t.value.x;const v=In([[[0,a.intercept],[t.value.x,a.slope*t.value.x+a.intercept]],[[0,u],[t.value.x,i*t.value.x+u]]])*2;return(v-1>n.value||v+1<n.value)&&([i,u,o,d]=[o,d,i,u]),{acute:{slope:i,intercept:u},obtuse:{slope:o,intercept:d}}})}function Xn(n,t,e){const s=z([]);return ps([t,e,n],()=>{if(!t.value||!e.value||!n.value)return s.value=[];const{acute:{slope:a,intercept:r},obtuse:{slope:i,intercept:o}}=e.value,u=70,d=n.value,v=Math.cos(Math.atan(a))*(u+(90-d)*.4)+t.value.x,m=180-d,b=-Math.cos(Math.atan(i))*(u+(90-m)*.4)+t.value.x;s.value=[{x:v,y:a*v+r,value:d},{x:b,y:i*b+o,value:m}]},{throttle:20,immediate:!0}),s}function yn(n,t){return O(()=>{if(!t.value||!n.value)return;const{slope:e,intercept:s}=n.value,{x1:a,x2:r}=t.value;return[[a,e*a+s],[r,e*r+s]]})}const So=["viewBox"],ko=["transform"],$o=["x","y"],To=ot({__name:"BoardResult",setup(n){const{t}=Kt(),e=z(!1);function s(){e.value&&(e.value=!1)}const a=z();ms(a,s),_n("Escape",s);const{height:r,width:i}=Be(Ie()),o=O(()=>({width:300,height:300*r.value/i.value})),{outOfBoundLabels:u}=jn(),d=O(()=>{const P=e.value?260:50;return{width:P,height:P}}),v=O(()=>({minY:d.value.height,maxY:r.value-d.value.height,minX:d.value.width,maxX:i.value-d.value.width})),m=O(()=>{const{minX:P,maxX:N,minY:f,maxY:h}=v.value,S=B=>B>h?h:B<f?f:B,F=B=>B>N?N:B<P?P:B;if(!u.value)return;const R={height:`${d.value.height}px`,width:`${d.value.width}px`};switch(u.value.direction){case kt.DOWN:return{...R,bottom:"1rem",left:`${F(u.value.x)}px`,transform:"translateX(-50%)"};case kt.UP:return{...R,top:"1rem",left:`${F(u.value.x)}px`,transform:"translateX(-50%)"};case kt.LEFT:return{...R,top:`${S(u.value.y)}px`,left:"1rem",transform:"translateY(-50%)"};case kt.RIGHT:return{...R,top:`${S(u.value.y)}px`,right:"1rem",transform:"translateY(-50%)"}}}),{lines:b}=$e(),p=Ue(b),y=O(()=>b.value[0]||[]),$=O(()=>b.value[1]||[]),I=ce(y),g=ce($),D=Yn(I,g),C=qn(p,D,I,g),_=Xn(p,D,C),V=O(()=>D.value&&{x1:D.value.x-o.value.width,x2:D.value.x+o.value.width}),L=yn(I,V),St=yn(g,V),It=ze(y),Rt=ze($),H={[kt.UP]:"bottom",[kt.DOWN]:void 0,[kt.LEFT]:"right",[kt.RIGHT]:"left"};return(P,N)=>{const f=Wt,h=Kn;return l(I)&&l(g)&&l(D)&&l(u)?(k(),M("section",{key:0,ref_key:"el",ref:a,class:T(["bg-bg-transparent-inverse text-inverse",[P.$style.result,{[P.$style["result--open"]]:l(e)}]]),style:be(l(m)),onMousemove:N[0]||(N[0]=nt(()=>{},["prevent","stop"])),onClick:N[1]||(N[1]=S=>e.value=!l(e))},[A(f,{class:T(P.$style.btn),tooltip:l(e)?l(t)("board.result.zoom_out"):l(t)("board.result.zoom_in"),"tooltip-placement":l(e)?"left":H[l(u).direction]},{default:W(()=>[(k(),rt(bs(l(e)?l(xo):l(yo))))]),_:1},8,["class","tooltip","tooltip-placement"]),(k(),M("svg",{viewBox:`${l(o).width*.1} ${l(o).height*.1} ${l(o).width*.8} ${l(o).height*.8}`,class:T(P.$style.svg)},[c("g",{transform:`translate(${-l(D).x+l(o).width*.5} ${-l(D).y+l(o).height*.5})`},[l(L)?(k(),rt(h,Vt({key:0,"stroke-width":"4","stroke-linecap":"round"},P.$attrs,{stroke:l(It),"path-width":4,points:l(L),"stroke-dasharray":"5 10",filter:"saturate(2.5)"}),null,16,["stroke","points"])):ft("",!0),l(St)?(k(),rt(h,Vt({key:1,"stroke-width":"4","stroke-linecap":"round"},P.$attrs,{stroke:l(Rt),"path-width":4,points:l(St),"stroke-dasharray":"5 10",filter:"saturate(2.5)"}),null,16,["stroke","points"])):ft("",!0),(k(!0),M(ht,null,Zt(l(_),S=>(k(),M("text",{key:`${S.x}|${S.y}`,x:S.x,y:S.y,"text-anchor":"middle","dominant-baseline":"middle",stroke:"transparent"},U(S.value.toFixed(3))+"° ",9,$o))),128))],8,ko)],10,So))],38)):ft("",!0)}}}),Co="f_z",Mo="f_1",Eo="f_2",Io={result:Co,"result--open":"f_0",svg:Mo,btn:Eo},Do={$style:Io},Fo=Et(To,[["__cssModules",Do]]),Ao=["viewBox","stroke-width"],Po=["cx","cy","r"],No=["x","y","stroke-width"],Ro=["x","y"],Oo=ot({__name:"BoardSvg",props:{width:{type:Number,default:0},height:{type:Number,default:0}},emits:["pressed"],setup(n,{emit:t}){const e=n,s=t,{width:a,height:r}=wn(e),i=Ee(),o=z(!1),{ctrl:u,meta:d,option:v}=Ge(),m=O(()=>{if(d.value)return"move"}),{offset:b,active:p,zoom:y,transformOrigin:$}=Hn(),I=O(()=>5/y.value),g=O(()=>({width:a.value/y.value,height:r.value/y.value})),D=O(()=>({x:-b.value[0]/y.value,y:-b.value[1]/y.value})),{elementX:C,elementY:_}=gs(i,{handleOutside:!1}),V=O(()=>(C.value-b.value[0])/y.value),L=O(()=>(_.value-b.value[1])/y.value),{undo:St,redo:It}=we(C),{undo:Rt,redo:H}=we(_),{lines:P,predictNextPoint:N,drawNextPoint:f,step:h,registerOnRedo:S,registerOnUndo:F}=$e();S(()=>{It(),H()}),F(()=>{St(),Rt()}),Q([V,L],([ut,J])=>{h.value===2&&N(ut,J)});const R=Ue(P),B=O(()=>P.value[0]||[]),G=O(()=>P.value[1]||[]),K=ce(B),j=ce(G),vt=Yn(K,j),Ot=qn(R,vt,K,j),lt=Xn(R,vt,Ot),{setOutBoundLabels:zt}=jn();Q([lt,g,D],([ut,J,Lt])=>zt(ut,J,Lt)),Q([a,r],([ut,J],[Lt,at])=>{$.value=[$.value[0]+(ut-Lt)/2,$.value[1]+(J-at)/2]});function Jt(){p.value||(f(V.value,L.value),s("pressed"))}return(ut,J)=>{const Lt=Kn;return k(),M("svg",{ref_key:"svgRef",ref:i,viewBox:`${l(D).x} ${l(D).y} ${l(g).width} ${l(g).height}`,"stroke-width":l(I),tabindex:"0",style:be({cursor:l(m)}),onTouchend:nt(Jt,["prevent"]),onMouseup:nt(Jt,["left","prevent"]),onMousedownOnce:J[0]||(J[0]=nt(at=>o.value=!0,["left"])),onMousemovePassiveOnce:J[1]||(J[1]=at=>o.value=!0),onTouchstartPassiveOnce:J[2]||(J[2]=at=>o.value=!0)},[ae(ut.$slots,"default"),l(h)%2?Dt((k(),M("circle",{key:0,cx:`${l(V)}px`,cy:`${l(L)}px`,r:l(I),"stroke-width":1},null,8,Po)),[[ys,l(o)&&!l(u)&&!l(d)&&!l(v)]]):(k(),rt(Lt,{key:1,points:[l(P)[Math.floor(l(h)/2)][0],[l(V),l(L)]],"svg-size":l(g),"svg-offset":l(D),"path-width":l(I)},null,8,["points","svg-size","svg-offset","path-width"])),A(Lt,{points:l(P)[0],"svg-size":l(g),"svg-offset":l(D),"path-width":l(I)},null,8,["points","svg-size","svg-offset","path-width"]),A(Lt,{points:l(P)[1],"svg-size":l(g),"svg-offset":l(D),"path-width":l(I)},null,8,["points","svg-size","svg-offset","path-width"]),(k(!0),M(ht,null,Zt(l(lt),at=>(k(),M(ht,{key:`${at.x}|${at.y}`},[c("text",{x:at.x,y:at.y,"text-anchor":"middle","dominant-baseline":"middle",stroke:"var(--background-color-transparent)","stroke-width":l(I),style:be(`font-size:${l(I)/5}em`)},U(at.value.toFixed(3))+"° ",13,No),c("text",{x:at.x,y:at.y,"text-anchor":"middle","dominant-baseline":"middle",stroke:"transparent",style:be(`font-size:${l(I)/5}em`)},U(at.value.toFixed(3))+"° ",13,Ro)],64))),128))],44,Ao)}}}),zo=["href","x","y","height","width"],Lo=ot({__name:"Board",setup(n){const{t}=Kt(),e=z(!0),s=Ie(),{height:a,width:r}=Be(s),{src:i,width:o,height:u,processFiles:d}=Wn(),v=z(0),m=z(0);Q(i,()=>{if(u&&o)if(o.value>r.value||u.value>a.value){const y=Math.min(r.value/o.value,a.value/u.value);v.value=u.value*y,m.value=o.value*y}else v.value=u.value,m.value=o.value});const{isOverDropZone:b}=ws(s,d),p=O(()=>b.value?[t("board.drop_file_here")]:[]);return(y,$)=>{const I=Oo,g=Fo,D=so;return k(),M("div",{ref_key:"boardRef",ref:s,class:T(y.$style.board)},[A(I,{class:T(y.$style.board__svg),width:l(r),height:l(a),onPressed:$[0]||($[0]=C=>e.value=!1)},{default:W(()=>[l(i)?(k(),M("image",{key:0,href:l(i),x:l(m)/-2,y:l(v)/-2,height:`${l(v)}`,width:`${l(m)}`},null,8,zo)):ft("",!0)]),_:1},8,["class","width","height"]),l(e)&&!l(i)?(k(),M("div",{key:0,class:T(y.$style.board__hint)},U(l(t)("board.click_this_button_or_drop")),3)):ft("",!0),A(g),A(D,{class:T(y.$style.board__nav),info:l(p),"onUpdate:files":l(d)},null,8,["class","info","onUpdate:files"])],2)}}}),Bo="f_h",Go="f_i",Uo="f_j",Vo="f_k",Ho={board:Bo,board__svg:Go,board__nav:Uo,board__hint:Vo},Wo={$style:Ho},Ko=Et(Lo,[["__cssModules",Wo]]),jo={};function Yo(n,t){const e=Ko;return k(),rt(e,{class:"flex-grow"})}const Jo=Et(jo,[["render",Yo]]);export{Jo as default};
