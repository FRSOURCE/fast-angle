import{d as Q,q as O,s as W,v as Ce,x as Un,y as Hn,u as Rt,o as $,c as Z,b as F,w as U,a as c,z as Dt,A as Y,j as L,B as Kt,n as M,l as j,k as r,T as Vn,m as at,C as Pt,e as Tt,E as zt,h as z,i as E,F as Wn,G as Kn,H as ne,I as un,J as wt,K as Ut,L as mt,M as Ne,N as it,O as Bt,P as Te,Q as Me,r as jn,R as Yn,S as qn,U as Le,V as Xn,W as ue,X as Zn,Y as Jn,Z as Qn,$ as ts,a0 as es,a1 as ns,a2 as ss,a3 as as,a4 as cn,a5 as is,a6 as xe,a7 as Be,a8 as os,a9 as rs,aa as ls,ab as oe,ac as us,ad as cs,ae as ds}from"./app.33c61873.js";/*!
* tabbable 6.1.2
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var dn=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],ce=dn.join(","),hn=typeof Element>"u",Ft=hn?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,de=!hn&&Element.prototype.getRootNode?function(n){var t;return n==null||(t=n.getRootNode)===null||t===void 0?void 0:t.call(n)}:function(n){return n==null?void 0:n.ownerDocument},he=function n(t,e){var s;e===void 0&&(e=!0);var a=t==null||(s=t.getAttribute)===null||s===void 0?void 0:s.call(t,"inert"),o=a===""||a==="true",i=o||e&&t&&n(t.parentNode);return i},hs=function(t){var e,s=t==null||(e=t.getAttribute)===null||e===void 0?void 0:e.call(t,"contenteditable");return s===""||s==="true"},fn=function(t,e,s){if(he(t))return[];var a=Array.prototype.slice.apply(t.querySelectorAll(ce));return e&&Ft.call(t,ce)&&a.unshift(t),a=a.filter(s),a},vn=function n(t,e,s){for(var a=[],o=Array.from(t);o.length;){var i=o.shift();if(!he(i,!1))if(i.tagName==="SLOT"){var l=i.assignedElements(),u=l.length?l:i.children,d=n(u,!0,s);s.flatten?a.push.apply(a,d):a.push({scopeParent:i,candidates:d})}else{var p=Ft.call(i,ce);p&&s.filter(i)&&(e||!t.includes(i))&&a.push(i);var m=i.shadowRoot||typeof s.getShadowRoot=="function"&&s.getShadowRoot(i),g=!he(m,!1)&&(!s.shadowRootFilter||s.shadowRootFilter(i));if(m&&g){var f=n(m===!0?i.children:m.children,!0,s);s.flatten?a.push.apply(a,f):a.push({scopeParent:i,candidates:f})}else o.unshift.apply(o,i.children)}}return a},pn=function(t,e){return t.tabIndex<0&&(e||/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName)||hs(t))&&isNaN(parseInt(t.getAttribute("tabindex"),10))?0:t.tabIndex},fs=function(t,e){return t.tabIndex===e.tabIndex?t.documentOrder-e.documentOrder:t.tabIndex-e.tabIndex},mn=function(t){return t.tagName==="INPUT"},vs=function(t){return mn(t)&&t.type==="hidden"},ps=function(t){var e=t.tagName==="DETAILS"&&Array.prototype.slice.apply(t.children).some(function(s){return s.tagName==="SUMMARY"});return e},ms=function(t,e){for(var s=0;s<t.length;s++)if(t[s].checked&&t[s].form===e)return t[s]},gs=function(t){if(!t.name)return!0;var e=t.form||de(t),s=function(l){return e.querySelectorAll('input[type="radio"][name="'+l+'"]')},a;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")a=s(window.CSS.escape(t.name));else try{a=s(t.name)}catch(i){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",i.message),!1}var o=ms(a,t.form);return!o||o===t},bs=function(t){return mn(t)&&t.type==="radio"},_s=function(t){return bs(t)&&!gs(t)},ys=function(t){var e,s=t&&de(t),a=(e=s)===null||e===void 0?void 0:e.host,o=!1;if(s&&s!==t){var i,l,u;for(o=!!((i=a)!==null&&i!==void 0&&(l=i.ownerDocument)!==null&&l!==void 0&&l.contains(a)||t!=null&&(u=t.ownerDocument)!==null&&u!==void 0&&u.contains(t));!o&&a;){var d,p,m;s=de(a),a=(d=s)===null||d===void 0?void 0:d.host,o=!!((p=a)!==null&&p!==void 0&&(m=p.ownerDocument)!==null&&m!==void 0&&m.contains(a))}}return o},Ge=function(t){var e=t.getBoundingClientRect(),s=e.width,a=e.height;return s===0&&a===0},xs=function(t,e){var s=e.displayCheck,a=e.getShadowRoot;if(getComputedStyle(t).visibility==="hidden")return!0;var o=Ft.call(t,"details>summary:first-of-type"),i=o?t.parentElement:t;if(Ft.call(i,"details:not([open]) *"))return!0;if(!s||s==="full"||s==="legacy-full"){if(typeof a=="function"){for(var l=t;t;){var u=t.parentElement,d=de(t);if(u&&!u.shadowRoot&&a(u)===!0)return Ge(t);t.assignedSlot?t=t.assignedSlot:!u&&d!==t.ownerDocument?t=d.host:t=u}t=l}if(ys(t))return!t.getClientRects().length;if(s!=="legacy-full")return!0}else if(s==="non-zero-area")return Ge(t);return!1},ws=function(t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))for(var e=t.parentElement;e;){if(e.tagName==="FIELDSET"&&e.disabled){for(var s=0;s<e.children.length;s++){var a=e.children.item(s);if(a.tagName==="LEGEND")return Ft.call(e,"fieldset[disabled] *")?!0:!a.contains(t)}return!0}e=e.parentElement}return!1},fe=function(t,e){return!(e.disabled||he(e)||vs(e)||xs(e,t)||ps(e)||ws(e))},Se=function(t,e){return!(_s(e)||pn(e)<0||!fe(t,e))},$s=function(t){var e=parseInt(t.getAttribute("tabindex"),10);return!!(isNaN(e)||e>=0)},Ss=function n(t){var e=[],s=[];return t.forEach(function(a,o){var i=!!a.scopeParent,l=i?a.scopeParent:a,u=pn(l,i),d=i?n(a.candidates):l;u===0?i?e.push.apply(e,d):e.push(l):s.push({documentOrder:o,tabIndex:u,item:a,isScope:i,content:d})}),s.sort(fs).reduce(function(a,o){return o.isScope?a.push.apply(a,o.content):a.push(o.content),a},[]).concat(e)},ks=function(t,e){e=e||{};var s;return e.getShadowRoot?s=vn([t],e.includeContainer,{filter:Se.bind(null,e),flatten:!1,getShadowRoot:e.getShadowRoot,shadowRootFilter:$s}):s=fn(t,e.includeContainer,Se.bind(null,e)),Ss(s)},Cs=function(t,e){e=e||{};var s;return e.getShadowRoot?s=vn([t],e.includeContainer,{filter:fe.bind(null,e),flatten:!0,getShadowRoot:e.getShadowRoot}):s=fn(t,e.includeContainer,fe.bind(null,e)),s},se=function(t,e){if(e=e||{},!t)throw new Error("No node provided");return Ft.call(t,ce)===!1?!1:Se(e,t)},Ts=dn.concat("iframe").join(","),we=function(t,e){if(e=e||{},!t)throw new Error("No node provided");return Ft.call(t,Ts)===!1?!1:fe(e,t)};/*!
* focus-trap 7.4.3
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function Ue(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),e.push.apply(e,s)}return e}function He(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?Ue(Object(e),!0).forEach(function(s){Ms(n,s,e[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):Ue(Object(e)).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(e,s))})}return n}function Ms(n,t,e){return t=Is(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Es(n,t){if(typeof n!="object"||n===null)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var s=e.call(n,t||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function Is(n){var t=Es(n,"string");return typeof t=="symbol"?t:String(t)}var Ve={activateTrap:function(t,e){if(t.length>0){var s=t[t.length-1];s!==e&&s.pause()}var a=t.indexOf(e);a===-1||t.splice(a,1),t.push(e)},deactivateTrap:function(t,e){var s=t.indexOf(e);s!==-1&&t.splice(s,1),t.length>0&&t[t.length-1].unpause()}},As=function(t){return t.tagName&&t.tagName.toLowerCase()==="input"&&typeof t.select=="function"},Ds=function(t){return t.key==="Escape"||t.key==="Esc"||t.keyCode===27},jt=function(t){return t.key==="Tab"||t.keyCode===9},Fs=function(t){return jt(t)&&!t.shiftKey},Rs=function(t){return jt(t)&&t.shiftKey},We=function(t){return setTimeout(t,0)},Ke=function(t,e){var s=-1;return t.every(function(a,o){return e(a)?(s=o,!1):!0}),s},Ht=function(t){for(var e=arguments.length,s=new Array(e>1?e-1:0),a=1;a<e;a++)s[a-1]=arguments[a];return typeof t=="function"?t.apply(void 0,s):t},ae=function(t){return t.target.shadowRoot&&typeof t.composedPath=="function"?t.composedPath()[0]:t.target},Ps=[],zs=function(t,e){var s=(e==null?void 0:e.document)||document,a=(e==null?void 0:e.trapStack)||Ps,o=He({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:Fs,isKeyBackward:Rs},e),i={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0},l,u=function(h,v,b){return h&&h[v]!==void 0?h[v]:o[b||v]},d=function(h,v){var b=typeof(v==null?void 0:v.composedPath)=="function"?v.composedPath():void 0;return i.containerGroups.findIndex(function(P){var R=P.container,N=P.tabbableNodes;return R.contains(h)||(b==null?void 0:b.includes(R))||N.find(function(B){return B===h})})},p=function(h){var v=o[h];if(typeof v=="function"){for(var b=arguments.length,P=new Array(b>1?b-1:0),R=1;R<b;R++)P[R-1]=arguments[R];v=v.apply(void 0,P)}if(v===!0&&(v=void 0),!v){if(v===void 0||v===!1)return v;throw new Error("`".concat(h,"` was specified but was not a node, or did not return a node"))}var N=v;if(typeof v=="string"&&(N=s.querySelector(v),!N))throw new Error("`".concat(h,"` as selector refers to no known node"));return N},m=function(){var h=p("initialFocus");if(h===!1)return!1;if(h===void 0||!we(h,o.tabbableOptions))if(d(s.activeElement)>=0)h=s.activeElement;else{var v=i.tabbableGroups[0],b=v&&v.firstTabbableNode;h=b||p("fallbackFocus")}if(!h)throw new Error("Your focus-trap needs to have at least one focusable element");return h},g=function(){if(i.containerGroups=i.containers.map(function(h){var v=ks(h,o.tabbableOptions),b=Cs(h,o.tabbableOptions);return{container:h,tabbableNodes:v,focusableNodes:b,firstTabbableNode:v.length>0?v[0]:null,lastTabbableNode:v.length>0?v[v.length-1]:null,nextTabbableNode:function(R){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,B=b.findIndex(function(K){return K===R});if(!(B<0))return N?b.slice(B+1).find(function(K){return se(K,o.tabbableOptions)}):b.slice(0,B).reverse().find(function(K){return se(K,o.tabbableOptions)})}}}),i.tabbableGroups=i.containerGroups.filter(function(h){return h.tabbableNodes.length>0}),i.tabbableGroups.length<=0&&!p("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times")},f=function G(h){if(h!==!1&&h!==s.activeElement){if(!h||!h.focus){G(m());return}h.focus({preventScroll:!!o.preventScroll}),i.mostRecentlyFocusedNode=h,As(h)&&h.select()}},x=function(h){var v=p("setReturnFocus",h);return v||(v===!1?!1:h)},w=function(h){var v=ae(h);if(!(d(v,h)>=0)){if(Ht(o.clickOutsideDeactivates,h)){l.deactivate({returnFocus:o.returnFocusOnDeactivate});return}Ht(o.allowOutsideClick,h)||h.preventDefault()}},T=function(h){var v=ae(h),b=d(v,h)>=0;b||v instanceof Document?b&&(i.mostRecentlyFocusedNode=v):(h.stopImmediatePropagation(),f(i.mostRecentlyFocusedNode||m()))},S=function(h){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,b=ae(h);g();var P=null;if(i.tabbableGroups.length>0){var R=d(b,h),N=R>=0?i.containerGroups[R]:void 0;if(R<0)v?P=i.tabbableGroups[i.tabbableGroups.length-1].lastTabbableNode:P=i.tabbableGroups[0].firstTabbableNode;else if(v){var B=Ke(i.tabbableGroups,function(Gt){var Ot=Gt.firstTabbableNode;return b===Ot});if(B<0&&(N.container===b||we(b,o.tabbableOptions)&&!se(b,o.tabbableOptions)&&!N.nextTabbableNode(b,!1))&&(B=R),B>=0){var K=B===0?i.tabbableGroups.length-1:B-1,et=i.tabbableGroups[K];P=et.lastTabbableNode}else jt(h)||(P=N.nextTabbableNode(b,!1))}else{var xt=Ke(i.tabbableGroups,function(Gt){var Ot=Gt.lastTabbableNode;return b===Ot});if(xt<0&&(N.container===b||we(b,o.tabbableOptions)&&!se(b,o.tabbableOptions)&&!N.nextTabbableNode(b))&&(xt=R),xt>=0){var te=xt===i.tabbableGroups.length-1?0:xt+1,ee=i.tabbableGroups[te];P=ee.firstTabbableNode}else jt(h)||(P=N.nextTabbableNode(b))}}else P=p("fallbackFocus");P&&(jt(h)&&h.preventDefault(),f(P))},k=function(h){if(Ds(h)&&Ht(o.escapeDeactivates,h)!==!1){h.preventDefault(),l.deactivate();return}(o.isKeyForward(h)||o.isKeyBackward(h))&&S(h,o.isKeyBackward(h))},C=function(h){var v=ae(h);d(v,h)>=0||Ht(o.clickOutsideDeactivates,h)||Ht(o.allowOutsideClick,h)||(h.preventDefault(),h.stopImmediatePropagation())},A=function(){if(!!i.active)return Ve.activateTrap(a,l),i.delayInitialFocusTimer=o.delayInitialFocus?We(function(){f(m())}):f(m()),s.addEventListener("focusin",T,!0),s.addEventListener("mousedown",w,{capture:!0,passive:!1}),s.addEventListener("touchstart",w,{capture:!0,passive:!1}),s.addEventListener("click",C,{capture:!0,passive:!1}),s.addEventListener("keydown",k,{capture:!0,passive:!1}),l},D=function(){if(!!i.active)return s.removeEventListener("focusin",T,!0),s.removeEventListener("mousedown",w,!0),s.removeEventListener("touchstart",w,!0),s.removeEventListener("click",C,!0),s.removeEventListener("keydown",k,!0),l},yt=function(h){var v=h.some(function(b){var P=Array.from(b.removedNodes);return P.some(function(R){return R===i.mostRecentlyFocusedNode})});v&&f(m())},ot=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(yt):void 0,tt=function(){!ot||(ot.disconnect(),i.active&&!i.paused&&i.containers.map(function(h){ot.observe(h,{subtree:!0,childList:!0})}))};return l={get active(){return i.active},get paused(){return i.paused},activate:function(h){if(i.active)return this;var v=u(h,"onActivate"),b=u(h,"onPostActivate"),P=u(h,"checkCanFocusTrap");P||g(),i.active=!0,i.paused=!1,i.nodeFocusedBeforeActivation=s.activeElement,v==null||v();var R=function(){P&&g(),A(),tt(),b==null||b()};return P?(P(i.containers.concat()).then(R,R),this):(R(),this)},deactivate:function(h){if(!i.active)return this;var v=He({onDeactivate:o.onDeactivate,onPostDeactivate:o.onPostDeactivate,checkCanReturnFocus:o.checkCanReturnFocus},h);clearTimeout(i.delayInitialFocusTimer),i.delayInitialFocusTimer=void 0,D(),i.active=!1,i.paused=!1,tt(),Ve.deactivateTrap(a,l);var b=u(v,"onDeactivate"),P=u(v,"onPostDeactivate"),R=u(v,"checkCanReturnFocus"),N=u(v,"returnFocus","returnFocusOnDeactivate");b==null||b();var B=function(){We(function(){N&&f(x(i.nodeFocusedBeforeActivation)),P==null||P()})};return N&&R?(R(x(i.nodeFocusedBeforeActivation)).then(B,B),this):(B(),this)},pause:function(h){if(i.paused||!i.active)return this;var v=u(h,"onPause"),b=u(h,"onPostPause");return i.paused=!0,v==null||v(),D(),tt(),b==null||b(),this},unpause:function(h){if(!i.paused||!i.active)return this;var v=u(h,"onUnpause"),b=u(h,"onPostUnpause");return i.paused=!1,v==null||v(),g(),A(),tt(),b==null||b(),this},updateContainerElements:function(h){var v=[].concat(h).filter(Boolean);return i.containers=v.map(function(b){return typeof b=="string"?s.querySelector(b):b}),i.active&&g(),tt(),this}},l.updateContainerElements(t),l};const Os=Q({name:"UseFocusTrap",props:["as","options"],setup(n,{slots:t}){let e;const s=O(),a=()=>e&&e.activate(),o=()=>e&&e.deactivate();return W(()=>Ce(s),i=>{!i||(e=zs(i,n.options||{}),a())},{flush:"post"}),Un(()=>o()),()=>{if(t.default)return Hn(n.as||"div",{ref:s},t.default())}}}),Ns=["textContent"],Ls={inheritAttrs:!1},Bs=Q({...Ls,__name:"Modal",props:{heading:{type:String,required:!0},modelValue:{type:Boolean,required:!0}},emits:["update:modelValue"],setup(n,{emit:t}){const{t:e}=Rt(),s=O(),a=()=>t("update:modelValue",!1);return W(s,o=>{o==null||o.showModal()}),(o,i)=>{const l=Pt;return n.modelValue?($(),Z(Vn,{key:0,to:"body"},[F(r(Os),{options:{immediate:!0,initialFocus:!1}},{default:U(()=>[c("dialog",{ref_key:"dialog",ref:s,"aria-modal":"",onClick:a,onClose:a},[c("article",Dt(o.$attrs,{onClick:i[0]||(i[0]=Y(()=>{},["stop"]))}),[c("h3",{textContent:L(n.heading)},null,8,Ns),Kt(o.$slots,"default"),c("footer",{class:M(o.$style.footer)},[Kt(o.$slots,"footer-pre"),F(l,{class:"secondary",onClick:a},{default:U(()=>[j(L(r(e)("main.close")),1)]),_:1}),Kt(o.$slots,"footer")],2)],16)],544)]),_:3})])):at("",!0)}}}),Gs="f_-",Us={footer:Gs},Hs={$style:Us},gn=Tt(Bs,[["__cssModules",Hs]]),be=zt(()=>O());function Vs(n,t){const e=new MouseEvent("click",{view:window,bubbles:!1,cancelable:!0}),s=document.createElement("a");s.setAttribute("download",t),s.setAttribute("href",n),s.setAttribute("target","_blank"),s.dispatchEvent(e)}async function Ws(n,t){const e=new XMLSerializer().serializeToString(n),s=new Blob([e],{type:"image/svg+xml;charset=utf-8"}),a=new Image,o=URL.createObjectURL(s);await new Promise((i,l)=>{a.onload=function(){t.drawImage(a,0,0),URL.revokeObjectURL(o),i()},a.onabort=a.onerror=()=>l(),a.src=o})}const Yt={JPG:1,PNG:2},Ks={[Yt.JPG]:{encoding:"image/jpeg",extension:"jpg"},[Yt.PNG]:{encoding:"image/png",extension:"png"}};function js(n){var s;const t=n.cloneNode(!0),e=window.getComputedStyle(n);return(s=t.querySelector("circle"))==null||s.remove(),t.style.setProperty("--background-color-transparent",e.getPropertyValue("--background-color-transparent")),t.style.color=t.style.fill=e.getPropertyValue("--color"),t.style.stroke="#fff",t.style.fontFamily="Arial",t.style.fontSize="20px",t}const bn=zt(()=>{const n=document.createElement("canvas"),t=n==null?void 0:n.getContext("2d"),e=be(),s=z(()=>e.value&&t);return{triggerDownload:async({filename:o,filetype:i,quality:l,width:u,height:d})=>{if(!s.value)return;n.width=u,n.height=d,await Ws(js(e.value),t);const{encoding:p,extension:m}=Ks[i],g=n.toDataURL(p,l);Vs(g,`${o}.${m}`)},isSupported:s}}),_t={px:1,"%":2,in:3,mm:4};function Ys(n,t,e){let s=n;switch(t){case _t["%"]:s=n*100/e;break;case _t.in:s=n/window.devicePixelRatio;break;case _t.mm:s=n*25.4/window.devicePixelRatio;break}return+s.toFixed(6)}function qs(n,t,e){let s=n;switch(t){case _t["%"]:s=n/100*e;break;case _t.in:s=n*window.devicePixelRatio;break;case _t.mm:s=n*window.devicePixelRatio/25.4;break}return+s.toFixed(5)}function je(n,t,e){const s=O(0),a=O(n.value-1),o=O(0);return W([n,t],([i,l],[,u])=>{(a.value!==i||l!==u)&&(a.value=i,s.value=Ys(i,l,e.value))},{immediate:!0}),W(o,i=>{s.value!==i&&(a.value=qs(i,t.value,e.value))}),W(s,i=>o.value=i,{immediate:!0}),o}const Xs={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Zs=c("path",{fill:"currentColor",d:"M24 14h-2V8a6 6 0 0 0-12 0v6H8a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V16a2 2 0 0 0-2-2ZM12 8a4 4 0 0 1 8 0v6h-8Zm12 20H8V16h16Z"},null,-1),Js=[Zs];function Qs(n,t){return $(),E("svg",Xs,Js)}const ta={name:"carbon-locked",render:Qs},ea={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},na=c("path",{fill:"currentColor",d:"M24 14H12V8a4 4 0 0 1 8 0h2a6 6 0 0 0-12 0v6H8a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V16a2 2 0 0 0-2-2Zm0 14H8V16h16Z"},null,-1),sa=[na];function aa(n,t){return $(),E("svg",ea,sa)}const ia={name:"carbon-unlocked",render:aa},oa=Wn({...Kn,xs:480}),ra=["onSubmit"],la={class:"flex-grow"},ua=["aria-invalid"],ca=["value","textContent"],da=["aria-invalid"],ha=["aria-invalid"],fa=["data-tooltip"],va=["value","textContent"],pa=["aria-invalid"],ma=Q({__name:"BoardControlsSvgDownloadModalContent",props:{boardWidth:{type:Number,required:!0},boardHeight:{type:Number,required:!0}},emits:["downloadFinish"],setup(n,{emit:t}){const e=n,{t:s}=Rt(),{triggerDownload:a}=bn(),o=ne("FA_FILENAME","fast-angle-image"),{boardHeight:i,boardWidth:l}=un(e),u=O(i.value),d=O(l.value),p=ne("FA_SIZE_UNIT",_t.px),m=O(!0),g=O(l.value/i.value);oa.isGreaterOrEqual("xl")&&W([l,i],([k,C])=>{d.value=k,u.value=C,g.value=k/C});const f=je(u,p,i),x=je(d,p,l);W([x,f],([k,C])=>{m.value||(g.value=k/C)},{flush:"sync",immediate:!0}),W(f,()=>{f.value<0&&(f.value=1),m.value&&f.value!==+(x.value/g.value).toFixed(3)&&(x.value=+(f.value*g.value).toFixed(3))},{flush:"sync"}),W(x,()=>{x.value<0&&(x.value=1),m.value&&x.value!==+(f.value*g.value).toFixed(3)&&(f.value=+(x.value/g.value).toFixed(3))},{flush:"sync"});const w=ne("FA_FILETYPE",Yt.PNG),T=ne("FA_QUALITY",100);W(T,()=>{T.value>100&&(T.value=100),T.value<0&&(T.value=0)});async function S(){await a({filename:o.value,filetype:w.value,quality:T.value/100,width:d.value,height:u.value}).catch(()=>{}),t("downloadFinish")}return(k,C)=>{const A=Pt;return $(),E("form",{onSubmit:Y(S,["prevent"])},[c("div",{class:M(k.$style.name)},[c("label",la,[j(L(r(s)("board.nav.download_image.name_label"))+" ",1),wt(c("input",{"onUpdate:modelValue":C[0]||(C[0]=D=>mt(o)?o.value=D:null),type:"text",name:"name",required:"","aria-invalid":!r(o)},null,8,ua),[[Ut,r(o)]])]),c("label",{class:M(k.$style["label--big"])},[j(L(r(s)("board.nav.download_image.format_label"))+" ",1),wt(c("select",{"onUpdate:modelValue":C[1]||(C[1]=D=>mt(w)?w.value=D:null),required:""},[($(!0),E(it,null,Bt(Object.keys(r(Yt)),D=>($(),E("option",{key:D,value:r(Yt)[D],textContent:L(D)},null,8,ca))),128))],512),[[Ne,r(w)]])],2)],2),c("fieldset",{class:M(k.$style.sizing)},[c("legend",null,[c("small",null,L(r(s)("board.nav.download_image.sizing_label")),1)]),c("label",{class:M(k.$style.label)},[j(L(r(s)("board.nav.download_image.width_label"))+" ",1),wt(c("input",{"onUpdate:modelValue":C[2]||(C[2]=D=>mt(x)?x.value=D:null),min:"1",type:"number",step:"0.000001",name:"width",required:"","aria-invalid":!r(x)||r(x)<1},null,8,da),[[Ut,r(x),void 0,{number:!0}]])],2),c("label",{class:M(k.$style.label)},[j(L(r(s)("board.nav.download_image.height_label"))+" ",1),wt(c("input",{"onUpdate:modelValue":C[3]||(C[3]=D=>mt(f)?f.value=D:null),min:"1",type:"number",step:"0.000001",name:"height",required:"","aria-invalid":!r(f)||r(f)<1},null,8,ha),[[Ut,r(f),void 0,{number:!0}]])],2),c("label",null,[j(" \xA0 "),c("div",{class:M(k.$style["aspect-ratio"]),"data-tooltip":r(s)("board.nav.download_image.keep_aspect_ratio")},[F(A,{"aria-label":r(s)("board.nav.download_image.keep_aspect_ratio"),class:M([k.$style["aspect-ratio-btn"],{[k.$style["aspect-ratio-btn--inactive"]]:!r(m)}]),onClick:C[4]||(C[4]=D=>m.value=!r(m))},{default:U(()=>[r(m)?($(),Z(r(ta),{key:0})):($(),Z(r(ia),{key:1}))]),_:1},8,["aria-label","class"])],10,fa)]),c("label",{class:M([k.$style.label,k.$style["label--small"]])},[j(L(r(s)("board.nav.download_image.unit_label"))+" ",1),wt(c("select",{"onUpdate:modelValue":C[5]||(C[5]=D=>mt(p)?p.value=D:null),required:""},[($(!0),E(it,null,Bt(Object.keys(r(_t)),D=>($(),E("option",{key:D,value:r(_t)[D],textContent:L(D)},null,8,va))),128))],512),[[Ne,r(p)]])],2)],2),c("label",null,[c("span",{class:M(k.$style.quality)},[j(L(r(s)("board.nav.download_image.quality_label"))+" ",1),wt(c("input",{"onUpdate:modelValue":C[6]||(C[6]=D=>mt(T)?T.value=D:null),type:"number",min:"1",max:"100",class:M(k.$style.quality__input),name:"quality","aria-invalid":!r(T)||r(T)>100||r(T)<1},null,10,pa),[[Ut,r(T),void 0,{number:!0}]]),j(" % ")],2),wt(c("input",{"onUpdate:modelValue":C[7]||(C[7]=D=>mt(T)?T.value=D:null),type:"range",min:"1",max:"100",name:"quality"},null,512),[[Ut,r(T),void 0,{number:!0}]])])],40,ra)}}}),ga="f_aa",ba="f_ad",_a="f_ae",ya="f_ai",xa="f_aj",wa={label:ga,"label--big":"f_ab","label--small":"f_ac",sizing:ba,name:_a,"aspect-ratio":"f_af","aspect-ratio-btn":"f_ag","aspect-ratio-btn--inactive":"f_ah",quality:ya,quality__input:xa},$a={$style:wa},Sa=Tt(ma,[["__cssModules",$a]]),ka={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Ca=c("path",{fill:"currentColor",d:"M26 24v4H6v-4H4v4a2 2 0 0 0 2 2h20a2 2 0 0 0 2-2v-4zm0-10l-1.41-1.41L17 20.17V2h-2v18.17l-7.59-7.58L6 14l10 10l10-10z"},null,-1),Ta=[Ca];function Ma(n,t){return $(),E("svg",ka,Ta)}const Ea={name:"carbon-download",render:Ma},_e=zt(()=>O()),Ia={key:0},Ye="board_svg_download_form",Aa=Q({__name:"BoardControlsSvgDownload",props:{disabled:{type:Boolean,default:!1}},setup(n){const{t}=Rt(),{isSupported:e}=bn(),s=_e(),{height:a,width:o}=Te(s),i=O(!1),l=O(!1);return Me({onEventFired(u){(u.ctrlKey||u.metaKey)&&u.key==="s"&&(u.preventDefault(),i.value=!0)},passive:!1}),(u,d)=>{const p=Sa,m=Pt,g=gn;return r(e)?($(),E("li",Ia,[F(m,{tooltip:`${r(t)("board.nav.download_image.action")} [ctrl + s][\u2318 + s]`,"tooltip-placement":"left",disabled:n.disabled?void 0:!0,onClick:d[3]||(d[3]=f=>i.value=!0),onTouchstart:d[4]||(d[4]=Y(f=>i.value=!0,["stop","prevent"]))},{default:U(()=>[F(r(Ea)),F(g,{modelValue:r(i),"onUpdate:modelValue":d[2]||(d[2]=f=>mt(i)?i.value=f:null),heading:r(t)("board.nav.download_image.heading")},{footer:U(()=>[F(m,{type:"submit",role:"button",form:Ye,disabled:r(l),"aria-busy":r(l)},{default:U(()=>[j(L(r(t)("board.nav.download_image.save")),1)]),_:1},8,["disabled","aria-busy"])]),default:U(()=>[F(p,{id:Ye,"board-height":r(a),"board-width":r(o),onSubmit:d[0]||(d[0]=f=>l.value=!0),onDownloadFinish:d[1]||(d[1]=f=>(l.value=!1,i.value=!1))},null,8,["board-height","board-width"])]),_:1},8,["modelValue","heading"])]),_:1},8,["tooltip","disabled"])])):at("",!0)}}}),Da={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Fa=c("path",{fill:"currentColor",d:"M16 2a14 14 0 1 0 14 14A14 14 0 0 0 16 2Zm0 26a12 12 0 1 1 12-12a12 12 0 0 1-12 12Z"},null,-1),Ra=c("circle",{cx:"16",cy:"23.5",r:"1.5",fill:"currentColor"},null,-1),Pa=c("path",{fill:"currentColor",d:"M17 8h-1.5a4.49 4.49 0 0 0-4.5 4.5v.5h2v-.5a2.5 2.5 0 0 1 2.5-2.5H17a2.5 2.5 0 0 1 0 5h-2v4.5h2V17a4.5 4.5 0 0 0 0-9Z"},null,-1),za=[Fa,Ra,Pa];function Oa(n,t){return $(),E("svg",Da,za)}const Na={name:"carbon-help",render:Oa},La={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Ba=c("path",{fill:"currentColor",d:"M22.5 4c-2 0-3.9.8-5.3 2.2L16 7.4l-1.1-1.1c-2.9-3-7.7-3-10.6-.1l-.1.1c-3 3-3 7.8 0 10.8L16 29l11.8-11.9c3-3 3-7.8 0-10.8C26.4 4.8 24.5 4 22.5 4z"},null,-1),Ga=[Ba];function Ua(n,t){return $(),E("svg",La,Ga)}const qe={name:"carbon-favorite-filled",render:Ua},Ha=c("hr",null,null,-1),Va=["textContent"],Wa={rol:"grid"},Ka=c("th",{scope:"col",textContent:"Win"},null,-1),ja=c("th",{scope:"col",textContent:"Mac"},null,-1),Ya=["textContent"],qa=c("kbd",null,"ctrl",-1),Xa=c("kbd",null,"z",-1),Za=c("kbd",null,"\u2318",-1),Ja=c("kbd",null,"z",-1),Qa=["textContent"],ti=c("kbd",null,"ctrl",-1),ei=c("kbd",null,"shift",-1),ni=c("kbd",null,"z",-1),si=c("kbd",null,"\u2318",-1),ai=c("kbd",null,"shift",-1),ii=c("kbd",null,"z",-1),oi=["textContent"],ri=c("kbd",null,"ctrl",-1),li=c("kbd",null,"s",-1),ui=c("kbd",null,"\u2318",-1),ci=c("kbd",null,"s",-1),di=["textContent"],hi=c("kbd",null,"f",-1),fi=[hi],vi=c("kbd",null,"f",-1),pi=[vi],mi=["textContent"],gi=["textContent"],bi=["href","data-tooltip","title"],_i={rel:"noreferrer",href:"https://github.com/FRSOURCE/fast-angle",target:"_blank",title:"GitHub"},yi={rel:"noreferrer",href:"https://www.frsource.org/blog/sponsoring",target:"_blank",title:"Sponsoring"},xi=c("hr",null,null,-1),wi=["textContent"],$i=["textContent"],Si=Q({__name:"BoardControlsSvgHelp",setup(n){const{t,tm:e,rt:s}=Rt(),a=O(!1),o=z(()=>e("board.nav.help.content"));return(i,l)=>{const u=jn("RouterLink"),d=gn,p=Pt;return $(),E("li",null,[F(p,{tooltip:r(t)("board.nav.help.action"),"tooltip-placement":"left",onClick:l[1]||(l[1]=m=>a.value=!0),onTouchstartCapture:l[2]||(l[2]=Y(m=>a.value=!0,["prevent","stop"]))},{default:U(()=>[F(r(Na)),F(d,{modelValue:r(a),"onUpdate:modelValue":l[0]||(l[0]=m=>mt(a)?a.value=m:null),heading:r(t)("board.nav.help.heading"),class:M(i.$style.modal)},{"footer-pre":U(()=>[c("a",{rel:"noreferrer",href:"https://github.com/FRSOURCE/fast-angle",target:"_blank",title:"GitHub",class:M(i.$style.donate)},[F(r(qe)),c("small",null,L(r(t)("main.donate_us")),1)],2)]),default:U(()=>[c("ul",null,[($(!0),E(it,null,Bt(r(o),m=>($(),E("li",{key:r(s)(m)},L(r(s)(m)),1))),128))]),Ha,c("div",{class:M(i.$style["hide-mobile"])},[c("h4",{textContent:L(r(t)("board.nav.help.key_bindings.heading"))},null,8,Va),c("table",Wa,[c("thead",null,[c("tr",null,[Ka,ja,c("th",{scope:"col",textContent:L(r(t)("board.nav.help.key_bindings.description"))},null,8,Ya)])]),c("tr",null,[c("td",{scope:"col",class:M(i.$style["binding-item-wrapper"])},[c("div",{class:M(i.$style["binding-item"])},[qa,c("small",{class:M(i.$style["binding-item-plus"])},"+",2),Xa],2)],2),c("td",{scope:"col",class:M(i.$style["binding-item-wrapper"])},[c("div",{class:M(i.$style["binding-item"])},[Za,c("small",{class:M(i.$style["binding-item-plus"])},"+",2),Ja],2)],2),c("td",{scope:"col",textContent:L(r(t)("board.nav.undo"))},null,8,Qa)]),c("tr",null,[c("td",{scope:"col",class:M(i.$style["binding-item-wrapper"])},[c("div",{class:M(i.$style["binding-item"])},[ti,c("small",{class:M(i.$style["binding-item-plus"])},"+",2),ei,c("small",{class:M(i.$style["binding-item-plus"])},"+",2),ni],2)],2),c("td",{scope:"col",class:M(i.$style["binding-item-wrapper"])},[c("div",{class:M(i.$style["binding-item"])},[si,c("small",{class:M(i.$style["binding-item-plus"])},"+",2),ai,c("small",{class:M(i.$style["binding-item-plus"])},"+",2),ii],2)],2),c("td",{scope:"col",textContent:L(r(t)("board.nav.download_image.action"))},null,8,oi)]),c("tr",null,[c("td",{scope:"col",class:M(i.$style["binding-item-wrapper"])},[c("div",{class:M(i.$style["binding-item"])},[ri,c("small",{class:M(i.$style["binding-item-plus"])},"+",2),li],2)],2),c("td",{scope:"col",class:M(i.$style["binding-item-wrapper"])},[c("div",{class:M(i.$style["binding-item"])},[ui,c("small",{class:M(i.$style["binding-item-plus"])},"+",2),ci],2)],2),c("td",{scope:"col",textContent:L(r(t)("board.nav.redo"))},null,8,di)]),c("tr",null,[c("td",{scope:"col",class:M(i.$style["binding-item-wrapper"])},[c("div",{class:M(i.$style["binding-item"])},fi,2)],2),c("td",{scope:"col",class:M(i.$style["binding-item-wrapper"])},[c("div",{class:M(i.$style["binding-item"])},pi,2)],2),c("td",{scope:"col",textContent:L(r(t)("board.nav.toggle_fullscreen"))},null,8,mi)])])],2),c("h4",{textContent:L(r(t)("board.nav.help.heading_authors"))},null,8,gi),c("p",null,[j(L(r(t)("main.brought_to_you_by"))+" ",1),c("a",{href:`${"host"in i?i.host:r(Yn)}/`,"data-tooltip":r(t)("main.visit_our_website"),title:r(t)("main.visit_our_website")},"FRSOURCE",8,bi)]),c("p",null,[c("a",_i,[F(r(qn)),j(" "+L(r(t)("main.star_us_on_github")),1)])]),c("p",null,[c("a",yi,[F(r(qe)),j(" "+L(r(t)("main.donate_us")),1)])]),xi,c("p",{class:M(i.$style.terms)},[F(u,{to:{name:`lang-${r(Le)}-terms`}},{default:U(()=>[c("small",{textContent:L(r(t)("main.terms_and_conditions"))},null,8,wi)]),_:1},8,["to"]),F(u,{to:{name:`lang-${r(Le)}-privacy-policy`}},{default:U(()=>[c("small",{textContent:L(r(t)("main.privacy_policy"))},null,8,$i)]),_:1},8,["to"])],2)]),_:1},8,["modelValue","heading","class"])]),_:1},8,["tooltip"])])}}}),ki="f_1",Ci="f_6",Ti="f_7",Mi={modal:ki,"hide-mobile":"f_2","binding-item":"f_3","binding-item-plus":"f_4","list-item":"f_5",terms:Ci,donate:Ti},Ei={$style:Mi},Ii=Tt(Si,[["__cssModules",Ei]]),Ai={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Di=c("path",{fill:"currentColor",d:"M28 10v18H10V10h18m0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2Z"},null,-1),Fi=c("path",{fill:"currentColor",d:"M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"},null,-1),Ri=[Di,Fi];function Pi(n,t){return $(),E("svg",Ai,Ri)}const zi={name:"carbon-copy",render:Pi},Oi={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Ni=c("path",{fill:"currentColor",d:"m13 24l-9-9l1.414-1.414L13 21.171L26.586 7.586L28 9L13 24z"},null,-1),Li=[Ni];function Bi(n,t){return $(),E("svg",Oi,Li)}const Gi={name:"carbon-checkmark",render:Bi},Ui=Q({__name:"BoardSummaryItem",props:{value:{type:Number,default:0}},setup(n){const t=n,e=z(()=>t.value?t.value.toFixed(3):""),{copy:s,copied:a,isSupported:o}=Xn({source:e});return(i,l)=>{const u=Pt;return $(),E("small",{class:M(i.$style.item),onClick:l[0]||(l[0]=()=>r(s)())},[c("div",null,[Kt(i.$slots,"default"),c("span",{class:M(i.$style.text)},[r(e)?($(),E(it,{key:0},[j(L(r(e))+"\xB0",1)],64)):($(),E(it,{key:1},[j("?")],64))],2)]),r(o)&&r(e)?($(),Z(u,{key:0,class:M(i.$style.btn),disabled:r(a)},{default:U(()=>[r(a)?($(),Z(r(Gi),{key:0})):($(),Z(r(zi),{key:1}))]),_:1},8,["class","disabled"])):at("",!0)],2)}}}),Hi="f_8",Vi="f_9",Wi="f__",Ki={item:Hi,text:Vi,btn:Wi},ji={$style:Ki},Yi=Tt(Ui,[["__cssModules",ji]]),qi={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Xi=c("path",{fill:"currentColor",d:"M20 2v2h6.586L18 12.582L19.414 14L28 5.414V12h2V2H20zm-6 17.416L12.592 18L4 26.586V20H2v10h10v-2H5.414L14 19.416z"},null,-1),Zi=[Xi];function Ji(n,t){return $(),E("svg",qi,Zi)}const Qi={name:"carbon-maximize",render:Ji},to={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},eo=c("path",{fill:"currentColor",d:"M4 18v2h6.586L2 28.582L3.414 30L12 21.414V28h2V18H4zM30 3.416L28.592 2L20 10.586V4h-2v10h10v-2h-6.586L30 3.416z"},null,-1),no=[eo];function so(n,t){return $(),E("svg",to,no)}const ao={name:"carbon-minimize",render:so},io={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},oo=c("path",{fill:"currentColor",d:"M18 12h-4V8h-2v4H8v2h4v4h2v-4h4v-2z"},null,-1),ro=c("path",{fill:"currentColor",d:"M21.448 20A10.856 10.856 0 0 0 24 13a11 11 0 1 0-11 11a10.856 10.856 0 0 0 7-2.552L27.586 29L29 27.586ZM13 22a9 9 0 1 1 9-9a9.01 9.01 0 0 1-9 9Z"},null,-1),lo=[oo,ro];function uo(n,t){return $(),E("svg",io,lo)}const co={name:"carbon-zoom-in",render:uo},ho={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},fo=c("path",{fill:"currentColor",d:"M8 12h10v2H8z"},null,-1),vo=c("path",{fill:"currentColor",d:"M21.448 20A10.856 10.856 0 0 0 24 13a11 11 0 1 0-11 11a10.856 10.856 0 0 0 7-2.552L27.586 29L29 27.586ZM13 22a9 9 0 1 1 9-9a9.01 9.01 0 0 1-9 9Z"},null,-1),po=[fo,vo];function mo(n,t){return $(),E("svg",ho,po)}const go={name:"carbon-zoom-out",render:mo},bo={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},_o=c("path",{fill:"currentColor",d:"M4 20v2h4.586L2 28.586L3.414 30L10 23.414V28h2v-8H4zm15-6a3 3 0 1 0-3-3a3 3 0 0 0 3 3zm0-4a1 1 0 1 1-1 1a1 1 0 0 1 1-1z"},null,-1),yo=c("path",{fill:"currentColor",d:"M26 4H6a2 2 0 0 0-2 2v10h2V6h20v15.17l-3.59-3.59a2 2 0 0 0-2.82 0L18 19.17L11.83 13l-1.414 1.415L14 18l2.59 2.59a2 2 0 0 0 2.82 0L21 19l5 5v2H16v2h10a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2Z"},null,-1),xo=[_o,yo];function wo(n,t){return $(),E("svg",bo,xo)}const $o={name:"carbon-image-reference",render:wo},So={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},ko=c("path",{d:"M9 24a3.51 3.51 0 0 0-.88-1.86l9.53-16.58l-1.73-1l-9.57 16.56A3.06 3.06 0 0 0 5.5 21a3.5 3.5 0 1 0 3.15 5H28v-2zm-3.5 2A1.5 1.5 0 1 1 7 24.5A1.5 1.5 0 0 1 5.5 26z",fill:"currentColor"},null,-1),Co=c("path",{d:"M22 21h2a13 13 0 0 0-5.42-10.56l-1.16 1.62A11 11 0 0 1 22 21z",fill:"currentColor"},null,-1),To=[ko,Co];function Mo(n,t){return $(),E("svg",So,To)}const Eo={name:"carbon-angle",render:Mo},Io={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Ao=c("path",{fill:"currentColor",d:"M20 10H7.815l3.587-3.586L10 5l-6 6l6 6l1.402-1.415L7.818 12H20a6 6 0 0 1 0 12h-8v2h8a8 8 0 0 0 0-16Z"},null,-1),Do=[Ao];function Fo(n,t){return $(),E("svg",Io,Do)}const Ro={name:"carbon-undo",render:Fo},Po={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},zo=c("path",{fill:"currentColor",d:"M12 10h12.185l-3.587-3.586L22 5l6 6l-6 6l-1.402-1.415L24.182 12H12a6 6 0 0 0 0 12h8v2h-8a8 8 0 0 1 0-16Z"},null,-1),Oo=[zo];function No(n,t){return $(),E("svg",Po,Oo)}const Lo={name:"carbon-redo",render:No},Bo={width:"1.2em",height:"1.2em",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor"},Go=c("path",{d:"M18.3 26a3.5 3.5 0 006.6-3.05 3 3 0 00-.7-.8l7.53-15.58-1.73-1-7.57 15.56a2.7 2.7 0 00-.8-.1 3.5 3.5 0 00-3.33 2.97h-17.973v2Zm3.4.1a1.5 1.5 0 111.5-1.5 1.5 1.5 0 01-1.5 1.5Z"},null,-1),Uo=c("path",{d:"M3.75 21.25a13.2 13.2 90 0120.25-10.56l-.87 1.44a11.75 11.75 90 00-17.6 9.13z"},null,-1),Ho=[Go,Uo];function Vo(n,t){return $(),E("svg",Bo,Ho)}const Wo={name:"custom-angle-obtuse",render:Vo},$e=4,ve=zt(()=>{const n=O([]),t=O([]),e=O($e-1);let s=()=>{},a=()=>{};W(n,S=>{t.value=[...S]},{deep:!0,flush:"sync"});const o=(S,k)=>{++e.value>=$e&&(e.value=0,n.value=[]);const C=Math.floor(e.value/2);if(e.value%2){const A=n.value[C][0];if(!A)return;n.value[C]=[A,[S,k]]}else n.value[C]=[[S,k]]},i=(S,k)=>{const C=e.value+1>=$e?0:e.value+1,A=Math.floor(C/2);if(C%2){const D=t.value[A][0];if(!D)return;t.value[A]=[D,[S,k]]}else t.value[A]=[[S,k]]},{undo:l,redo:u,canUndo:d,canRedo:p}=ue(e),{undo:m,redo:g,canUndo:f,canRedo:x}=ue(n,{deep:!0}),w=()=>{m(),s(),l()},T=()=>{g(),a(),u()};return Me({onEventFired(S){(S.ctrlKey||S.metaKey)&&S.key==="z"&&(S.shiftKey?T():w())}}),{step:e,lines:t,drawNextPoint:o,predictNextPoint:i,undo:w,redo:T,canUndo:z(()=>d.value&&f.value),canRedo:z(()=>p.value&&x.value),registerOnUndo:S=>s=S,registerOnRedo:S=>a=S}});function _n(n){const[[[t,e],[s,a]],[[o,i],[l,u]]]=n,d=s-t,p=a-e,m=l-o,g=u-i,f=Math.atan2(d*g-p*m,d*m+p*g);return Math.abs(f)*(180/Math.PI)}function Ee(n){return z(()=>{var t,e;return(((t=n.value[0])==null?void 0:t.length)||0)<2||(((e=n.value[1])==null?void 0:e.length)||0)<2?0:_n(n.value)})}function Ko(){try{return"constructor"in GestureEvent}catch{return!1}}function yn(){return typeof window<"u"&&"ontouchstart"in window}function xn(n){return"pointerId"in n?null:n.type==="touchend"?n.changedTouches:n.targetTouches}function Ie(n){return Array.from(xn(n)).map(t=>t.identifier)}function gt(n){const t="buttons"in n?n.buttons:0,{shiftKey:e,altKey:s,metaKey:a,ctrlKey:o}=n;return{buttons:t,shiftKey:e,altKey:s,metaKey:a,ctrlKey:o}}const ye=n=>n;function Xe(n,t=ye){const e=xn(n),{clientX:s,clientY:a}=e?e[0]:n;return t([s,a])}function Ze(n,t,e=ye){const[s,a]=Array.from(n.touches).filter(f=>t.includes(f.identifier));if(!s||!a)throw Error("The event doesn't have two pointers matching the pointerIds");const o=a.clientX-s.clientX,i=a.clientY-s.clientY,l=(a.clientX+s.clientX)/2,u=(a.clientY+s.clientY)/2,d=Math.hypot(o,i),p=-(Math.atan2(o,i)*180)/Math.PI,m=e([d,p]),g=e([l,u]);return{values:m,origin:g}}const Je=40,Qe=800;function wn(n,t=ye){let{deltaX:e,deltaY:s,deltaMode:a}=n;return a===1?(e*=Je,s*=Je):a===2&&(e*=Qe,s*=Qe),t([e,s])}function tn(n,t=ye){return t([n.scale,n.rotation])}function $n(){}function Sn(...n){return n.length===0?$n:n.length===1?n[0]:function(){var t;for(let e of n)t=e.apply(this,arguments)||t;return t}}function Ct(n,t){if(n===void 0){if(t===void 0)throw new Error("Must define fallback value if undefined is expected");n=t}return Array.isArray(n)?n:[n,n]}function en(n,t){return Object.assign({},t,n||{})}function pe(n,...t){return typeof n=="function"?n(...t):n}function Vt(n){return{_active:!1,_blocked:!1,_intentional:[!1,!1],_movement:[0,0],_initial:[0,0],_bounds:[[-1/0,1/0],[-1/0,1/0]],_lastEventType:void 0,_dragStarted:!1,_dragPreventScroll:!1,_dragIsTap:!0,_dragDelayed:!1,event:void 0,intentional:!1,values:[0,0],velocities:[0,0],delta:[0,0],movement:[0,0],offset:[0,0],lastOffset:[0,0],direction:[0,0],initial:[0,0],previous:[0,0],first:!1,last:!1,active:!1,timeStamp:0,startTime:0,elapsedTime:0,cancel:$n,canceled:!1,memo:void 0,args:void 0,...n}}function kn(){const n={hovering:!1,scrolling:!1,wheeling:!1,dragging:!1,moving:!1,pinching:!1,touches:0,buttons:0,down:!1,shiftKey:!1,altKey:!1,metaKey:!1,ctrlKey:!1,locked:!1},t=Vt({_pointerId:void 0,axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0,tap:!1,swipe:[0,0]}),e=Vt({_pointerIds:[],da:[0,0],vdva:[0,0],origin:void 0,turns:0}),s=Vt({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0}),a=Vt({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0}),o=Vt({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0});return{shared:n,drag:t,pinch:e,wheel:s,move:a,scroll:o}}class jo{constructor(t){this.classes=t,this.pointerIds=new Set,this.touchIds=new Set,this.supportsTouchEvents=yn(),this.supportsGestureEvents=Ko(),this.bind=(...e)=>{const s={};for(let a of this.classes)new a(this,e).addBindings(s);for(let a in this.nativeRefs)H(s,a,o=>this.nativeRefs[a]({...this.state.shared,event:o,args:e}));return this.config.domTarget?Zo(this,s):Jo(this,s)},this.clean=()=>{const{eventOptions:e,domTarget:s}=this.config,a=r(s);a&&Jt(a,Mn(this.domListeners),e),Object.values(this.timeouts).forEach(clearTimeout),Yo(this)},this.classes=t,this.state=kn(),this.timeouts={},this.domListeners=[],this.windowListeners={}}}function Cn(n,t){"pointerId"in t?n.pointerIds.add(t.pointerId):n.touchIds=new Set(Ie(t))}function Tn(n,t){"pointerId"in t?n.pointerIds.delete(t.pointerId):Ie(t).forEach(e=>n.touchIds.delete(e))}function Yo(n){const{config:{window:t,eventOptions:e},windowListeners:s}=n,a=r(t);if(!!a){for(let o in s){const i=s[o];Jt(a,i,e)}n.windowListeners={}}}function qo({config:n,windowListeners:t},e,s=n.eventOptions){const a=r(n.window);!a||(Jt(a,t[e],s),delete t[e])}function Xo({config:n,windowListeners:t},e,s=[],a=n.eventOptions){const o=r(n.window);!o||(Jt(o,t[e],a),En(o,t[e]=s,a))}function Zo({config:n,domListeners:t},e){const{eventOptions:s,domTarget:a}=n,o=r(a);if(!o)throw new Error("domTarget must be defined");Jt(o,Mn(t),s);for(let[i,l]of Object.entries(e)){const u=i.slice(2).toLowerCase();t.push([u,Sn(...l)])}En(o,t,s)}function Jo({config:n},t){const e={},s=n.eventOptions.capture?"Capture":"";for(let[a,o]of Object.entries(t)){const i=Array.isArray(o)?o:[o],l=a+s;e[l]=Sn(...i)}return e}function Mn(n=[]){return n.splice(0,n.length)}function H(n,t,e){n[t]||(n[t]=[]),n[t].push(e)}function En(n,t=[],e={}){if(!!n)for(let[s,a]of t)n.addEventListener(s,a,e)}function Jt(n,t=[],e={}){if(!!n)for(let[s,a]of t)n.removeEventListener(s,a,e)}function me(n,t){return n.map((e,s)=>e+t[s])}function Ae(n,t){return n.map((e,s)=>e-t[s])}function Xt(n){return Math.hypot(...n)}function Qo(n,t=n){const e=Xt(t),s=e===0?0:1/e,a=t.map(i=>s*i);return{distance:Xt(n),direction:a}}function In(n,t,e){const s=Xt(t),a=s===0?0:1/s,o=e===0?0:1/e,i=o*s,l=t.map(p=>o*p),u=t.map(p=>a*p),d=Xt(n);return{velocities:l,velocity:i,distance:d,direction:u}}function ge(n){return Math.sign?Math.sign(n):Number(n>0)-Number(n<0)||+n}function tr(n,t,e){return Math.max(t,Math.min(n,e))}function er(n,t){return Math.pow(n,t*5)}function nn(n,t,e){return t===0||Math.abs(t)===1/0?er(n,e):n*t*e/(t+e*n)}function sn(n,t,e,s=.15){return s===0?tr(n,t,e):n<t?-nn(t-n,e-t,s)+t:n>e?+nn(n-e,e-t,s)+e:n}const bt=new Map,nr=n=>n;class An{constructor(t,e=[]){this.controller=t,this.args=e,this.debounced=!0,this.setTimeout=(s,a=140,...o)=>{clearTimeout(this.controller.timeouts[this.stateKey]),this.controller.timeouts[this.stateKey]=window.setTimeout(s,a,...o)},this.clearTimeout=()=>{clearTimeout(this.controller.timeouts[this.stateKey])},this.fireGestureHandler=(s=!1)=>{if(this.state._blocked)return this.debounced||(this.state._active=!1,this.clean()),null;if(!s&&!this.state.intentional&&!this.config.triggerAllEvents)return null;if(this.state.intentional){const u=this.state.active,d=this.state._active;this.state.active=d,this.state.first=d&&!u,this.state.last=u&&!d,this.controller.state.shared[this.ingKey]=d}const a=this.controller.pointerIds.size||this.controller.touchIds.size,o=this.controller.state.shared.buttons>0||a>0,i={...this.controller.state.shared,...this.state,...this.mapStateValues(this.state),locked:!!document.pointerLockElement,touches:a,down:o},l=this.handler(i);return this.state.memo=l!==void 0?l:this.state.memo,i},this.controller=t,this.args=e}get config(){return this.controller.config[this.stateKey]}get enabled(){return this.controller.config.enabled&&this.config.enabled}get state(){return this.controller.state[this.stateKey]}get handler(){return this.controller.handlers[this.stateKey]}get transform(){return this.config.transform||this.controller.config.transform||nr}updateSharedState(t){Object.assign(this.controller.state.shared,t)}updateGestureState(t){Object.assign(this.state,t)}checkIntentionality(t,e){return{_intentional:t,_blocked:!1}}getMovement(t){const{rubberband:e,threshold:s}=this.config,{_bounds:a,_initial:o,_active:i,_intentional:l,lastOffset:u,movement:d}=this.state,p=this.getInternalMovement(t,this.state),m=this.transform(s).map(Math.abs),g=l[0]===!1?an(p[0],m[0]):l[0],f=l[1]===!1?an(p[1],m[1]):l[1],x=this.checkIntentionality([g,f],p);if(x._blocked)return{...x,_movement:p,delta:[0,0]};const w=x._intentional,T=p;let S=[w[0]!==!1?p[0]-w[0]:0,w[1]!==!1?p[1]-w[1]:0];const k=me(S,u),C=i?e:[0,0];return S=on(a,me(S,o),C),{...x,intentional:w[0]!==!1||w[1]!==!1,_initial:o,_movement:T,movement:S,values:t,offset:on(a,k,C),delta:Ae(S,d)}}clean(){this.clearTimeout()}}function an(n,t){return Math.abs(n)>=t?ge(n)*t:!1}function on(n,[t,e],[s,a]){const[[o,i],[l,u]]=n;return[sn(t,o,i,s),sn(e,l,u,a)]}function X({state:n},t,e){const{timeStamp:s,type:a}=t,o=n.values,i=e?0:s-n.startTime;return{_lastEventType:a,event:t,timeStamp:s,elapsedTime:i,previous:o}}function qt({state:n,config:t,stateKey:e,args:s},a,o){const i=n.offset,l=o.timeStamp,{initial:u,bounds:d}=t,p={...kn()[e],_active:!0,args:s,values:a,initial:a,offset:i,lastOffset:i,startTime:l};return{...p,_initial:pe(u,p),_bounds:pe(d,p)}}class Dn extends An{getInternalMovement(t,e){return Ae(t,e.initial)}checkIntentionality(t,e){if(t[0]===!1&&t[1]===!1)return{_intentional:t,axis:this.state.axis};const[s,a]=e.map(Math.abs),o=this.state.axis||(s>a?"x":s<a?"y":void 0);return!this.config.axis&&!this.config.lockDirection?{_intentional:t,_blocked:!1,axis:o}:o?!!this.config.axis&&o!==this.config.axis?{_intentional:t,_blocked:!0,axis:o}:(t[o==="x"?1:0]=!1,{_intentional:t,_blocked:!1,axis:o}):{_intentional:[!1,!1],_blocked:!1,axis:o}}getKinematics(t,e){const s=this.getMovement(t);if(!s._blocked){const a=e.timeStamp-this.state.timeStamp;Object.assign(s,In(s.movement,s.delta,a))}return s}mapStateValues(t){return{xy:t.values,vxvy:t.velocities}}}const sr=3;function rn(n){"persist"in n&&typeof n.persist=="function"&&n.persist()}class ar extends Dn{constructor(){super(...arguments),this.ingKey="dragging",this.stateKey="drag",this.setPointerCapture=t=>{if(this.config.useTouch||document.pointerLockElement)return;const{target:e,pointerId:s}=t;e&&"setPointerCapture"in e&&e.setPointerCapture(s),this.updateGestureState({_dragTarget:e,_dragPointerId:s})},this.releasePointerCapture=()=>{if(this.config.useTouch||document.pointerLockElement)return;const{_dragTarget:t,_dragPointerId:e}=this.state;if(e&&t&&"releasePointerCapture"in t&&(!("hasPointerCapture"in t)||t.hasPointerCapture(e)))try{t.releasePointerCapture(e)}catch{}},this.preventScroll=t=>{this.state._dragPreventScroll&&t.cancelable&&t.preventDefault()},this.getEventId=t=>this.config.useTouch?t.changedTouches[0].identifier:t.pointerId,this.isValidEvent=t=>this.state._pointerId===this.getEventId(t),this.shouldPreventWindowScrollY=this.config.preventWindowScrollY&&this.controller.supportsTouchEvents,this.setUpWindowScrollDetection=t=>{rn(t),Xo(this.controller,this.stateKey,[["touchmove",this.preventScroll],["touchend",this.clean.bind(this)],["touchcancel",this.clean.bind(this)]],{passive:!1}),this.setTimeout(this.startDrag.bind(this),250,t)},this.setUpDelayedDragTrigger=t=>{this.state._dragDelayed=!0,rn(t),this.setTimeout(this.startDrag.bind(this),this.config.delay,t)},this.setStartState=t=>{const e=Xe(t,this.transform);this.updateSharedState(gt(t)),this.updateGestureState({...qt(this,e,t),...X(this,t,!0),_pointerId:this.getEventId(t)}),this.updateGestureState(this.getMovement(e))},this.onDragStart=t=>{Cn(this.controller,t),!(!this.enabled||this.state._active)&&(this.setStartState(t),this.setPointerCapture(t),this.shouldPreventWindowScrollY?this.setUpWindowScrollDetection(t):this.config.delay>0?this.setUpDelayedDragTrigger(t):this.startDrag(t,!0))},this.onDragChange=t=>{if(this.state.canceled||!this.state._active||!this.isValidEvent(t)||this.state._lastEventType===t.type&&t.timeStamp===this.state.timeStamp)return;let e;if(document.pointerLockElement){const{movementX:u,movementY:d}=t;e=me(this.transform([u,d]),this.state.values)}else e=Xe(t,this.transform);const s=this.getKinematics(e,t);if(!this.state._dragStarted){if(this.state._dragDelayed){this.startDrag(t);return}if(this.shouldPreventWindowScrollY)if(!this.state._dragPreventScroll&&s.axis)if(s.axis==="x")this.startDrag(t);else{this.state._active=!1;return}else return;else return}const a=gt(t);this.updateSharedState(a);const o=X(this,t),i=Xt(s._movement);let{_dragIsTap:l}=this.state;l&&i>=sr&&(l=!1),this.updateGestureState({...o,...s,_dragIsTap:l}),this.fireGestureHandler()},this.onDragEnd=t=>{if(Tn(this.controller,t),!this.isValidEvent(t)||(this.clean(),!this.state._active))return;this.state._active=!1;const e=this.state._dragIsTap,[s,a]=this.state.velocities,[o,i]=this.state.movement,[l,u]=this.state._intentional,[d,p]=this.config.swipeVelocity,[m,g]=this.config.swipeDistance,f=this.config.swipeDuration,x={...X(this,t),...this.getMovement(this.state.values)},w=[0,0];x.elapsedTime<f&&(l!==!1&&Math.abs(s)>d&&Math.abs(o)>m&&(w[0]=ge(s)),u!==!1&&Math.abs(a)>p&&Math.abs(i)>g&&(w[1]=ge(a))),this.updateSharedState({buttons:0}),this.updateGestureState({...x,tap:e,swipe:w}),this.fireGestureHandler(this.config.filterTaps&&e===!0)},this.clean=()=>{super.clean(),this.state._dragStarted=!1,this.releasePointerCapture(),qo(this.controller,this.stateKey)},this.onCancel=()=>{this.state.canceled||(this.updateGestureState({canceled:!0,_active:!1}),this.updateSharedState({buttons:0}),Zn(this.fireGestureHandler))},this.onClick=t=>{this.state._dragIsTap||t.stopPropagation()}}startDrag(t,e=!1){!this.state._active||this.state._dragStarted||(e||this.setStartState(t),this.updateGestureState({_dragStarted:!0,_dragPreventScroll:!0,cancel:this.onCancel}),this.clearTimeout(),this.fireGestureHandler())}addBindings(t){if(this.config.useTouch?(H(t,"onTouchStart",this.onDragStart),H(t,"onTouchMove",this.onDragChange),H(t,"onTouchEnd",this.onDragEnd),H(t,"onTouchCancel",this.onDragEnd)):(H(t,"onPointerDown",this.onDragStart),H(t,"onPointerMove",this.onDragChange),H(t,"onPointerUp",this.onDragEnd),H(t,"onPointerCancel",this.onDragEnd)),this.config.filterTaps){const e=this.controller.config.eventOptions.capture?"onClick":"onClickCapture";H(t,e,this.onClick)}}}function De(n,t){let e,s=[],a,o=!1;function i(...l){return o&&e===this&&t(l,s)||(a=n.apply(this,l),o=!0,e=this,s=l),a}return i}function re(n,t){if(n===t)return!0;if(n&&t&&typeof n=="object"&&typeof t=="object"){if(n.constructor!==t.constructor)return!1;let e,s,a;if(Array.isArray(n)){if(e=n.length,e!==t.length)return!1;for(s=e;s--!==0;)if(!re(n[s],t[s]))return!1;return!0}let o;if(typeof Map=="function"&&n instanceof Map&&t instanceof Map){if(n.size!==t.size)return!1;for(o=n.entries();!(s=o.next()).done;)if(!t.has(s.value[0]))return!1;for(o=n.entries();!(s=o.next()).done;)if(!re(s.value[1],t.get(s.value[0])))return!1;return!0}if(typeof Set=="function"&&n instanceof Set&&t instanceof Set){if(n.size!==t.size)return!1;for(o=n.entries();!(s=o.next()).done;)if(!t.has(s.value[0]))return!1;return!0}if(n.constructor===RegExp)return n.source===t.source&&n.flags===t.flags;if(n.valueOf!==Object.prototype.valueOf)return n.valueOf()===t.valueOf();if(n.toString!==Object.prototype.toString)return n.toString()===t.toString();if(a=Object.keys(n),e=a.length,e!==Object.keys(t).length)return!1;for(s=e;s--!==0;)if(!Object.prototype.hasOwnProperty.call(t,a[s]))return!1;if(typeof Element<"u"&&n instanceof Element)return!1;for(s=e;s--!==0;)if(!(a[s]==="_owner"&&n.$$typeof)&&!re(n[a[s]],t[a[s]]))return!1;return!0}return n!==n&&t!==t}function Fe(n,t){try{return re(n,t)}catch(e){if((e.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw e}}function Qt(n={},t){const e={};for(const[s,a]of Object.entries(t))switch(typeof a){case"function":e[s]=a.call(e,n[s],s,n);break;case"object":e[s]=Qt(n[s],a);break;case"boolean":a&&(e[s]=n[s]);break}return e}const ir=180,or=.15,rr=.5,lr=50,ur=250,Fn={threshold(n=0){return Ct(n)},rubberband(n=0){switch(n){case!0:return Ct(or);case!1:return Ct(0);default:return Ct(n)}},enabled(n=!0){return n},triggerAllEvents(n=!1){return n},initial(n=0){return typeof n=="function"?n:Ct(n)},transform:!0},Re={...Fn,axis:!0,lockDirection(n=!1){return n},bounds(n={}){if(typeof n=="function")return o=>Re.bounds(n(o));const{left:t=-1/0,right:e=1/0,top:s=-1/0,bottom:a=1/0}=n;return[[t,e],[s,a]]}},cr=typeof window<"u"&&window.document&&window.document.createElement,dr={enabled(n=!0){return n},domTarget:!0,window(n=cr?window:void 0){return n},eventOptions({passive:n=!0,capture:t=!1}={}){return{passive:n,capture:t}},transform:!0},hr={...Fn,bounds(n,t,{distanceBounds:e={},angleBounds:s={}}){const a=i=>{const l=en(pe(e,i),{min:-1/0,max:1/0});return[l.min,l.max]},o=i=>{const l=en(pe(s,i),{min:-1/0,max:1/0});return[l.min,l.max]};return typeof e!="function"&&typeof s!="function"?[a(),o()]:i=>[a(i),o(i)]}},fr={...Re,useTouch(n=!0){return n&&yn()},preventWindowScrollY(n=!1){return n},threshold(n,t,{filterTaps:e=!1,lockDirection:s=!1,axis:a=void 0}){const o=Ct(n,e?3:s||a?1:0);return this.filterTaps=e,o},swipeVelocity(n=rr){return Ct(n)},swipeDistance(n=lr){return Ct(n)},swipeDuration(n=ur){return n},delay(n=0){switch(n){case!0:return ir;case!1:return 0;default:return n}}};function Pe(n){return Qt(n,dr)}function vr(n={}){return Qt(n,Re)}function pr(n={}){return Qt(n,hr)}function mr(n={}){return Qt(n,fr)}function gr({domTarget:n,eventOptions:t,window:e,enabled:s,...a}){const o=Pe({domTarget:n,eventOptions:t,window:e,enabled:s});return o.drag=mr(a),o}function br({domTarget:n,eventOptions:t,window:e,enabled:s,...a}){const o=Pe({domTarget:n,eventOptions:t,window:e,enabled:s});return o.pinch=pr(a),o}function _r({domTarget:n,eventOptions:t,window:e,enabled:s,...a}){const o=Pe({domTarget:n,eventOptions:t,window:e,enabled:s});return o.wheel=vr(a),o}function ze(n,t,e={}){const s=yr(n),a=new jo(s);return a.config=t,a.handlers=n,a.nativeRefs=e,Jn()&&!t.manual&&(Qn(a.bind),ts(a.clean)),a}function yr(n){const t=new Set;return n.drag&&t.add(bt.get("drag")),n.wheel&&t.add(bt.get("wheel")),n.scroll&&t.add(bt.get("scroll")),n.move&&t.add(bt.get("move")),n.pinch&&t.add(bt.get("pinch")),n.hover&&t.add(bt.get("hover")),t}function xr(n,t={}){bt.set("drag",ar);const e=O();return e.value||(e.value=De(gr,Fe)),ze({drag:n},e.value(t))}class wr extends An{getInternalMovement(t,e){const s=e.values[1];let[a,o=s]=t,i=o-s,l=e.turns;return Math.abs(i)>270&&(l+=ge(i)),Ae([a,o-360*l],e.initial)}getKinematics(t,e){const s=this.getMovement(t),a=(t[1]-s._movement[1]-this.state.initial[1])/360,o=e.timeStamp-this.state.timeStamp,{distance:i,velocity:l,...u}=In(s.movement,s.delta,o);return{turns:a,...s,...u}}mapStateValues(t){return{da:t.values,vdva:t.velocities}}}const $r=7,Sr=260;class kr extends wr{constructor(){super(...arguments),this.ingKey="pinching",this.stateKey="pinch",this.onPinchStart=t=>{Cn(this.controller,t);const e=this.controller.touchIds;if(!this.enabled||this.state._active&&this.state._pointerIds.every(i=>e.has(i))||e.size<2)return;const s=Array.from(e).slice(0,2),{values:a,origin:o}=Ze(t,s,this.transform);this.updateSharedState(gt(t)),this.updateGestureState({...qt(this,a,t),...X(this,t,!0),_pointerIds:s,cancel:this.onCancel,origin:o}),this.updateGestureState(this.getMovement(a)),this.fireGestureHandler()},this.onPinchChange=t=>{const{canceled:e,_active:s}=this.state;if(e||!s||t.timeStamp===this.state.timeStamp)return;const a=gt(t);this.updateSharedState(a);try{const{values:o,origin:i}=Ze(t,this.state._pointerIds,this.transform),l=this.getKinematics(o,t);this.updateGestureState({...X(this,t),...l,origin:i}),this.fireGestureHandler()}catch{this.onPinchEnd(t)}},this.onPinchEnd=t=>{Tn(this.controller,t);const e=Ie(t);this.state._pointerIds.every(s=>!e.includes(s))||(this.clean(),this.state._active&&(this.updateGestureState({...X(this,t),...this.getMovement(this.state.values),_active:!1}),this.fireGestureHandler()))},this.onCancel=()=>{this.state.canceled||(this.updateGestureState({_active:!1,canceled:!0}),this.fireGestureHandler())},this.onGestureStart=t=>{if(!this.enabled)return;t.preventDefault();const e=tn(t,this.transform);this.updateSharedState(gt(t)),this.updateGestureState({...qt(this,e,t),...X(this,t,!0),origin:[t.clientX,t.clientY],cancel:this.onCancel}),this.updateGestureState(this.getMovement(e)),this.fireGestureHandler()},this.onGestureChange=t=>{const{canceled:e,_active:s}=this.state;if(e||!s)return;t.preventDefault();const a=gt(t);this.updateSharedState(a);const o=tn(t,this.transform);o[0]=(o[0]-this.state.event.scale)*Sr+this.state.values[0];const i=this.getKinematics(o,t);this.updateGestureState({...X(this,t),...i,origin:[t.clientX,t.clientY]}),this.fireGestureHandler()},this.onGestureEnd=t=>{this.clean(),this.state._active&&(this.updateGestureState({...X(this,t),...this.getMovement(this.state.values),_active:!1,origin:[t.clientX,t.clientY]}),this.fireGestureHandler())},this.wheelShouldRun=t=>this.enabled&&t.ctrlKey,this.getWheelValuesFromEvent=t=>{const[,e]=wn(t,this.transform),{values:[s,a]}=this.state;return{values:[s-e*$r,a!==void 0?a:0],origin:[t.clientX,t.clientY],delta:[0,e]}},this.onWheel=t=>{!this.wheelShouldRun(t)||(this.setTimeout(this.onWheelEnd),this.state._active?this.onWheelChange(t):this.onWheelStart(t))},this.onWheelStart=t=>{const{values:e,delta:s,origin:a}=this.getWheelValuesFromEvent(t);t.cancelable&&t.preventDefault(),this.updateSharedState(gt(t)),this.updateGestureState({...qt(this,e,t),...X(this,t,!0),initial:this.state.values,offset:e,delta:s,origin:a}),this.updateGestureState(this.getMovement(e)),this.fireGestureHandler()},this.onWheelChange=t=>{t.cancelable&&t.preventDefault(),this.updateSharedState(gt(t));const{values:e,origin:s,delta:a}=this.getWheelValuesFromEvent(t);this.updateGestureState({...X(this,t),...this.getKinematics(e,t),origin:s,delta:a}),this.fireGestureHandler()},this.onWheelEnd=()=>{this.clean(),this.state._active&&(this.state._active=!1,this.updateGestureState(this.getMovement(this.state.values)),this.fireGestureHandler())}}addBindings(t){this.controller.config.domTarget&&!this.controller.supportsTouchEvents&&this.controller.supportsGestureEvents?(H(t,"onGestureStart",this.onGestureStart),H(t,"onGestureChange",this.onGestureChange),H(t,"onGestureEnd",this.onGestureEnd)):(H(t,"onTouchStart",this.onPinchStart),H(t,"onTouchMove",this.onPinchChange),H(t,"onTouchEnd",this.onPinchEnd),H(t,"onTouchCancel",this.onPinchEnd),H(t,"onWheel",this.onWheel))}}class Cr extends Dn{constructor(){super(...arguments),this.ingKey="wheeling",this.stateKey="wheel",this.debounced=!0,this.handleEvent=t=>{if(t.ctrlKey&&"pinch"in this.controller.handlers||!this.enabled)return;this.setTimeout(this.onEnd),this.updateSharedState(gt(t));const e=me(wn(t,this.transform),this.state.values);if(this.state._active)this.updateGestureState({...X(this,t),...this.getKinematics(e,t)});else{this.updateGestureState({...qt(this,e,t),...X(this,t,!0),initial:this.state.values});const s=this.getMovement(e),a=Qo(s.delta);this.updateGestureState(s),this.updateGestureState(a)}this.fireGestureHandler()},this.onEnd=()=>{if(this.clean(),!this.state._active)return;const t=this.getMovement(this.state.values);this.updateGestureState(t),this.updateGestureState({_active:!1,velocities:[0,0],velocity:0}),this.fireGestureHandler()}}addBindings(t){H(t,"onWheel",this.handleEvent)}}function Tr(n,t={}){bt.set("pinch",kr);const e=O();return e.value||(e.value=De(br,Fe)),ze({pinch:n},e.value(t))}function Mr(n,t={}){bt.set("wheel",Cr);const e=O();return e.value||(e.value=De(_r,Fe)),ze({wheel:n},e.value(t))}function Er(n,t){const e=es(t),s=z(()=>{var g,f;return(f=(g=r(e))==null?void 0:g.enabled)!=null?f:!0}),a=O(!1),o=O([0,0]),i=O(1),l=z({set(g){return g>10?i.value=10:g<.1?i.value=.1:i.value=g,i.value},get(){return i.value}}),u=O([0,0]),d=z(()=>{var g;return(g=Ce(n))==null?void 0:g.getBoundingClientRect()}),p=g=>(g=(g+1800)/1800,g<=0?.01:g),m=({wheeling:g,dragging:f,pinching:x,intentional:w,enabled:T,touches:S,ctrlKey:k,event:C})=>{const A=!T||!w?!1:f&&(S===2||"pointerType"in C&&C.pointerType==="mouse")||x||g&&!k;return a.value?requestAnimationFrame(()=>a.value=A):a.value=A,A};return xr(({wheeling:g,dragging:f,pinching:x,touches:w,intentional:T,delta:S,ctrlKey:k,event:C})=>{!m({wheeling:g,dragging:f,pinching:x,intentional:T,enabled:s.value,ctrlKey:k,touches:w,event:C})||(o.value[0]+=S[0],o.value[1]+=S[1])},{domTarget:n,filterTaps:!0}),Mr(({event:g,delta:f,wheeling:x,dragging:w,pinching:T,touches:S,intentional:k,ctrlKey:C})=>{!m({dragging:w,pinching:T,wheeling:x,intentional:k,enabled:s.value,touches:S,ctrlKey:C,event:g})||(g.preventDefault(),o.value[0]+=f[0],o.value[1]+=f[1])},{domTarget:n,eventOptions:{passive:!1}}),Tr(({offset:[g],origin:f,pinching:x,dragging:w,wheeling:T,ctrlKey:S,touches:k,intentional:C,event:A})=>{if(!m({dragging:w,pinching:x,wheeling:T,intentional:C,enabled:s.value,touches:k,ctrlKey:S,event:A}))return;const D=l.value;l.value=p(g),d.value&&(f[0]-=d.value.x,f[1]-=d.value.y,o.value[0]-=(f[0]-d.value.width/2)*(l.value-D),o.value[1]-=(f[1]-d.value.height/2)*(l.value-D)),o.value[0]-=f[0]-u.value[0],o.value[1]-=f[1]-u.value[1],u.value=f},{domTarget:n,eventOptions:{passive:!1},distanceBounds:()=>({min:-1800,max:16200})}),{offset:z(()=>[o.value[0]+u.value[0],o.value[1]+u.value[1]]),zoom:l,transformOrigin:u,active:a}}const Rn=zt(()=>Er(be())),Pn=zt(()=>{const n=O(""),t=O(0),e=O(0);return{src:n,width:t,height:e,processFiles:a=>{if(!((a==null?void 0:a[0])instanceof File))return;const o=new FileReader;o.addEventListener("load",i=>{var l;if((l=i.target)!=null&&l.result){const u=new Image;u.onload=()=>{n.value=u.src,t.value=u.width,e.value=u.height},u.src=i.target.result.toString()}}),o.readAsDataURL(a[0])}}}),Ir={class:"d-none md-d-inline-block"},Ar={class:"d-none md-d-inline-block"},Dr={key:0},Fr=Q({__name:"BoardControls",props:{info:{type:Array,required:!0}},setup(n){const{t}=Rt(),{lines:e}=ve(),s=Ee(e),{zoom:a,transformOrigin:o}=Rn(),i=_e(),l=be(),u=z(()=>{const h=Ce(l);return h?h.viewBox.baseVal:{x:0,y:0,width:0,height:0}});function d(){o.value=[(u.value.width/2-(u.value.x+u.value.width/2)/2)*a.value,(u.value.height/2-(u.value.y+u.value.height/2)/2)*a.value]}function p(){d(),a.value+=.1}function m(){d(),a.value-=.1}const{toggle:g,isFullscreen:f,isSupported:x}=ns(i),{undo:w,redo:T,canUndo:S,canRedo:k}=ve(),C=z(()=>`${t("board.nav.undo")} [ctrl\xA0+\xA0z][\u2318\xA0+\xA0z]`),A=z(()=>`${t("board.nav.redo")} [ctrl\xA0+\xA0shift\xA0+\xA0z][\u2318\xA0+ shift +\xA0z]`),D=O();W(s,h=>h===void 0?D.value=void 0:D.value=h>90?180-h:h);const yt=z(()=>D.value?180-D.value:void 0),{processFiles:ot}=Pn(),{files:tt,open:G}=ss({multiple:!1,accept:"image/*"});return as(tt,h=>{ot(Array.from(h))}),cn("f",g),(h,v)=>{const b=Yi,P=Ii,R=Pt,N=Aa;return $(),E("div",{class:M([h.$style.bar,"pointer-none"])},[c("div",{class:M(["pointer-all bg-bg-transparent-inverse text-inverse whitespace-nowrap",h.$style["info-box"]]),onMousemoveCapture:v[0]||(v[0]=Y(()=>{},["prevent","stop"]))},[F(b,{value:r(D)},{default:U(()=>[F(r(Eo))]),_:1},8,["value"]),F(b,{value:r(yt)},{default:U(()=>[F(r(Wo))]),_:1},8,["value"])],34),($(!0),E(it,null,Bt(n.info,B=>($(),E("li",{key:B,class:M(["bg-bg-transparent-inverse text-inverse min-w-0",h.$style["info-box"]])},[c("small",null,L(B),1)],2))),128)),c("nav",{class:M(h.$style.nav)},[c("ul",{class:M(["pointer-all",h.$style.nav__btns])},[F(P),c("li",null,[F(R,{disabled:!r(S),tooltip:r(C),"tooltip-placement":"left",onClick:r(w),onTouchstartCapture:Y(r(w),["prevent","stop"])},{default:U(()=>[F(r(Ro))]),_:1},8,["disabled","tooltip","onClick","onTouchstartCapture"])]),c("li",null,[F(R,{disabled:!r(k),tooltip:r(A),"tooltip-placement":"left",onClick:r(T),onTouchstartCapture:Y(r(T),["prevent","stop"])},{default:U(()=>[F(r(Lo))]),_:1},8,["disabled","tooltip","onClick","onTouchstartCapture"])]),F(N,{disabled:r(S)},null,8,["disabled"]),c("li",null,[F(R,{tooltip:r(t)("board.nav.upload_file"),"tooltip-placement":"left",onClick:v[1]||(v[1]=B=>r(G)()),onTouchstartCapture:v[2]||(v[2]=Y(B=>r(G)(),["prevent","stop"]))},{default:U(()=>[F(r($o))]),_:1},8,["tooltip"])]),c("li",Ir,[F(R,{disabled:!r(S),tooltip:`${r(t)("board.result.zoom_out")} [-]`,"tooltip-placement":"left",onClick:v[3]||(v[3]=B=>m()),onTouchstartCapture:v[4]||(v[4]=Y(B=>m(),["prevent","stop"]))},{default:U(()=>[F(r(go))]),_:1},8,["disabled","tooltip"])]),c("li",Ar,[F(R,{disabled:!r(S),tooltip:`${r(t)("board.result.zoom_in")} [+]`,"tooltip-placement":"left",onClick:v[5]||(v[5]=B=>p()),onTouchstartCapture:v[6]||(v[6]=Y(B=>p(),["prevent","stop"]))},{default:U(()=>[F(r(co))]),_:1},8,["disabled","tooltip"])]),r(x)?($(),E("li",Dr,[F(R,{tooltip:`${r(t)("board.nav.toggle_fullscreen")} [f]`,"tooltip-placement":"left",onClick:r(g),onTouchstartCapture:Y(r(g),["prevent","stop"])},{default:U(()=>[r(f)?($(),Z(r(ao),{key:0})):($(),Z(r(Qi),{key:1}))]),_:1},8,["tooltip","onClick","onTouchstartCapture"])])):at("",!0)],2)],2)],2)}}}),Rr="f_t",Pr="f_u",zr={bar:Rr,nav__btns:Pr,"info-box":"f_v"},Or={$style:zr},Nr=Tt(Fr,[["__cssModules",Or]]),Lr=["x1","y1","x2","y2"],Br=Q({__name:"Segment",props:{pointStart:{type:Array,default:void 0},pointStop:{type:Array,default:void 0}},setup(n){return(t,e)=>n.pointStart&&n.pointStop?($(),E("line",{key:0,x1:n.pointStart[0],y1:n.pointStart[1],x2:n.pointStop[0],y2:n.pointStop[1]},null,8,Lr)):at("",!0)}}),Gr=is((n,t,e,s)=>{if(!n||!t||!e||!s)return;n===e&&(n+=.1);const a=(t-s)/(n-e),o=s-e*a;return{slope:a,intercept:o}});function Zt(n){return z(()=>Gr(...n.value[0]||[],...n.value[1]||[]))}var I=globalThis&&globalThis.__classPrivateFieldSet||function(n,t,e){if(!t.has(n))throw new TypeError("attempted to set private field on non-instance");return t.set(n,e),e},_=globalThis&&globalThis.__classPrivateFieldGet||function(n,t){if(!t.has(n))throw new TypeError("attempted to get private field on non-instance");return t.get(n)},$t,It,st,Nt,Wt,rt,lt,ut,ct,dt,ht,ft,vt,At,Lt,St,le,kt;const Ur=function(n){var t=131,e=137,s=0;n+="x";var a=Math.floor(9007199254740991/e);for(let o=0;o<n.length;o++)s>a&&(s=Math.floor(s/e)),s=s*t+n.charCodeAt(o);return s},y="0123456789abcdef".split(""),Hr=[-2147483648,8388608,32768,128],nt=[24,16,8,0],ie=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],V=[];class Vr{constructor(t=!1,e=!1){$t.set(this,void 0),It.set(this,void 0),st.set(this,void 0),Nt.set(this,void 0),Wt.set(this,void 0),rt.set(this,void 0),lt.set(this,void 0),ut.set(this,void 0),ct.set(this,void 0),dt.set(this,void 0),ht.set(this,void 0),ft.set(this,void 0),vt.set(this,void 0),At.set(this,void 0),Lt.set(this,void 0),St.set(this,void 0),le.set(this,0),kt.set(this,void 0),this.init(t,e)}init(t,e){e?(V[0]=V[16]=V[1]=V[2]=V[3]=V[4]=V[5]=V[6]=V[7]=V[8]=V[9]=V[10]=V[11]=V[12]=V[13]=V[14]=V[15]=0,I(this,It,V)):I(this,It,[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),t?(I(this,rt,3238371032),I(this,lt,914150663),I(this,ut,812702999),I(this,ct,4144912697),I(this,dt,4290775857),I(this,ht,1750603025),I(this,ft,1694076839),I(this,vt,3204075428)):(I(this,rt,1779033703),I(this,lt,3144134277),I(this,ut,1013904242),I(this,ct,2773480762),I(this,dt,1359893119),I(this,ht,2600822924),I(this,ft,528734635),I(this,vt,1541459225)),I(this,$t,I(this,kt,I(this,st,I(this,Lt,0)))),I(this,Nt,I(this,At,!1)),I(this,Wt,!0),I(this,St,t)}update(t){if(_(this,Nt))return this;let e;t instanceof ArrayBuffer?e=new Uint8Array(t):e=t;let s=0;const a=e.length,o=_(this,It);for(;s<a;){let i;if(_(this,At)&&(I(this,At,!1),o[0]=_(this,$t),o[16]=o[1]=o[2]=o[3]=o[4]=o[5]=o[6]=o[7]=o[8]=o[9]=o[10]=o[11]=o[12]=o[13]=o[14]=o[15]=0),typeof e!="string")for(i=_(this,kt);s<a&&i<64;++s)o[i>>2]|=e[s]<<nt[i++&3];else for(i=_(this,kt);s<a&&i<64;++s){let l=e.charCodeAt(s);l<128?o[i>>2]|=l<<nt[i++&3]:l<2048?(o[i>>2]|=(192|l>>6)<<nt[i++&3],o[i>>2]|=(128|l&63)<<nt[i++&3]):l<55296||l>=57344?(o[i>>2]|=(224|l>>12)<<nt[i++&3],o[i>>2]|=(128|l>>6&63)<<nt[i++&3],o[i>>2]|=(128|l&63)<<nt[i++&3]):(l=65536+((l&1023)<<10|e.charCodeAt(++s)&1023),o[i>>2]|=(240|l>>18)<<nt[i++&3],o[i>>2]|=(128|l>>12&63)<<nt[i++&3],o[i>>2]|=(128|l>>6&63)<<nt[i++&3],o[i>>2]|=(128|l&63)<<nt[i++&3])}I(this,le,i),I(this,st,_(this,st)+(i-_(this,kt))),i>=64?(I(this,$t,o[16]),I(this,kt,i-64),this.hash(),I(this,At,!0)):I(this,kt,i)}return _(this,st)>4294967295&&(I(this,Lt,_(this,Lt)+(_(this,st)/4294967296<<0)),I(this,st,_(this,st)%4294967296)),this}finalize(){if(_(this,Nt))return;I(this,Nt,!0);const t=_(this,It),e=_(this,le);t[16]=_(this,$t),t[e>>2]|=Hr[e&3],I(this,$t,t[16]),e>=56&&(_(this,At)||this.hash(),t[0]=_(this,$t),t[16]=t[1]=t[2]=t[3]=t[4]=t[5]=t[6]=t[7]=t[8]=t[9]=t[10]=t[11]=t[12]=t[13]=t[14]=t[15]=0),t[14]=_(this,Lt)<<3|_(this,st)>>>29,t[15]=_(this,st)<<3,this.hash()}hash(){let t=_(this,rt),e=_(this,lt),s=_(this,ut),a=_(this,ct),o=_(this,dt),i=_(this,ht),l=_(this,ft),u=_(this,vt);const d=_(this,It);let p,m,g,f,x,w,T,S,k,C;for(let A=16;A<64;++A)f=d[A-15],p=(f>>>7|f<<25)^(f>>>18|f<<14)^f>>>3,f=d[A-2],m=(f>>>17|f<<15)^(f>>>19|f<<13)^f>>>10,d[A]=d[A-16]+p+d[A-7]+m<<0;C=e&s;for(let A=0;A<64;A+=4)_(this,Wt)?(_(this,St)?(T=300032,f=d[0]-1413257819,u=f-150054599<<0,a=f+24177077<<0):(T=704751109,f=d[0]-210244248,u=f-1521486534<<0,a=f+143694565<<0),I(this,Wt,!1)):(p=(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10),m=(o>>>6|o<<26)^(o>>>11|o<<21)^(o>>>25|o<<7),T=t&e,g=T^t&s^C,w=o&i^~o&l,f=u+m+w+ie[A]+d[A],x=p+g,u=a+f<<0,a=f+x<<0),p=(a>>>2|a<<30)^(a>>>13|a<<19)^(a>>>22|a<<10),m=(u>>>6|u<<26)^(u>>>11|u<<21)^(u>>>25|u<<7),S=a&t,g=S^a&e^T,w=u&o^~u&i,f=l+m+w+ie[A+1]+d[A+1],x=p+g,l=s+f<<0,s=f+x<<0,p=(s>>>2|s<<30)^(s>>>13|s<<19)^(s>>>22|s<<10),m=(l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<7),k=s&a,g=k^s&t^S,w=l&u^~l&o,f=i+m+w+ie[A+2]+d[A+2],x=p+g,i=e+f<<0,e=f+x<<0,p=(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10),m=(i>>>6|i<<26)^(i>>>11|i<<21)^(i>>>25|i<<7),C=e&s,g=C^e&a^k,w=i&l^~i&u,f=o+m+w+ie[A+3]+d[A+3],x=p+g,o=t+f<<0,t=f+x<<0;I(this,rt,_(this,rt)+t<<0),I(this,lt,_(this,lt)+e<<0),I(this,ut,_(this,ut)+s<<0),I(this,ct,_(this,ct)+a<<0),I(this,dt,_(this,dt)+o<<0),I(this,ht,_(this,ht)+i<<0),I(this,ft,_(this,ft)+l<<0),I(this,vt,_(this,vt)+u<<0)}hex(){this.finalize();const t=_(this,rt),e=_(this,lt),s=_(this,ut),a=_(this,ct),o=_(this,dt),i=_(this,ht),l=_(this,ft),u=_(this,vt);let d=y[t>>28&15]+y[t>>24&15]+y[t>>20&15]+y[t>>16&15]+y[t>>12&15]+y[t>>8&15]+y[t>>4&15]+y[t&15]+y[e>>28&15]+y[e>>24&15]+y[e>>20&15]+y[e>>16&15]+y[e>>12&15]+y[e>>8&15]+y[e>>4&15]+y[e&15]+y[s>>28&15]+y[s>>24&15]+y[s>>20&15]+y[s>>16&15]+y[s>>12&15]+y[s>>8&15]+y[s>>4&15]+y[s&15]+y[a>>28&15]+y[a>>24&15]+y[a>>20&15]+y[a>>16&15]+y[a>>12&15]+y[a>>8&15]+y[a>>4&15]+y[a&15]+y[o>>28&15]+y[o>>24&15]+y[o>>20&15]+y[o>>16&15]+y[o>>12&15]+y[o>>8&15]+y[o>>4&15]+y[o&15]+y[i>>28&15]+y[i>>24&15]+y[i>>20&15]+y[i>>16&15]+y[i>>12&15]+y[i>>8&15]+y[i>>4&15]+y[i&15]+y[l>>28&15]+y[l>>24&15]+y[l>>20&15]+y[l>>16&15]+y[l>>12&15]+y[l>>8&15]+y[l>>4&15]+y[l&15];return _(this,St)||(d+=y[u>>28&15]+y[u>>24&15]+y[u>>20&15]+y[u>>16&15]+y[u>>12&15]+y[u>>8&15]+y[u>>4&15]+y[u&15]),d}toString(){return this.hex()}digest(){this.finalize();const t=_(this,rt),e=_(this,lt),s=_(this,ut),a=_(this,ct),o=_(this,dt),i=_(this,ht),l=_(this,ft),u=_(this,vt),d=[t>>24&255,t>>16&255,t>>8&255,t&255,e>>24&255,e>>16&255,e>>8&255,e&255,s>>24&255,s>>16&255,s>>8&255,s&255,a>>24&255,a>>16&255,a>>8&255,a&255,o>>24&255,o>>16&255,o>>8&255,o&255,i>>24&255,i>>16&255,i>>8&255,i&255,l>>24&255,l>>16&255,l>>8&255,l&255];return _(this,St)||d.push(u>>24&255,u>>16&255,u>>8&255,u&255),d}array(){return this.digest()}arrayBuffer(){this.finalize();const t=new ArrayBuffer(_(this,St)?28:32),e=new DataView(t);return e.setUint32(0,_(this,rt)),e.setUint32(4,_(this,lt)),e.setUint32(8,_(this,ut)),e.setUint32(12,_(this,ct)),e.setUint32(16,_(this,dt)),e.setUint32(20,_(this,ht)),e.setUint32(24,_(this,ft)),_(this,St)||e.setUint32(28,_(this,vt)),t}}$t=new WeakMap,It=new WeakMap,st=new WeakMap,Nt=new WeakMap,Wt=new WeakMap,rt=new WeakMap,lt=new WeakMap,ut=new WeakMap,ct=new WeakMap,dt=new WeakMap,ht=new WeakMap,ft=new WeakMap,vt=new WeakMap,At=new WeakMap,Lt=new WeakMap,St=new WeakMap,le=new WeakMap,kt=new WeakMap;function Wr(n){const t=new Vr;return t.update(n),parseInt(t.hex().substring(0,8),16)}const Kr=function(n){var t="#";return n.forEach(function(e){e<16&&(t+=0),t+=e.toString(16)}),t},jr=function(n,t,e){n/=360;var s=e<.5?e*(1+t):e+t-e*t,a=2*e-s;return[n+1/3,n,n-1/3].map(function(o){return o<0&&o++,o>1&&o--,o<1/6?o=a+(s-a)*6*o:o<.5?o=s:o<2/3?o=a+(s-a)*6*(2/3-o):o=a,Math.round(o*255)})};class Yr{constructor(t={}){const[e,s]=[t.lightness,t.saturation].map(function(a){return a=a!==void 0?a:[.35,.5,.65],Array.isArray(a)?a.concat():[a]});this.L=e,this.S=s,typeof t.hue=="number"&&(t.hue={min:t.hue,max:t.hue}),typeof t.hue=="object"&&!Array.isArray(t.hue)&&(t.hue=[t.hue]),typeof t.hue>"u"&&(t.hue=[]),this.hueRanges=t.hue.map(function(a){return{min:typeof a.min>"u"?0:a.min,max:typeof a.max>"u"?360:a.max}}),this.hash=Wr,typeof t.hash=="function"&&(this.hash=t.hash),t.hash==="bkdr"&&(this.hash=Ur)}hsl(t){var e,s,a,o=this.hash(t),i=727;if(this.hueRanges.length){const l=this.hueRanges[o%this.hueRanges.length];e=o/this.hueRanges.length%i*(l.max-l.min)/i+l.min}else e=o%359;return o=Math.ceil(o/360),s=this.S[o%this.S.length],o=Math.ceil(o/this.S.length),a=this.L[o%this.L.length],[e,s,a]}rgb(t){var e=this.hsl(t);return jr.apply(this,e)}hex(t){var e=this.rgb(t);return Kr(e)}}const qr=Array.from({length:550},(n,t)=>(t+401)/1e3),Xr=Array.from({length:551},(n,t)=>(t+50)/1e3);function ke(n){return z(()=>{const t=JSON.stringify(n.value),e=xe.value?qr:Xr,[s,a,o]=new Yr({lightness:e}).hsl(t);return`hsl(${[s,`${xe.value&&o<.3||!xe.value&&o>.7?Math.min(a+.4,1)*100:a*100}%`,`${o*100}%`].join(",")})`})}const zn=Q({__name:"Line",props:{points:{type:Array,default:()=>[]},pathWidth:{type:Number,default:1},svgSize:{type:Object,default:void 0},svgOffset:{type:Object,default:void 0}},setup(n){const t=n,e=Zt(Be(t,"points")),s=ke(Be(t,"points")),a=z(()=>{var g,f,x,w;const{svgSize:i,svgOffset:l}=t;if(!i||!l||!e.value||((g=t.points[0])==null?void 0:g[0])===((f=t.points[1])==null?void 0:f[0])&&((x=t.points[0])==null?void 0:x[1])===((w=t.points[1])==null?void 0:w[1]))return;const{slope:u,intercept:d}=e.value,p=l.x,m=i.width+l.x;return[[p,u*p+d],[m,u*m+d]]}),o=z(()=>`${t.pathWidth} ${2*t.pathWidth}`);return(i,l)=>{const u=Br;return $(),E(it,null,[a.value?($(),E(it,{key:0},[F(u,Dt(i.$attrs,{"stroke-width":n.pathWidth*.8,stroke:"var(--background-color-transparent)","point-start":a.value[0],"point-stop":a.value[1],"stroke-dasharray":o.value,"stroke-linecap":"round",opacity:".2"}),null,16,["stroke-width","point-start","point-stop","stroke-dasharray"]),F(u,Dt({"stroke-width":n.pathWidth*.4,stroke:r(s)},i.$attrs,{"point-start":a.value[0],"point-stop":a.value[1],"stroke-dasharray":o.value,"stroke-linecap":"round"}),null,16,["stroke-width","stroke","point-start","point-stop","stroke-dasharray"])],64)):at("",!0),F(u,Dt(i.$attrs,{"stroke-width":n.pathWidth*1.2,stroke:"var(--background-color-transparent)","point-start":n.points[0],"point-stop":n.points[1],"stroke-linecap":"round",opacity:".3"}),null,16,["stroke-width","point-start","point-stop"]),F(u,Dt({stroke:r(s)},i.$attrs,{"stroke-linecap":"round","point-start":n.points[0],"point-stop":n.points[1]}),null,16,["stroke","point-start","point-stop"])],64)}}}),Zr={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Jr=c("path",{fill:"currentColor",d:"M24 19h-3v-3h-2v3h-3v2h3v3h2v-3h3v-2z"},null,-1),Qr=c("path",{fill:"currentColor",d:"m31 29.586l-4.689-4.688a8.028 8.028 0 1 0-1.414 1.414L29.586 31zM20 26a6 6 0 1 1 6-6a6.007 6.007 0 0 1-6 6zM4 8H2V4a2.002 2.002 0 0 1 2-2h4v2H4zm22 0h-2V4h-4V2h4a2.002 2.002 0 0 1 2 2zM12 2h4v2h-4zM8 26H4a2.002 2.002 0 0 1-2-2v-4h2v4h4zM2 12h2v4H2z"},null,-1),tl=[Jr,Qr];function el(n,t){return $(),E("svg",Zr,tl)}const nl={name:"carbon-zoom-in-area",render:el},sl={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},al=c("path",{fill:"currentColor",d:"M16 19h8v2h-8z"},null,-1),il=c("path",{fill:"currentColor",d:"m31 29.586l-4.689-4.688a8.028 8.028 0 1 0-1.414 1.414L29.586 31zM20 26a6 6 0 1 1 6-6a6.007 6.007 0 0 1-6 6zM4 8H2V4a2.002 2.002 0 0 1 2-2h4v2H4zm22 0h-2V4h-4V2h4a2.002 2.002 0 0 1 2 2zM12 2h4v2h-4zM8 26H4a2.002 2.002 0 0 1-2-2v-4h2v4h4zM2 12h2v4H2z"},null,-1),ol=[al,il];function rl(n,t){return $(),E("svg",sl,ol)}const ll={name:"carbon-zoom-out-area",render:rl};var pt=(n=>(n[n.UP=0]="UP",n[n.DOWN=1]="DOWN",n[n.LEFT=2]="LEFT",n[n.RIGHT=3]="RIGHT",n))(pt||{});const On=zt(()=>{const n=O(!1);return{outOfBoundLabels:n,setOutBoundLabels(t,e,s){const a={x:30,y:4.5},o=t.find(({x:u,y:d})=>(u-=s.x,d-=s.y,u<a.x||u>e.width-a.x||d<a.y+3||d>e.height-a.y));if(!o)return n.value=!1;let{x:i,y:l}=o;return i-=s.x,l-=s.y,i<a.x?n.value={direction:2,y:l}:i>e.width-a.x?n.value={direction:3,y:l}:l<a.y+3?n.value={direction:0,x:i}:n.value={direction:1,x:i}}}});function Nn(n,t){return z(()=>{if(!n.value||!t.value)return;const{slope:e,intercept:s}=n.value,{slope:a,intercept:o}=t.value;let i;return e===a?i=o-s:i=(s-o)/(a-e),{x:i,y:e*i+s}})}function Ln(n,t,e,s){return z(()=>{if(!t.value||!e.value||!s.value||!n.value)return;const a=e.value,o=s.value;let i=Math.tan((Math.atan(a.slope)+Math.atan(o.slope))/2),l=-1/i,u=a.slope*t.value.x+a.intercept-i*t.value.x,d=a.slope*t.value.x+a.intercept-l*t.value.x;const p=_n([[[0,a.intercept],[t.value.x,a.slope*t.value.x+a.intercept]],[[0,u],[t.value.x,i*t.value.x+u]]])*2;return(p-1>n.value||p+1<n.value)&&([i,u,l,d]=[l,d,i,u]),{acute:{slope:i,intercept:u},obtuse:{slope:l,intercept:d}}})}function Bn(n,t,e){const s=O([]);return os([t,e,n],()=>{if(!t.value||!e.value||!n.value)return s.value=[];const{acute:{slope:a,intercept:o},obtuse:{slope:i,intercept:l}}=e.value,u=70,d=n.value,p=Math.cos(Math.atan(a))*(u+(90-d)*.4)+t.value.x,m=180-d,g=-Math.cos(Math.atan(i))*(u+(90-m)*.4)+t.value.x;s.value=[{x:p,y:a*p+o,value:d},{x:g,y:i*g+l,value:m}]},{throttle:20,immediate:!0}),s}function ln(n,t){return z(()=>{if(!t.value||!n.value)return;const{slope:e,intercept:s}=n.value,{x1:a,x2:o}=t.value;return[[a,e*a+s],[o,e*o+s]]})}const ul=["viewBox"],cl=["transform"],dl=["x","y"],hl=Q({__name:"BoardResult",setup(n){const{t}=Rt(),e=O(!1);function s(){e.value&&(e.value=!1)}const a=O();rs(a,s),cn("Escape",s);const{height:o,width:i}=Te(_e()),l=z(()=>({width:300,height:300*o.value/i.value})),{outOfBoundLabels:u}=On(),d=z(()=>{const v=e.value?260:50;return{width:v,height:v}}),p=z(()=>({minY:d.value.height,maxY:o.value-d.value.height,minX:d.value.width,maxX:i.value-d.value.width})),m=z(()=>{const{minX:v,maxX:b,minY:P,maxY:R}=p.value,N=et=>et>R?R:et<P?P:et,B=et=>et>b?b:et<v?v:et;if(!u.value)return;const K={height:`${d.value.height}px`,width:`${d.value.width}px`};switch(u.value.direction){case pt.DOWN:return{...K,bottom:"1rem",left:`${B(u.value.x)}px`,transform:"translateX(-50%)"};case pt.UP:return{...K,top:"1rem",left:`${B(u.value.x)}px`,transform:"translateX(-50%)"};case pt.LEFT:return{...K,top:`${N(u.value.y)}px`,left:"1rem",transform:"translateY(-50%)"};case pt.RIGHT:return{...K,top:`${N(u.value.y)}px`,right:"1rem",transform:"translateY(-50%)"}}}),{lines:g}=ve(),f=Ee(g),x=z(()=>g.value[0]||[]),w=z(()=>g.value[1]||[]),T=Zt(x),S=Zt(w),k=Nn(T,S),C=Ln(f,k,T,S),A=Bn(f,k,C),D=z(()=>k.value&&{x1:k.value.x-l.value.width,x2:k.value.x+l.value.width}),yt=ln(T,D),ot=ln(S,D),tt=ke(x),G=ke(w),h={[pt.UP]:"bottom",[pt.DOWN]:void 0,[pt.LEFT]:"right",[pt.RIGHT]:"left"};return(v,b)=>{const P=Pt,R=zn;return r(T)&&r(S)&&r(k)&&r(u)?($(),E("section",{key:0,ref_key:"el",ref:a,class:M(["bg-bg-transparent-inverse text-inverse",[v.$style.result,{[v.$style["result--open"]]:r(e)}]]),style:oe(r(m)),onMousemove:b[0]||(b[0]=Y(()=>{},["prevent","stop"])),onClick:b[1]||(b[1]=N=>e.value=!r(e))},[F(P,{class:M(v.$style.btn),tooltip:r(e)?r(t)("board.result.zoom_out"):r(t)("board.result.zoom_in"),"tooltip-placement":r(e)?"left":h[r(u).direction]},{default:U(()=>[($(),Z(ls(r(e)?r(ll):r(nl))))]),_:1},8,["class","tooltip","tooltip-placement"]),($(),E("svg",{viewBox:`${r(l).width*.1} ${r(l).height*.1} ${r(l).width*.8} ${r(l).height*.8}`,class:M(v.$style.svg)},[c("g",{transform:`translate(${-r(k).x+r(l).width*.5} ${-r(k).y+r(l).height*.5})`},[r(yt)?($(),Z(R,Dt({key:0,"stroke-width":"4","stroke-linecap":"round"},v.$attrs,{stroke:r(tt),"path-width":4,points:r(yt),"stroke-dasharray":"5 10",filter:"saturate(2.5)"}),null,16,["stroke","points"])):at("",!0),r(ot)?($(),Z(R,Dt({key:1,"stroke-width":"4","stroke-linecap":"round"},v.$attrs,{stroke:r(G),"path-width":4,points:r(ot),"stroke-dasharray":"5 10",filter:"saturate(2.5)"}),null,16,["stroke","points"])):at("",!0),($(!0),E(it,null,Bt(r(A),N=>($(),E("text",{key:`${N.x}|${N.y}`,x:N.x,y:N.y,"text-anchor":"middle","dominant-baseline":"middle",stroke:"transparent"},L(N.value.toFixed(3))+"\xB0",9,dl))),128))],8,cl)],10,ul))],38)):at("",!0)}}}),fl="f_w",vl="f_y",pl="f_z",ml={result:fl,"result--open":"f_x",svg:vl,btn:pl},gl={$style:ml},bl=Tt(hl,[["__cssModules",gl]]),_l=["viewBox","stroke-width","onTouchend","onMouseup"],yl=["cx","cy","r"],xl=["x","y","stroke-width"],wl=["x","y"],$l=Q({__name:"BoardSvg",props:{width:{type:Number,default:0},height:{type:Number,default:0}},emits:["pressed"],setup(n,{emit:t}){const e=n,{width:s,height:a}=un(e),o=be(),i=O(!1),{ctrl:l,meta:u,option:d}=Me(),p=z(()=>{if(u.value)return"move"}),{offset:m,active:g,zoom:f,transformOrigin:x}=Rn(),w=z(()=>5/f.value),T=z(()=>({width:s.value/f.value,height:a.value/f.value})),S=z(()=>({x:-m.value[0]/f.value,y:-m.value[1]/f.value})),{elementX:k,elementY:C}=us(o,{handleOutside:!1}),A=z(()=>(k.value-m.value[0])/f.value),D=z(()=>(C.value-m.value[1])/f.value),{undo:yt,redo:ot}=ue(k),{undo:tt,redo:G}=ue(C),{lines:h,predictNextPoint:v,drawNextPoint:b,step:P,registerOnRedo:R,registerOnUndo:N}=ve();R(()=>{ot(),G()}),N(()=>{yt(),tt()}),W([A,D],([Mt,J])=>{P.value===2&&v(Mt,J)});const B=Ee(h),K=z(()=>h.value[0]||[]),et=z(()=>h.value[1]||[]),xt=Zt(K),te=Zt(et),ee=Nn(xt,te),Gt=Ln(B,ee,xt,te),Ot=Bn(B,ee,Gt),{setOutBoundLabels:Gn}=On();W([Ot,T,S],([Mt,J,Et])=>Gn(Mt,J,Et)),W([s,a],([Mt,J],[Et,q])=>{x.value=[x.value[0]+(Mt-Et)/2,x.value[1]+(J-q)/2]});function Oe(){g.value||(b(A.value,D.value),t("pressed"))}return(Mt,J)=>{const Et=zn;return $(),E("svg",{ref_key:"svgRef",ref:o,viewBox:`${r(S).x} ${r(S).y} ${r(T).width} ${r(T).height}`,"stroke-width":r(w),tabindex:"0",style:oe({cursor:r(p)}),onTouchend:Y(Oe,["prevent"]),onMouseup:Y(Oe,["left","prevent"]),onMousedownOnce:J[0]||(J[0]=Y(q=>i.value=!0,["left"])),onMousemovePassiveOnce:J[1]||(J[1]=q=>i.value=!0),onTouchstartPassiveOnce:J[2]||(J[2]=q=>i.value=!0)},[Kt(Mt.$slots,"default"),r(P)%2?wt(($(),E("circle",{key:0,cx:`${r(A)}px`,cy:`${r(D)}px`,r:r(w),"stroke-width":1},null,8,yl)),[[cs,r(i)&&!r(l)&&!r(u)&&!r(d)]]):($(),Z(Et,{key:1,points:[r(h)[Math.floor(r(P)/2)][0],[r(A),r(D)]],"svg-size":r(T),"svg-offset":r(S),"path-width":r(w)},null,8,["points","svg-size","svg-offset","path-width"])),F(Et,{points:r(h)[0],"svg-size":r(T),"svg-offset":r(S),"path-width":r(w)},null,8,["points","svg-size","svg-offset","path-width"]),F(Et,{points:r(h)[1],"svg-size":r(T),"svg-offset":r(S),"path-width":r(w)},null,8,["points","svg-size","svg-offset","path-width"]),($(!0),E(it,null,Bt(r(Ot),q=>($(),E(it,{key:`${q.x}|${q.y}`},[c("text",{x:q.x,y:q.y,"text-anchor":"middle","dominant-baseline":"middle",stroke:"var(--background-color-transparent)","stroke-width":r(w),style:oe(`font-size:${r(w)/5}em`)},L(q.value.toFixed(3))+"\xB0",13,xl),c("text",{x:q.x,y:q.y,"text-anchor":"middle","dominant-baseline":"middle",stroke:"transparent",style:oe(`font-size:${r(w)/5}em`)},L(q.value.toFixed(3))+"\xB0",13,wl)],64))),128))],44,_l)}}}),Sl=["href","x","y","height","width"],kl=Q({__name:"Board",setup(n){const{t}=Rt(),e=O(!0),s=_e(),{height:a,width:o}=Te(s),{src:i,width:l,height:u,processFiles:d}=Pn(),p=O(0),m=O(0);W(i,()=>{if(u&&l)if(l.value>o.value||u.value>a.value){const x=Math.min(o.value/l.value,a.value/u.value);p.value=u.value*x,m.value=l.value*x}else p.value=u.value,m.value=l.value});const{isOverDropZone:g}=ds(s,d),f=z(()=>g.value?[t("board.drop_file_here")]:[]);return(x,w)=>{const T=$l,S=bl,k=Nr;return $(),E("div",{ref_key:"boardRef",ref:s,class:M(x.$style.board)},[F(T,{class:M(x.$style.board__svg),width:r(o),height:r(a),onPressed:w[0]||(w[0]=C=>e.value=!1)},{default:U(()=>[r(i)?($(),E("image",{key:0,href:r(i),x:r(m)/-2,y:r(p)/-2,height:`${r(p)}`,width:`${r(m)}`},null,8,Sl)):at("",!0)]),_:1},8,["class","width","height"]),r(e)&&!r(i)?($(),E("div",{key:0,class:M(x.$style.board__hint)},L(r(t)("board.click_this_button_or_drop")),3)):at("",!0),F(S),F(k,{class:M(x.$style.board__nav),info:r(f),"onUpdate:files":r(d)},null,8,["class","info","onUpdate:files"])],2)}}}),Cl="f_f",Tl="f_g",Ml="f_h",El="f_i",Il={board:Cl,board__svg:Tl,board__nav:Ml,board__hint:El},Al={$style:Il},Dl=Tt(kl,[["__cssModules",Al]]),Fl={};function Rl(n,t){const e=Dl;return $(),Z(e,{class:"flex-grow"})}const zl=Tt(Fl,[["render",Rl]]);export{zl as default};
