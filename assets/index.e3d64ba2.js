import{d as le,q as K,s as oe,v as Bt,x as Nt,y as Lt,u as xe,z as Qe,o as C,c as re,b as E,w as ee,a as i,A as ke,B as se,j as H,C as Be,n as S,l as ae,k as r,T as Et,m as ie,E as Se,e as ge,F as Fe,h as Y,G as Dt,H as Ut,i as z,I as De,J as It,K as _e,L as Ae,M as we,N as nt,O as de,P as Te,Q as et,R as vt,r as Ot,S as Ht,U as Pt,V as at,W as Vt,X as Oe,Y as qt,Z as He,$ as Gt,a0 as Wt,a1 as Zt,a2 as Xe,a3 as Xt,a4 as jt,a5 as Yt,a6 as Kt,a7 as Jt,a8 as Qt}from"./app.456e1935.js";/*!
* tabbable 6.0.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var ft=["input","select","textarea","a[href]","button","[tabindex]:not(slot)","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])',"details>summary:first-of-type","details"],Pe=ft.join(","),pt=typeof Element>"u",Ce=pt?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Ve=!pt&&Element.prototype.getRootNode?function(a){return a.getRootNode()}:function(a){return a.ownerDocument},bt=function(t,n,e){var s=Array.prototype.slice.apply(t.querySelectorAll(Pe));return n&&Ce.call(t,Pe)&&s.unshift(t),s=s.filter(e),s},mt=function a(t,n,e){for(var s=[],o=Array.from(t);o.length;){var l=o.shift();if(l.tagName==="SLOT"){var h=l.assignedElements(),m=h.length?h:l.children,_=a(m,!0,e);e.flatten?s.push.apply(s,_):s.push({scope:l,candidates:_})}else{var b=Ce.call(l,Pe);b&&e.filter(l)&&(n||!t.includes(l))&&s.push(l);var M=l.shadowRoot||typeof e.getShadowRoot=="function"&&e.getShadowRoot(l),R=!e.shadowRootFilter||e.shadowRootFilter(l);if(M&&R){var T=a(M===!0?l.children:M.children,!0,e);e.flatten?s.push.apply(s,T):s.push({scope:l,candidates:T})}else o.unshift.apply(o,l.children)}}return s},_t=function(t,n){return t.tabIndex<0&&(n||/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName)||t.isContentEditable)&&isNaN(parseInt(t.getAttribute("tabindex"),10))?0:t.tabIndex},en=function(t,n){return t.tabIndex===n.tabIndex?t.documentOrder-n.documentOrder:t.tabIndex-n.tabIndex},gt=function(t){return t.tagName==="INPUT"},tn=function(t){return gt(t)&&t.type==="hidden"},nn=function(t){var n=t.tagName==="DETAILS"&&Array.prototype.slice.apply(t.children).some(function(e){return e.tagName==="SUMMARY"});return n},an=function(t,n){for(var e=0;e<t.length;e++)if(t[e].checked&&t[e].form===n)return t[e]},on=function(t){if(!t.name)return!0;var n=t.form||Ve(t),e=function(h){return n.querySelectorAll('input[type="radio"][name="'+h+'"]')},s;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")s=e(window.CSS.escape(t.name));else try{s=e(t.name)}catch(l){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",l.message),!1}var o=an(s,t.form);return!o||o===t},sn=function(t){return gt(t)&&t.type==="radio"},rn=function(t){return sn(t)&&!on(t)},ln=function(t){for(var n,e=Ve(t).host,s=!!((n=e)!==null&&n!==void 0&&n.ownerDocument.contains(e)||t.ownerDocument.contains(t));!s&&e;){var o;e=Ve(e).host,s=!!((o=e)!==null&&o!==void 0&&o.ownerDocument.contains(e))}return s},ot=function(t){var n=t.getBoundingClientRect(),e=n.width,s=n.height;return e===0&&s===0},un=function(t,n){var e=n.displayCheck,s=n.getShadowRoot;if(getComputedStyle(t).visibility==="hidden")return!0;var o=Ce.call(t,"details>summary:first-of-type"),l=o?t.parentElement:t;if(Ce.call(l,"details:not([open]) *"))return!0;if(!e||e==="full"||e==="legacy-full"){if(typeof s=="function"){for(var h=t;t;){var m=t.parentElement,_=Ve(t);if(m&&!m.shadowRoot&&s(m)===!0)return ot(t);t.assignedSlot?t=t.assignedSlot:!m&&_!==t.ownerDocument?t=_.host:t=m}t=h}if(ln(t))return!t.getClientRects().length;if(e!=="legacy-full")return!0}else if(e==="non-zero-area")return ot(t);return!1},cn=function(t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))for(var n=t.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var e=0;e<n.children.length;e++){var s=n.children.item(e);if(s.tagName==="LEGEND")return Ce.call(n,"fieldset[disabled] *")?!0:!s.contains(t)}return!0}n=n.parentElement}return!1},qe=function(t,n){return!(n.disabled||tn(n)||un(n,t)||nn(n)||cn(n))},Ke=function(t,n){return!(rn(n)||_t(n)<0||!qe(t,n))},dn=function(t){var n=parseInt(t.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},hn=function a(t){var n=[],e=[];return t.forEach(function(s,o){var l=!!s.scope,h=l?s.scope:s,m=_t(h,l),_=l?a(s.candidates):h;m===0?l?n.push.apply(n,_):n.push(h):e.push({documentOrder:o,tabIndex:m,item:s,isScope:l,content:_})}),e.sort(en).reduce(function(s,o){return o.isScope?s.push.apply(s,o.content):s.push(o.content),s},[]).concat(n)},vn=function(t,n){n=n||{};var e;return n.getShadowRoot?e=mt([t],n.includeContainer,{filter:Ke.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:dn}):e=bt(t,n.includeContainer,Ke.bind(null,n)),hn(e)},fn=function(t,n){n=n||{};var e;return n.getShadowRoot?e=mt([t],n.includeContainer,{filter:qe.bind(null,n),flatten:!0,getShadowRoot:n.getShadowRoot}):e=bt(t,n.includeContainer,qe.bind(null,n)),e},Ue=function(t,n){if(n=n||{},!t)throw new Error("No node provided");return Ce.call(t,Pe)===!1?!1:Ke(n,t)},pn=ft.concat("iframe").join(","),je=function(t,n){if(n=n||{},!t)throw new Error("No node provided");return Ce.call(t,pn)===!1?!1:qe(n,t)};/*!
* focus-trap 7.0.0
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function st(a,t){var n=Object.keys(a);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(a);t&&(e=e.filter(function(s){return Object.getOwnPropertyDescriptor(a,s).enumerable})),n.push.apply(n,e)}return n}function rt(a){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?st(Object(n),!0).forEach(function(e){bn(a,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(n)):st(Object(n)).forEach(function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(n,e))})}return a}function bn(a,t,n){return t in a?Object.defineProperty(a,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):a[t]=n,a}var it=function(){var a=[];return{activateTrap:function(n){if(a.length>0){var e=a[a.length-1];e!==n&&e.pause()}var s=a.indexOf(n);s===-1||a.splice(s,1),a.push(n)},deactivateTrap:function(n){var e=a.indexOf(n);e!==-1&&a.splice(e,1),a.length>0&&a[a.length-1].unpause()}}}(),mn=function(t){return t.tagName&&t.tagName.toLowerCase()==="input"&&typeof t.select=="function"},_n=function(t){return t.key==="Escape"||t.key==="Esc"||t.keyCode===27},gn=function(t){return t.key==="Tab"||t.keyCode===9},lt=function(t){return setTimeout(t,0)},ut=function(t,n){var e=-1;return t.every(function(s,o){return n(s)?(e=o,!1):!0}),e},ze=function(t){for(var n=arguments.length,e=new Array(n>1?n-1:0),s=1;s<n;s++)e[s-1]=arguments[s];return typeof t=="function"?t.apply(void 0,e):t},Ie=function(t){return t.target.shadowRoot&&typeof t.composedPath=="function"?t.composedPath()[0]:t.target},yn=function(t,n){var e=(n==null?void 0:n.document)||document,s=rt({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0},n),o={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0},l,h=function(f,p,A){return f&&f[p]!==void 0?f[p]:s[A||p]},m=function(f){return o.containerGroups.findIndex(function(p){var A=p.container,I=p.tabbableNodes;return A.contains(f)||I.find(function(Z){return Z===f})})},_=function(f){var p=s[f];if(typeof p=="function"){for(var A=arguments.length,I=new Array(A>1?A-1:0),Z=1;Z<A;Z++)I[Z-1]=arguments[Z];p=p.apply(void 0,I)}if(p===!0&&(p=void 0),!p){if(p===void 0||p===!1)return p;throw new Error("`".concat(f,"` was specified but was not a node, or did not return a node"))}var v=p;if(typeof p=="string"&&(v=e.querySelector(p),!v))throw new Error("`".concat(f,"` as selector refers to no known node"));return v},b=function(){var f=_("initialFocus");if(f===!1)return!1;if(f===void 0)if(m(e.activeElement)>=0)f=e.activeElement;else{var p=o.tabbableGroups[0],A=p&&p.firstTabbableNode;f=A||_("fallbackFocus")}if(!f)throw new Error("Your focus-trap needs to have at least one focusable element");return f},M=function(){if(o.containerGroups=o.containers.map(function(f){var p=vn(f,s.tabbableOptions),A=fn(f,s.tabbableOptions);return{container:f,tabbableNodes:p,focusableNodes:A,firstTabbableNode:p.length>0?p[0]:null,lastTabbableNode:p.length>0?p[p.length-1]:null,nextTabbableNode:function(Z){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,j=A.findIndex(function(P){return P===Z});if(!(j<0))return v?A.slice(j+1).find(function(P){return Ue(P,s.tabbableOptions)}):A.slice(0,j).reverse().find(function(P){return Ue(P,s.tabbableOptions)})}}}),o.tabbableGroups=o.containerGroups.filter(function(f){return f.tabbableNodes.length>0}),o.tabbableGroups.length<=0&&!_("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times")},R=function $(f){if(f!==!1&&f!==e.activeElement){if(!f||!f.focus){$(b());return}f.focus({preventScroll:!!s.preventScroll}),o.mostRecentlyFocusedNode=f,mn(f)&&f.select()}},T=function(f){var p=_("setReturnFocus",f);return p||(p===!1?!1:f)},F=function(f){var p=Ie(f);if(!(m(p)>=0)){if(ze(s.clickOutsideDeactivates,f)){l.deactivate({returnFocus:s.returnFocusOnDeactivate&&!je(p,s.tabbableOptions)});return}ze(s.allowOutsideClick,f)||f.preventDefault()}},q=function(f){var p=Ie(f),A=m(p)>=0;A||p instanceof Document?A&&(o.mostRecentlyFocusedNode=p):(f.stopImmediatePropagation(),R(o.mostRecentlyFocusedNode||b()))},L=function(f){var p=Ie(f);M();var A=null;if(o.tabbableGroups.length>0){var I=m(p),Z=I>=0?o.containerGroups[I]:void 0;if(I<0)f.shiftKey?A=o.tabbableGroups[o.tabbableGroups.length-1].lastTabbableNode:A=o.tabbableGroups[0].firstTabbableNode;else if(f.shiftKey){var v=ut(o.tabbableGroups,function(te){var he=te.firstTabbableNode;return p===he});if(v<0&&(Z.container===p||je(p,s.tabbableOptions)&&!Ue(p,s.tabbableOptions)&&!Z.nextTabbableNode(p,!1))&&(v=I),v>=0){var j=v===0?o.tabbableGroups.length-1:v-1,P=o.tabbableGroups[j];A=P.lastTabbableNode}}else{var J=ut(o.tabbableGroups,function(te){var he=te.lastTabbableNode;return p===he});if(J<0&&(Z.container===p||je(p,s.tabbableOptions)&&!Ue(p,s.tabbableOptions)&&!Z.nextTabbableNode(p))&&(J=I),J>=0){var U=J===o.tabbableGroups.length-1?0:J+1,ne=o.tabbableGroups[U];A=ne.firstTabbableNode}}}else A=_("fallbackFocus");A&&(f.preventDefault(),R(A))},D=function(f){if(_n(f)&&ze(s.escapeDeactivates,f)!==!1){f.preventDefault(),l.deactivate();return}if(gn(f)){L(f);return}},N=function(f){var p=Ie(f);m(p)>=0||ze(s.clickOutsideDeactivates,f)||ze(s.allowOutsideClick,f)||(f.preventDefault(),f.stopImmediatePropagation())},w=function(){if(!!o.active)return it.activateTrap(l),o.delayInitialFocusTimer=s.delayInitialFocus?lt(function(){R(b())}):R(b()),e.addEventListener("focusin",q,!0),e.addEventListener("mousedown",F,{capture:!0,passive:!1}),e.addEventListener("touchstart",F,{capture:!0,passive:!1}),e.addEventListener("click",N,{capture:!0,passive:!1}),e.addEventListener("keydown",D,{capture:!0,passive:!1}),l},W=function(){if(!!o.active)return e.removeEventListener("focusin",q,!0),e.removeEventListener("mousedown",F,!0),e.removeEventListener("touchstart",F,!0),e.removeEventListener("click",N,!0),e.removeEventListener("keydown",D,!0),l};return l={get active(){return o.active},get paused(){return o.paused},activate:function(f){if(o.active)return this;var p=h(f,"onActivate"),A=h(f,"onPostActivate"),I=h(f,"checkCanFocusTrap");I||M(),o.active=!0,o.paused=!1,o.nodeFocusedBeforeActivation=e.activeElement,p&&p();var Z=function(){I&&M(),w(),A&&A()};return I?(I(o.containers.concat()).then(Z,Z),this):(Z(),this)},deactivate:function(f){if(!o.active)return this;var p=rt({onDeactivate:s.onDeactivate,onPostDeactivate:s.onPostDeactivate,checkCanReturnFocus:s.checkCanReturnFocus},f);clearTimeout(o.delayInitialFocusTimer),o.delayInitialFocusTimer=void 0,W(),o.active=!1,o.paused=!1,it.deactivateTrap(l);var A=h(p,"onDeactivate"),I=h(p,"onPostDeactivate"),Z=h(p,"checkCanReturnFocus"),v=h(p,"returnFocus","returnFocusOnDeactivate");A&&A();var j=function(){lt(function(){v&&R(T(o.nodeFocusedBeforeActivation)),I&&I()})};return v&&Z?(Z(T(o.nodeFocusedBeforeActivation)).then(j,j),this):(j(),this)},pause:function(){return o.paused||!o.active?this:(o.paused=!0,W(),this)},unpause:function(){return!o.paused||!o.active?this:(o.paused=!1,M(),w(),this)},updateContainerElements:function(f){var p=[].concat(f).filter(Boolean);return o.containers=p.map(function(A){return typeof A=="string"?e.querySelector(A):A}),o.active&&M(),this}},l.updateContainerElements(t),l};const wn=le({name:"UseFocusTrap",props:["as","options"],setup(a,{slots:t}){let n;const e=K(),s=()=>n&&n.activate(),o=()=>n&&n.deactivate();return oe(()=>Bt(e),l=>{!l||(n=yn(l,a.options||{}),s())},{flush:"post"}),Nt(()=>o()),()=>{if(t.default)return Lt(a.as||"div",{ref:e},t.default())}}}),$n=["textContent"],kn={inheritAttrs:!1},Cn=le({...kn,__name:"Modal",props:{heading:{type:String,required:!0},modelValue:{type:Boolean,required:!0}},emits:["update:modelValue"],setup(a,{emit:t}){const n=a,{t:e}=xe();return Qe("Escape",s=>{n.modelValue&&(s.preventDefault(),t("update:modelValue",!1))}),(s,o)=>{const l=Se;return a.modelValue?(C(),re(Et,{key:0,to:"body"},[E(r(wn),{options:{immediate:!0,initialFocus:!1}},{default:ee(()=>[i("dialog",{open:"",onClick:o[2]||(o[2]=h=>s.$emit("update:modelValue",!1))},[i("article",ke(s.$attrs,{onClick:o[1]||(o[1]=se(()=>{},["prevent","stop"]))}),[i("h3",{textContent:H(a.heading)},null,8,$n),Be(s.$slots,"default"),i("footer",{class:S(s.$style.footer)},[Be(s.$slots,"footer-pre"),E(l,{class:"secondary",onClick:o[0]||(o[0]=se(h=>s.$emit("update:modelValue",!1),["prevent"]))},{default:ee(()=>[ae(H(r(e)("main.close")),1)]),_:1}),Be(s.$slots,"footer")],2)],16)])]),_:3})])):ie("v-if",!0)}}}),xn="f_-",Sn={footer:xn},Mn={$style:Sn},yt=ge(Cn,[["__cssModules",Mn]]),wt=Fe(()=>K()),Tn=(a,t)=>{const n=new MouseEvent("click",{view:window,bubbles:!1,cancelable:!0}),e=document.createElement("a");e.setAttribute("download",t),e.setAttribute("href",a),e.setAttribute("target","_blank"),e.dispatchEvent(n)},Fn=async(a,t)=>{const n=new XMLSerializer().serializeToString(a),e=new Blob([n],{type:"image/svg+xml;charset=utf-8"}),s=new Image,o=URL.createObjectURL(e);await new Promise((l,h)=>{s.onload=function(){t.drawImage(s,0,0),URL.revokeObjectURL(o),l()},s.onabort=s.onerror=()=>h(),s.src=o})},Ne={JPG:1,PNG:2},Rn={[Ne.JPG]:{encoding:"image/jpeg",extension:"jpg"},[Ne.PNG]:{encoding:"image/png",extension:"png"}},An=a=>{var e;const t=a.cloneNode(!0),n=window.getComputedStyle(a);return(e=t.querySelector("circle"))==null||e.remove(),t.style.setProperty("--background-color-transparent",n.getPropertyValue("--background-color-transparent")),t.style.color=t.style.fill=n.getPropertyValue("--color"),t.style.stroke="#fff",t.style.fontFamily="Arial",t.style.fontSize="20px",t},$t=Fe(()=>{const a=document.createElement("canvas"),t=a==null?void 0:a.getContext("2d"),n=wt(),e=Y(()=>n.value&&t);return{triggerDownload:async({filename:o,filetype:l,quality:h,width:m,height:_})=>{if(!e.value)return;a.width=m,a.height=_,await Fn(An(n.value),t);const{encoding:b,extension:M}=Rn[l],R=a.toDataURL(b,h);Tn(R,`${o}.${M}`)},isSupported:e}}),zn=Dt({...Ut,xs:480}),be={px:1,"%":2,in:3,mm:4},Bn=(a,t,n)=>{let e=a;switch(t){case be["%"]:e=a*100/n;break;case be.in:e=a/window.devicePixelRatio;break;case be.mm:e=a*25.4/window.devicePixelRatio;break}return+e.toFixed(6)},Nn=(a,t,n)=>{let e=a;switch(t){case be["%"]:e=a/100*n;break;case be.in:e=a*window.devicePixelRatio;break;case be.mm:e=a*window.devicePixelRatio/25.4;break}return+e.toFixed(5)},ct=(a,t,n)=>{const e=K(0),s=K(a.value-1),o=K(0);return oe([a,t],([l,h],[,m])=>{(s.value!==l||h!==m)&&(s.value=l,e.value=Bn(l,h,n.value))},{immediate:!0}),oe(o,l=>{e.value!==l&&(s.value=Nn(l,t.value,n.value))}),oe(e,l=>o.value=l,{immediate:!0}),o},Ln={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},En=i("path",{fill:"currentColor",d:"M24 14h-2V8a6 6 0 0 0-12 0v6H8a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V16a2 2 0 0 0-2-2ZM12 8a4 4 0 0 1 8 0v6h-8Zm12 20H8V16h16Z"},null,-1),Dn=[En];function Un(a,t){return C(),z("svg",Ln,Dn)}const In={name:"carbon-locked",render:Un},On={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Hn=i("path",{fill:"currentColor",d:"M24 14H12V8a4 4 0 0 1 8 0h2a6 6 0 0 0-12 0v6H8a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V16a2 2 0 0 0-2-2Zm0 14H8V16h16Z"},null,-1),Pn=[Hn];function Vn(a,t){return C(),z("svg",On,Pn)}const qn={name:"carbon-unlocked",render:Vn},Gn=["onSubmit"],Wn={class:"flex-grow"},Zn=["aria-invalid"],Xn=["value","textContent"],jn=["aria-invalid"],Yn=["aria-invalid"],Kn=["data-tooltip"],Jn=["value","textContent"],Qn=["aria-invalid"],ea=le({__name:"BoardControlsSvgDownloadModalContent",props:{boardWidth:{type:Number,required:!0},boardHeight:{type:Number,required:!0}},emits:["downloadFinish"],setup(a,{emit:t}){const n=a,{t:e}=xe(),{triggerDownload:s}=$t(),o=De("FA_FILENAME","fast-angle-image"),{boardHeight:l,boardWidth:h}=It(n),m=K(l.value),_=K(h.value),b=De("FA_SIZE_UNIT",be.px),M=K(!0),R=K(h.value/l.value);zn.isGreaterOrEqual("xl")&&oe([h,l],([N,w])=>{_.value=N,m.value=w,R.value=N/w});const T=ct(m,b,l),F=ct(_,b,h);oe([F,T],([N,w])=>{M.value||(R.value=N/w)},{flush:"sync",immediate:!0}),oe(T,()=>{T.value<0&&(T.value=1),M.value&&T.value!==+(F.value/R.value).toFixed(3)&&(F.value=+(T.value*R.value).toFixed(3))},{flush:"sync"}),oe(F,()=>{F.value<0&&(F.value=1),M.value&&F.value!==+(T.value*R.value).toFixed(3)&&(T.value=+(F.value/R.value).toFixed(3))},{flush:"sync"});const q=De("FA_FILETYPE",Ne.PNG),L=De("FA_QUALITY",100);oe(L,()=>{L.value>100&&(L.value=100),L.value<0&&(L.value=0)});const D=async()=>{await s({filename:o.value,filetype:q.value,quality:L.value/100,width:_.value,height:m.value}).catch(()=>{}),t("downloadFinish")};return(N,w)=>{const W=Se;return C(),z("form",{onSubmit:se(D,["prevent"])},[i("div",{class:S(N.$style.name)},[i("label",Wn,[ae(H(r(e)("board.nav.download_image.name_label"))+" ",1),_e(i("input",{"onUpdate:modelValue":w[0]||(w[0]=$=>we(o)?o.value=$:null),type:"text",name:"name",required:"","aria-invalid":!r(o)},null,8,Zn),[[Ae,r(o)]])]),i("label",{class:S(N.$style["label--big"])},[ae(H(r(e)("board.nav.download_image.format_label"))+" ",1),_e(i("select",{"onUpdate:modelValue":w[1]||(w[1]=$=>we(q)?q.value=$:null),required:""},[(C(!0),z(de,null,Te(Object.keys(r(Ne)),$=>(C(),z("option",{key:$,value:r(Ne)[$],textContent:H($)},null,8,Xn))),128))],512),[[nt,r(q)]])],2)],2),i("fieldset",{class:S(N.$style.sizing)},[i("legend",null,[i("small",null,H(r(e)("board.nav.download_image.sizing_label")),1)]),i("label",{class:S(N.$style.label)},[ae(H(r(e)("board.nav.download_image.width_label"))+" ",1),_e(i("input",{"onUpdate:modelValue":w[2]||(w[2]=$=>we(F)?F.value=$:null),min:"1",type:"number",step:"0.000001",name:"width",required:"","aria-invalid":!r(F)||r(F)<1},null,8,jn),[[Ae,r(F),void 0,{number:!0}]])],2),i("label",{class:S(N.$style.label)},[ae(H(r(e)("board.nav.download_image.height_label"))+" ",1),_e(i("input",{"onUpdate:modelValue":w[3]||(w[3]=$=>we(T)?T.value=$:null),min:"1",type:"number",step:"0.000001",name:"height",required:"","aria-invalid":!r(T)||r(T)<1},null,8,Yn),[[Ae,r(T),void 0,{number:!0}]])],2),i("label",null,[ae(" \xA0 "),i("div",{class:S(N.$style["aspect-ratio"]),"data-tooltip":r(e)("board.nav.download_image.keep_aspect_ratio")},[E(W,{"aria-label":r(e)("board.nav.download_image.keep_aspect_ratio"),class:S([N.$style["aspect-ratio-btn"],{[N.$style["aspect-ratio-btn--inactive"]]:!M.value}]),onClick:w[4]||(w[4]=$=>M.value=!M.value)},{default:ee(()=>[M.value?(C(),re(r(In),{key:0})):(C(),re(r(qn),{key:1}))]),_:1},8,["aria-label","class"])],10,Kn)]),i("label",{class:S([N.$style.label,N.$style["label--small"]])},[ae(H(r(e)("board.nav.download_image.unit_label"))+" ",1),_e(i("select",{"onUpdate:modelValue":w[5]||(w[5]=$=>we(b)?b.value=$:null),required:""},[(C(!0),z(de,null,Te(Object.keys(r(be)),$=>(C(),z("option",{key:$,value:r(be)[$],textContent:H($)},null,8,Jn))),128))],512),[[nt,r(b)]])],2)],2),i("label",null,[i("span",{class:S(N.$style.quality)},[ae(H(r(e)("board.nav.download_image.quality_label"))+" ",1),_e(i("input",{"onUpdate:modelValue":w[6]||(w[6]=$=>we(L)?L.value=$:null),type:"number",min:"1",max:"100",class:S(N.$style.quality__input),name:"quality","aria-invalid":!r(L)||r(L)>100||r(L)<1},null,10,Qn),[[Ae,r(L),void 0,{number:!0}]]),ae(" % ")],2),_e(i("input",{"onUpdate:modelValue":w[7]||(w[7]=$=>we(L)?L.value=$:null),type:"range",min:"1",max:"100",name:"quality"},null,512),[[Ae,r(L),void 0,{number:!0}]])])],40,Gn)}}}),ta="f_aa",na="f_ad",aa="f_ae",oa="f_ai",sa="f_aj",ra={label:ta,"label--big":"f_ab","label--small":"f_ac",sizing:na,name:aa,"aspect-ratio":"f_af","aspect-ratio-btn":"f_ag","aspect-ratio-btn--inactive":"f_ah",quality:oa,quality__input:sa},ia={$style:ra},la=ge(ea,[["__cssModules",ia]]),kt=Fe(()=>K()),ua={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},ca=i("path",{fill:"currentColor",d:"M26 24v4H6v-4H4v4a2 2 0 0 0 2 2h20a2 2 0 0 0 2-2v-4zm0-10l-1.41-1.41L17 20.17V2h-2v18.17l-7.59-7.58L6 14l10 10l10-10z"},null,-1),da=[ca];function ha(a,t){return C(),z("svg",ua,da)}const va={name:"carbon-download",render:ha},fa={key:0},pa=le({__name:"BoardControlsSvgDownload",props:{disabled:{type:Boolean,default:!1}},setup(a){const{t}=xe(),{isSupported:n}=$t(),e=kt(),{height:s,width:o}=et(e),l=K(!1),h=K(!1),m="board_svg_download_form";return vt({onEventFired(_){(_.ctrlKey||_.metaKey)&&_.key==="s"&&(_.preventDefault(),l.value=!0)},passive:!1}),(_,b)=>{const M=la,R=Se,T=yt;return r(n)?(C(),z("li",fa,[E(R,{tooltip:`${r(t)("board.nav.download_image.action")} [ctrl + s][\u2318 + s]`,"tooltip-placement":"left",disabled:a.disabled?void 0:!0,onClick:b[3]||(b[3]=F=>l.value=!0),onTouchstart:b[4]||(b[4]=se(F=>l.value=!0,["stop","prevent"]))},{default:ee(()=>[E(r(va)),E(T,{modelValue:l.value,"onUpdate:modelValue":b[2]||(b[2]=F=>l.value=F),heading:r(t)("board.nav.download_image.heading")},{footer:ee(()=>[E(R,{type:"submit",role:"button",form:m,disabled:h.value,"aria-busy":h.value},{default:ee(()=>[ae(H(r(t)("board.nav.download_image.save")),1)]),_:1},8,["disabled","aria-busy"])]),default:ee(()=>[E(M,{id:m,"board-height":r(s),"board-width":r(o),onSubmit:b[0]||(b[0]=F=>h.value=!0),onDownloadFinish:b[1]||(b[1]=F=>(h.value=!1,l.value=!1))},null,8,["board-height","board-width"])]),_:1},8,["modelValue","heading"])]),_:1},8,["tooltip","disabled"])])):ie("v-if",!0)}}}),ba={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},ma=i("path",{fill:"currentColor",d:"M16 2a14 14 0 1 0 14 14A14 14 0 0 0 16 2Zm0 26a12 12 0 1 1 12-12a12 12 0 0 1-12 12Z"},null,-1),_a=i("circle",{cx:"16",cy:"23.5",r:"1.5",fill:"currentColor"},null,-1),ga=i("path",{fill:"currentColor",d:"M17 8h-1.5a4.49 4.49 0 0 0-4.5 4.5v.5h2v-.5a2.5 2.5 0 0 1 2.5-2.5H17a2.5 2.5 0 0 1 0 5h-2v4.5h2V17a4.5 4.5 0 0 0 0-9Z"},null,-1),ya=[ma,_a,ga];function wa(a,t){return C(),z("svg",ba,ya)}const $a={name:"carbon-help",render:wa},ka={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Ca=i("path",{fill:"currentColor",d:"M22.5 4c-2 0-3.9.8-5.3 2.2L16 7.4l-1.1-1.1c-2.9-3-7.7-3-10.6-.1l-.1.1c-3 3-3 7.8 0 10.8L16 29l11.8-11.9c3-3 3-7.8 0-10.8C26.4 4.8 24.5 4 22.5 4z"},null,-1),xa=[Ca];function Sa(a,t){return C(),z("svg",ka,xa)}const dt={name:"carbon-favorite-filled",render:Sa},Ma=i("hr",null,null,-1),Ta=["textContent"],Fa={rol:"grid"},Ra=i("th",{scope:"col",textContent:"Win"},null,-1),Aa=i("th",{scope:"col",textContent:"Mac"},null,-1),za=["textContent"],Ba=i("kbd",null,"ctrl",-1),Na=i("kbd",null,"z",-1),La=i("kbd",null,"\u2318",-1),Ea=i("kbd",null,"z",-1),Da=["textContent"],Ua=i("kbd",null,"ctrl",-1),Ia=i("kbd",null,"shift",-1),Oa=i("kbd",null,"z",-1),Ha=i("kbd",null,"\u2318",-1),Pa=i("kbd",null,"shift",-1),Va=i("kbd",null,"z",-1),qa=["textContent"],Ga=i("kbd",null,"ctrl",-1),Wa=i("kbd",null,"s",-1),Za=i("kbd",null,"\u2318",-1),Xa=i("kbd",null,"s",-1),ja=["textContent"],Ya=i("kbd",null,"f",-1),Ka=[Ya],Ja=i("kbd",null,"f",-1),Qa=[Ja],eo=["textContent"],to=["textContent"],no=["href","data-tooltip","title"],ao={rel:"noreferrer",href:"https://github.com/FRSOURCE/fast-angle",target:"_blank",title:"GitHub"},oo={rel:"noreferrer",href:"https://www.frsource.org/blog/sponsoring",target:"_blank",title:"Sponsoring"},so=i("hr",null,null,-1),ro=["textContent"],io=["textContent"],lo=le({__name:"BoardControlsSvgHelp",setup(a){const{t,tm:n,rt:e}=xe(),s=K(!1);return(o,l)=>{const h=Ot("RouterLink"),m=yt,_=Se;return C(),z("li",null,[E(_,{tooltip:r(t)("board.nav.help.action"),"tooltip-placement":"left",onClick:l[1]||(l[1]=b=>s.value=!0),onTouchstartCapture:l[2]||(l[2]=se(b=>s.value=!0,["prevent","stop"]))},{default:ee(()=>[E(r($a)),E(m,{modelValue:s.value,"onUpdate:modelValue":l[0]||(l[0]=b=>s.value=b),heading:r(t)("board.nav.help.heading"),class:S(o.$style.modal)},{"footer-pre":ee(()=>[i("a",{rel:"noreferrer",href:"https://github.com/FRSOURCE/fast-angle",target:"_blank",title:"GitHub",class:S(o.$style.donate)},[E(r(dt)),i("small",null,H(r(t)("main.donate_us")),1)],2)]),default:ee(()=>[i("ul",null,[ie(" eslint-disable-next-line vue/first-attribute-linebreak "),(C(!0),z(de,null,Te(r(n)("board.nav.help.content"),b=>(C(),z("li",{key:r(e)(b)},H(r(e)(b)),1))),128))]),Ma,i("div",{class:S(o.$style["hide-mobile"])},[i("h4",{textContent:H(r(t)("board.nav.help.key_bindings.heading"))},null,8,Ta),i("table",Fa,[i("thead",null,[i("tr",null,[Ra,Aa,i("th",{scope:"col",textContent:H(r(t)("board.nav.help.key_bindings.description"))},null,8,za)])]),i("tr",null,[i("td",{scope:"col",class:S(o.$style["binding-item-wrapper"])},[i("div",{class:S(o.$style["binding-item"])},[Ba,i("small",{class:S(o.$style["binding-item-plus"])},"+",2),Na],2)],2),i("td",{scope:"col",class:S(o.$style["binding-item-wrapper"])},[i("div",{class:S(o.$style["binding-item"])},[La,i("small",{class:S(o.$style["binding-item-plus"])},"+",2),Ea],2)],2),i("td",{scope:"col",textContent:H(r(t)("board.nav.undo"))},null,8,Da)]),i("tr",null,[i("td",{scope:"col",class:S(o.$style["binding-item-wrapper"])},[i("div",{class:S(o.$style["binding-item"])},[Ua,i("small",{class:S(o.$style["binding-item-plus"])},"+",2),Ia,i("small",{class:S(o.$style["binding-item-plus"])},"+",2),Oa],2)],2),i("td",{scope:"col",class:S(o.$style["binding-item-wrapper"])},[i("div",{class:S(o.$style["binding-item"])},[Ha,i("small",{class:S(o.$style["binding-item-plus"])},"+",2),Pa,i("small",{class:S(o.$style["binding-item-plus"])},"+",2),Va],2)],2),i("td",{scope:"col",textContent:H(r(t)("board.nav.download_image.action"))},null,8,qa)]),i("tr",null,[i("td",{scope:"col",class:S(o.$style["binding-item-wrapper"])},[i("div",{class:S(o.$style["binding-item"])},[Ga,i("small",{class:S(o.$style["binding-item-plus"])},"+",2),Wa],2)],2),i("td",{scope:"col",class:S(o.$style["binding-item-wrapper"])},[i("div",{class:S(o.$style["binding-item"])},[Za,i("small",{class:S(o.$style["binding-item-plus"])},"+",2),Xa],2)],2),i("td",{scope:"col",textContent:H(r(t)("board.nav.redo"))},null,8,ja)]),i("tr",null,[i("td",{scope:"col",class:S(o.$style["binding-item-wrapper"])},[i("div",{class:S(o.$style["binding-item"])},Ka,2)],2),i("td",{scope:"col",class:S(o.$style["binding-item-wrapper"])},[i("div",{class:S(o.$style["binding-item"])},Qa,2)],2),i("td",{scope:"col",textContent:H(r(t)("board.nav.toggle_fullscreen"))},null,8,eo)])])],2),i("h4",{textContent:H(r(t)("board.nav.help.heading_authors"))},null,8,to),i("p",null,[ae(H(r(t)("main.brought_to_you_by"))+" ",1),i("a",{href:`${r(Ht)}/`,"data-tooltip":r(t)("main.visit_our_website"),title:r(t)("main.visit_our_website")},"FRSOURCE",8,no)]),i("p",null,[i("a",ao,[E(r(Pt)),ae(" "+H(r(t)("main.star_us_on_github")),1)])]),i("p",null,[i("a",oo,[E(r(dt)),ae(" "+H(r(t)("main.donate_us")),1)])]),so,i("p",{class:S(o.$style.terms)},[E(h,{to:{name:`lang-${r(at)}-terms`}},{default:ee(()=>[i("small",{textContent:H(r(t)("main.terms_and_conditions"))},null,8,ro)]),_:1},8,["to"]),E(h,{to:{name:`lang-${r(at)}-privacy-policy`}},{default:ee(()=>[i("small",{textContent:H(r(t)("main.privacy_policy"))},null,8,io)]),_:1},8,["to"])],2)]),_:1},8,["modelValue","heading","class"])]),_:1},8,["tooltip"])])}}}),uo="f_4",co="f_9",ho="f__",vo={modal:uo,"hide-mobile":"f_5","binding-item":"f_6","binding-item-plus":"f_7","list-item":"f_8",terms:co,donate:ho},fo={$style:vo},po=ge(lo,[["__cssModules",fo]]),bo={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},mo=i("path",{fill:"currentColor",d:"M28 10v18H10V10h18m0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2Z"},null,-1),_o=i("path",{fill:"currentColor",d:"M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"},null,-1),go=[mo,_o];function yo(a,t){return C(),z("svg",bo,go)}const wo={name:"carbon-copy",render:yo},$o={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},ko=i("path",{fill:"currentColor",d:"m13 24l-9-9l1.414-1.414L13 21.171L26.586 7.586L28 9L13 24z"},null,-1),Co=[ko];function xo(a,t){return C(),z("svg",$o,Co)}const So={name:"carbon-checkmark",render:xo},Mo=le({__name:"BoardSummaryItem",props:{value:{type:Number,default:0}},setup(a){const t=a,n=Y(()=>t.value?t.value.toFixed(3):""),{copy:e,copied:s,isSupported:o}=Vt({source:n});return(l,h)=>{const m=Se;return C(),z("small",{class:S(l.$style.item),onClick:h[0]||(h[0]=()=>r(e)())},[i("div",null,[Be(l.$slots,"default"),i("span",{class:S(l.$style.text)},[r(n)?(C(),z(de,{key:0},[ae(H(r(n))+"\xB0",1)],64)):(C(),z(de,{key:1},[ae("?")],64))],2)]),r(o)&&r(n)?(C(),re(m,{key:0,class:S(l.$style.btn),disabled:r(s)},{default:ee(()=>[r(s)?(C(),re(r(So),{key:0})):(C(),re(r(wo),{key:1}))]),_:1},8,["class","disabled"])):ie("v-if",!0)],2)}}}),To="f_1",Fo="f_2",Ro="f_3",Ao={item:To,text:Fo,btn:Ro},zo={$style:Ao},Bo=ge(Mo,[["__cssModules",zo]]),Ye=4,Ge=Fe(()=>{const a=K([]),t=K([]),n=K(Ye-1);let e=()=>{},s=()=>{};oe(a,D=>{t.value=[...D]},{deep:!0,flush:"sync"});const o=(D,N)=>{++n.value>=Ye&&(n.value=0,a.value=[]);const w=Math.floor(n.value/2);if(n.value%2){const W=a.value[w][0];if(!W)return;a.value[w]=[W,[D,N]]}else a.value[w]=[[D,N]]},l=(D,N)=>{const w=n.value+1>=Ye?0:n.value+1,W=Math.floor(w/2);if(w%2){const $=t.value[W][0];if(!$)return;t.value[W]=[$,[D,N]]}else t.value[W]=[[D,N]]},{undo:h,redo:m,canUndo:_,canRedo:b}=Oe(n),{undo:M,redo:R,canUndo:T,canRedo:F}=Oe(a,{deep:!0}),q=()=>{M(),e(),h()},L=()=>{R(),s(),m()};return vt({onEventFired(D){(D.ctrlKey||D.metaKey)&&D.key==="z"&&(D.shiftKey?L():q())}}),{step:n,lines:t,drawNextPoint:o,predictNextPoint:l,undo:q,redo:L,canUndo:Y(()=>_.value&&T.value),canRedo:Y(()=>b.value&&F.value),registerOnUndo:D=>e=D,registerOnRedo:D=>s=D}}),Ct=a=>{const[[[t,n],[e,s]],[[o,l],[h,m]]]=a,_=e-t,b=s-n,M=h-o,R=m-l,T=Math.atan2(_*R-b*M,_*M+b*R);return Math.abs(T)*(180/Math.PI)},tt=a=>Y(()=>{var t,n;return(((t=a.value[0])==null?void 0:t.length)||0)<2||(((n=a.value[1])==null?void 0:n.length)||0)<2?0:Ct(a.value)}),xt=Fe(()=>{const a=K("");return{imageSrc:a,processFiles:n=>{if(!((n==null?void 0:n[0])instanceof File))return;const e=new FileReader;e.addEventListener("load",s=>{var o;(o=s.target)!=null&&o.result&&(a.value=s.target.result.toString())}),e.readAsDataURL(n[0])}}}),No={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Lo=i("path",{fill:"currentColor",d:"M20 2v2h6.586L18 12.582L19.414 14L28 5.414V12h2V2H20zm-6 17.416L12.592 18L4 26.586V20H2v10h10v-2H5.414L14 19.416z"},null,-1),Eo=[Lo];function Do(a,t){return C(),z("svg",No,Eo)}const Uo={name:"carbon-maximize",render:Do},Io={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Oo=i("path",{fill:"currentColor",d:"M4 18v2h6.586L2 28.582L3.414 30L12 21.414V28h2V18H4zM30 3.416L28.592 2L20 10.586V4h-2v10h10v-2h-6.586L30 3.416z"},null,-1),Ho=[Oo];function Po(a,t){return C(),z("svg",Io,Ho)}const Vo={name:"carbon-minimize",render:Po},qo={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Go=i("path",{fill:"currentColor",d:"M4 20v2h4.586L2 28.586L3.414 30L10 23.414V28h2v-8H4zm15-6a3 3 0 1 0-3-3a3 3 0 0 0 3 3zm0-4a1 1 0 1 1-1 1a1 1 0 0 1 1-1z"},null,-1),Wo=i("path",{fill:"currentColor",d:"M26 4H6a2 2 0 0 0-2 2v10h2V6h20v15.17l-3.59-3.59a2 2 0 0 0-2.82 0L18 19.17L11.83 13l-1.414 1.415L14 18l2.59 2.59a2 2 0 0 0 2.82 0L21 19l5 5v2H16v2h10a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2Z"},null,-1),Zo=[Go,Wo];function Xo(a,t){return C(),z("svg",qo,Zo)}const jo={name:"carbon-image-reference",render:Xo},Yo={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Ko=i("path",{d:"M9 24a3.51 3.51 0 0 0-.88-1.86l9.53-16.58l-1.73-1l-9.57 16.56A3.06 3.06 0 0 0 5.5 21a3.5 3.5 0 1 0 3.15 5H28v-2zm-3.5 2A1.5 1.5 0 1 1 7 24.5A1.5 1.5 0 0 1 5.5 26z",fill:"currentColor"},null,-1),Jo=i("path",{d:"M22 21h2a13 13 0 0 0-5.42-10.56l-1.16 1.62A11 11 0 0 1 22 21z",fill:"currentColor"},null,-1),Qo=[Ko,Jo];function es(a,t){return C(),z("svg",Yo,Qo)}const ts={name:"carbon-angle",render:es},ns={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},as=i("path",{fill:"currentColor",d:"M20 10H7.815l3.587-3.586L10 5l-6 6l6 6l1.402-1.415L7.818 12H20a6 6 0 0 1 0 12h-8v2h8a8 8 0 0 0 0-16Z"},null,-1),os=[as];function ss(a,t){return C(),z("svg",ns,os)}const rs={name:"carbon-undo",render:ss},is={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},ls=i("path",{fill:"currentColor",d:"M12 10h12.185l-3.587-3.586L22 5l6 6l-6 6l-1.402-1.415L24.182 12H12a6 6 0 0 0 0 12h8v2h-8a8 8 0 0 1 0-16Z"},null,-1),us=[ls];function cs(a,t){return C(),z("svg",is,us)}const ds={name:"carbon-redo",render:cs},hs={width:"1.2em",height:"1.2em",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor"},vs=i("path",{d:"M18.3 26a3.5 3.5 0 006.6-3.05 3 3 0 00-.7-.8l7.53-15.58-1.73-1-7.57 15.56a2.7 2.7 0 00-.8-.1 3.5 3.5 0 00-3.33 2.97h-17.973v2Zm3.4.1a1.5 1.5 0 111.5-1.5 1.5 1.5 0 01-1.5 1.5Z"},null,-1),fs=i("path",{d:"M3.75 21.25a13.2 13.2 90 0120.25-10.56l-.87 1.44a11.75 11.75 90 00-17.6 9.13z"},null,-1),ps=[vs,fs];function bs(a,t){return C(),z("svg",hs,ps)}const ms={name:"custom-angle-obtuse",render:bs},_s={key:0},gs=le({__name:"BoardControls",props:{boardRef:{type:Object,default:void 0},info:{type:Array,required:!0}},setup(a){const t=a,{t:n}=xe(),{lines:e}=Ge(),s=tt(e),{toggle:o,isFullscreen:l,isSupported:h}=qt(He(t,"boardRef")),{undo:m,redo:_,canUndo:b,canRedo:M}=Ge(),R=Y(()=>`${n("board.nav.undo")} [ctrl\xA0+\xA0z][\u2318\xA0+\xA0z]`),T=Y(()=>`${n("board.nav.redo")} [ctrl\xA0+\xA0shift\xA0+\xA0z][\u2318\xA0+ shift +\xA0z]`),F=K();oe(s,w=>w===void 0?F.value=void 0:F.value=w>90?180-w:w);const q=Y(()=>F.value?180-F.value:void 0),{processFiles:L}=xt(),{files:D,open:N}=Gt({multiple:!1,accept:"image/*"});return Wt(D,w=>{L(Array.from(w))}),Qe("f",o),(w,W)=>{const $=Bo,f=po,p=Se,A=pa;return C(),z("div",{class:S([w.$style.bar,"pointer-none"])},[i("div",{class:S(["pointer-all bg-bg-transparent-inverse text-inverse whitespace-nowrap",w.$style["info-box"]]),onMousemoveCapture:W[0]||(W[0]=se(()=>{},["prevent","stop"]))},[E($,{value:F.value},{default:ee(()=>[E(r(ts))]),_:1},8,["value"]),E($,{value:r(q)},{default:ee(()=>[E(r(ms))]),_:1},8,["value"])],34),(C(!0),z(de,null,Te(a.info,I=>(C(),z("li",{key:I,class:S(["bg-bg-transparent-inverse text-inverse min-w-0",w.$style["info-box"]])},[i("small",null,H(I),1)],2))),128)),i("nav",{class:S(w.$style.nav)},[i("ul",{class:S(["pointer-all",w.$style.nav__btns])},[E(f),i("li",null,[E(p,{disabled:!r(b),tooltip:r(R),"tooltip-placement":"left",onClick:r(m),onTouchstartCapture:se(r(m),["prevent","stop"])},{default:ee(()=>[E(r(rs))]),_:1},8,["disabled","tooltip","onClick","onTouchstartCapture"])]),i("li",null,[E(p,{disabled:!r(M),tooltip:r(T),"tooltip-placement":"left",onClick:r(_),onTouchstartCapture:se(r(_),["prevent","stop"])},{default:ee(()=>[E(r(ds))]),_:1},8,["disabled","tooltip","onClick","onTouchstartCapture"])]),E(A,{disabled:r(b)},null,8,["disabled"]),i("li",null,[E(p,{tooltip:r(n)("board.nav.upload_file"),"tooltip-placement":"left",onClick:W[1]||(W[1]=I=>r(N)()),onTouchstartCapture:W[2]||(W[2]=se(I=>r(N)(),["prevent","stop"]))},{default:ee(()=>[E(r(jo))]),_:1},8,["tooltip"])]),r(h)?(C(),z("li",_s,[E(p,{tooltip:`${r(n)("board.nav.toggle_fullscreen")} [f]`,"tooltip-placement":"left",onClick:r(o),onTouchstartCapture:se(r(o),["prevent","stop"])},{default:ee(()=>[r(l)?(C(),re(r(Vo),{key:0})):(C(),re(r(Uo),{key:1}))]),_:1},8,["tooltip","onClick","onTouchstartCapture"])])):ie("v-if",!0)],2)],2)],2)}}}),ys="f_t",ws="f_u",$s={bar:ys,nav__btns:ws,"info-box":"f_v"},ks={$style:$s},Cs=ge(gs,[["__cssModules",ks]]),xs=["x1","y1","x2","y2"],Ss=le({__name:"Segment",props:{pointStart:{type:Array,default:void 0},pointStop:{type:Array,default:void 0}},setup(a){return(t,n)=>a.pointStart&&a.pointStop?(C(),z("line",{key:0,x1:a.pointStart[0],y1:a.pointStart[1],x2:a.pointStop[0],y2:a.pointStop[1]},null,8,xs)):ie("v-if",!0)}}),Ms=Zt((a,t,n,e)=>{if(!a||!t||!n||!e)return;a===n&&++a;const s=(t-e)/(a-n),o=e-n*s;return{slope:s,intercept:o}}),Le=a=>Y(()=>Ms(...a.value[0]||[],...a.value[1]||[]));var Me=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ts(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var St={};(function(a){var t=Me&&Me.__extends||function(){var B=function(u,d){return B=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,x){y.__proto__=x}||function(y,x){for(var c in x)Object.prototype.hasOwnProperty.call(x,c)&&(y[c]=x[c])},B(u,d)};return function(u,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");B(u,d);function y(){this.constructor=u}u.prototype=d===null?Object.create(d):(y.prototype=d.prototype,new y)}}(),n=Me&&Me.__classPrivateFieldSet||function(B,u,d){if(!u.has(B))throw new TypeError("attempted to set private field on non-instance");return u.set(B,d),d},e=Me&&Me.__classPrivateFieldGet||function(B,u){if(!u.has(B))throw new TypeError("attempted to get private field on non-instance");return u.get(B)},s,o,l,h,m,_,b,M,R,T,F,q,L,D,N,w,W,$,f,p,A,I;a.__esModule=!0,a.default=void 0;var Z=function(B){var u=131,d=137,y=0;B+="x";for(var x=Math.floor(9007199254740991/d),c=0;c<B.length;c++)y>x&&(y=Math.floor(y/d)),y=y*u+B.charCodeAt(c);return y},v="0123456789abcdef".split(""),j=[-2147483648,8388608,32768,128],P=[24,16,8,0],J=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],U=[],ne=function(){function B(u,d){u===void 0&&(u=!1),d===void 0&&(d=!1),s.set(this,void 0),o.set(this,void 0),l.set(this,void 0),h.set(this,void 0),m.set(this,void 0),_.set(this,void 0),b.set(this,void 0),M.set(this,void 0),R.set(this,void 0),T.set(this,void 0),F.set(this,void 0),q.set(this,void 0),L.set(this,void 0),D.set(this,void 0),N.set(this,void 0),w.set(this,void 0),W.set(this,0),$.set(this,void 0),this.init(u,d)}return B.prototype.init=function(u,d){d?(U[0]=U[16]=U[1]=U[2]=U[3]=U[4]=U[5]=U[6]=U[7]=U[8]=U[9]=U[10]=U[11]=U[12]=U[13]=U[14]=U[15]=0,n(this,o,U)):n(this,o,[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),u?(n(this,_,3238371032),n(this,b,914150663),n(this,M,812702999),n(this,R,4144912697),n(this,T,4290775857),n(this,F,1750603025),n(this,q,1694076839),n(this,L,3204075428)):(n(this,_,1779033703),n(this,b,3144134277),n(this,M,1013904242),n(this,R,2773480762),n(this,T,1359893119),n(this,F,2600822924),n(this,q,528734635),n(this,L,1541459225)),n(this,s,n(this,$,n(this,l,n(this,N,0)))),n(this,h,n(this,D,!1)),n(this,m,!0),n(this,w,u)},B.prototype.update=function(u){if(e(this,h))return this;var d;u instanceof ArrayBuffer?d=new Uint8Array(u):d=u;for(var y=0,x=d.length,c=e(this,o);y<x;){var g=void 0;if(e(this,D)&&(n(this,D,!1),c[0]=e(this,s),c[16]=c[1]=c[2]=c[3]=c[4]=c[5]=c[6]=c[7]=c[8]=c[9]=c[10]=c[11]=c[12]=c[13]=c[14]=c[15]=0),typeof d!="string")for(g=e(this,$);y<x&&g<64;++y)c[g>>2]|=d[y]<<P[g++&3];else for(g=e(this,$);y<x&&g<64;++y){var k=d.charCodeAt(y);k<128?c[g>>2]|=k<<P[g++&3]:k<2048?(c[g>>2]|=(192|k>>6)<<P[g++&3],c[g>>2]|=(128|k&63)<<P[g++&3]):k<55296||k>=57344?(c[g>>2]|=(224|k>>12)<<P[g++&3],c[g>>2]|=(128|k>>6&63)<<P[g++&3],c[g>>2]|=(128|k&63)<<P[g++&3]):(k=65536+((k&1023)<<10|d.charCodeAt(++y)&1023),c[g>>2]|=(240|k>>18)<<P[g++&3],c[g>>2]|=(128|k>>12&63)<<P[g++&3],c[g>>2]|=(128|k>>6&63)<<P[g++&3],c[g>>2]|=(128|k&63)<<P[g++&3])}n(this,W,g),n(this,l,e(this,l)+(g-e(this,$))),g>=64?(n(this,s,c[16]),n(this,$,g-64),this.hash(),n(this,D,!0)):n(this,$,g)}return e(this,l)>4294967295&&(n(this,N,e(this,N)+(e(this,l)/4294967296<<0)),n(this,l,e(this,l)%4294967296)),this},B.prototype.finalize=function(){if(!e(this,h)){n(this,h,!0);var u=e(this,o),d=e(this,W);u[16]=e(this,s),u[d>>2]|=j[d&3],n(this,s,u[16]),d>=56&&(e(this,D)||this.hash(),u[0]=e(this,s),u[16]=u[1]=u[2]=u[3]=u[4]=u[5]=u[6]=u[7]=u[8]=u[9]=u[10]=u[11]=u[12]=u[13]=u[14]=u[15]=0),u[14]=e(this,N)<<3|e(this,l)>>>29,u[15]=e(this,l)<<3,this.hash()}},B.prototype.hash=function(){for(var u=e(this,_),d=e(this,b),y=e(this,M),x=e(this,R),c=e(this,T),g=e(this,F),k=e(this,q),V=e(this,L),G=e(this,o),Q,X,ue,O,ce,me,Re,We,Ze,Ee,ye=16;ye<64;++ye)O=G[ye-15],Q=(O>>>7|O<<25)^(O>>>18|O<<14)^O>>>3,O=G[ye-2],X=(O>>>17|O<<15)^(O>>>19|O<<13)^O>>>10,G[ye]=G[ye-16]+Q+G[ye-7]+X<<0;Ee=d&y;for(var ve=0;ve<64;ve+=4)e(this,m)?(e(this,w)?(Re=300032,O=G[0]-1413257819,V=O-150054599<<0,x=O+24177077<<0):(Re=704751109,O=G[0]-210244248,V=O-1521486534<<0,x=O+143694565<<0),n(this,m,!1)):(Q=(u>>>2|u<<30)^(u>>>13|u<<19)^(u>>>22|u<<10),X=(c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7),Re=u&d,ue=Re^u&y^Ee,me=c&g^~c&k,O=V+X+me+J[ve]+G[ve],ce=Q+ue,V=x+O<<0,x=O+ce<<0),Q=(x>>>2|x<<30)^(x>>>13|x<<19)^(x>>>22|x<<10),X=(V>>>6|V<<26)^(V>>>11|V<<21)^(V>>>25|V<<7),We=x&u,ue=We^x&d^Re,me=V&c^~V&g,O=k+X+me+J[ve+1]+G[ve+1],ce=Q+ue,k=y+O<<0,y=O+ce<<0,Q=(y>>>2|y<<30)^(y>>>13|y<<19)^(y>>>22|y<<10),X=(k>>>6|k<<26)^(k>>>11|k<<21)^(k>>>25|k<<7),Ze=y&x,ue=Ze^y&u^We,me=k&V^~k&c,O=g+X+me+J[ve+2]+G[ve+2],ce=Q+ue,g=d+O<<0,d=O+ce<<0,Q=(d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10),X=(g>>>6|g<<26)^(g>>>11|g<<21)^(g>>>25|g<<7),Ee=d&y,ue=Ee^d&x^Ze,me=g&k^~g&V,O=c+X+me+J[ve+3]+G[ve+3],ce=Q+ue,c=u+O<<0,u=O+ce<<0;n(this,_,e(this,_)+u<<0),n(this,b,e(this,b)+d<<0),n(this,M,e(this,M)+y<<0),n(this,R,e(this,R)+x<<0),n(this,T,e(this,T)+c<<0),n(this,F,e(this,F)+g<<0),n(this,q,e(this,q)+k<<0),n(this,L,e(this,L)+V<<0)},B.prototype.hex=function(){this.finalize();var u=e(this,_),d=e(this,b),y=e(this,M),x=e(this,R),c=e(this,T),g=e(this,F),k=e(this,q),V=e(this,L),G=v[u>>28&15]+v[u>>24&15]+v[u>>20&15]+v[u>>16&15]+v[u>>12&15]+v[u>>8&15]+v[u>>4&15]+v[u&15]+v[d>>28&15]+v[d>>24&15]+v[d>>20&15]+v[d>>16&15]+v[d>>12&15]+v[d>>8&15]+v[d>>4&15]+v[d&15]+v[y>>28&15]+v[y>>24&15]+v[y>>20&15]+v[y>>16&15]+v[y>>12&15]+v[y>>8&15]+v[y>>4&15]+v[y&15]+v[x>>28&15]+v[x>>24&15]+v[x>>20&15]+v[x>>16&15]+v[x>>12&15]+v[x>>8&15]+v[x>>4&15]+v[x&15]+v[c>>28&15]+v[c>>24&15]+v[c>>20&15]+v[c>>16&15]+v[c>>12&15]+v[c>>8&15]+v[c>>4&15]+v[c&15]+v[g>>28&15]+v[g>>24&15]+v[g>>20&15]+v[g>>16&15]+v[g>>12&15]+v[g>>8&15]+v[g>>4&15]+v[g&15]+v[k>>28&15]+v[k>>24&15]+v[k>>20&15]+v[k>>16&15]+v[k>>12&15]+v[k>>8&15]+v[k>>4&15]+v[k&15];return e(this,w)||(G+=v[V>>28&15]+v[V>>24&15]+v[V>>20&15]+v[V>>16&15]+v[V>>12&15]+v[V>>8&15]+v[V>>4&15]+v[V&15]),G},B.prototype.toString=function(){return this.hex()},B.prototype.digest=function(){this.finalize();var u=e(this,_),d=e(this,b),y=e(this,M),x=e(this,R),c=e(this,T),g=e(this,F),k=e(this,q),V=e(this,L),G=[u>>24&255,u>>16&255,u>>8&255,u&255,d>>24&255,d>>16&255,d>>8&255,d&255,y>>24&255,y>>16&255,y>>8&255,y&255,x>>24&255,x>>16&255,x>>8&255,x&255,c>>24&255,c>>16&255,c>>8&255,c&255,g>>24&255,g>>16&255,g>>8&255,g&255,k>>24&255,k>>16&255,k>>8&255,k&255];return e(this,w)||G.push(V>>24&255,V>>16&255,V>>8&255,V&255),G},B.prototype.array=function(){return this.digest()},B.prototype.arrayBuffer=function(){this.finalize();var u=new ArrayBuffer(e(this,w)?28:32),d=new DataView(u);return d.setUint32(0,e(this,_)),d.setUint32(4,e(this,b)),d.setUint32(8,e(this,M)),d.setUint32(12,e(this,R)),d.setUint32(16,e(this,T)),d.setUint32(20,e(this,F)),d.setUint32(24,e(this,q)),e(this,w)||d.setUint32(28,e(this,L)),u},B}();s=new WeakMap,o=new WeakMap,l=new WeakMap,h=new WeakMap,m=new WeakMap,_=new WeakMap,b=new WeakMap,M=new WeakMap,R=new WeakMap,T=new WeakMap,F=new WeakMap,q=new WeakMap,L=new WeakMap,D=new WeakMap,N=new WeakMap,w=new WeakMap,W=new WeakMap,$=new WeakMap,function(B){t(u,B);function u(d,y,x){y===void 0&&(y=!1),x===void 0&&(x=!1);var c=B.call(this,y,x)||this;f.set(c,void 0),p.set(c,void 0),A.set(c,void 0),I.set(c,void 0);var g;if(typeof d=="string"){for(var k=[],V=d.length,G=0,Q=0;Q<V;++Q){var X=d.charCodeAt(Q);X<128?k[G++]=X:X<2048?(k[G++]=192|X>>6,k[G++]=128|X&63):X<55296||X>=57344?(k[G++]=224|X>>12,k[G++]=128|X>>6&63,k[G++]=128|X&63):(X=65536+((X&1023)<<10|d.charCodeAt(++Q)&1023),k[G++]=240|X>>18,k[G++]=128|X>>12&63,k[G++]=128|X>>6&63,k[G++]=128|X&63)}g=k}else d instanceof ArrayBuffer?g=new Uint8Array(d):g=d;g.length>64&&(g=new ne(y,!0).update(g).array());for(var ue=[],O=[],Q=0;Q<64;++Q){var ce=g[Q]||0;ue[Q]=92^ce,O[Q]=54^ce}return c.update(O),n(c,A,ue),n(c,f,!0),n(c,p,y),n(c,I,x),c}return u.prototype.finalize=function(){if(B.prototype.finalize.call(this),e(this,f)){n(this,f,!1);var d=this.array();B.prototype.init.call(this,e(this,p),e(this,I)),this.update(e(this,A)),this.update(d),B.prototype.finalize.call(this)}},u}(ne),f=new WeakMap,p=new WeakMap,A=new WeakMap,I=new WeakMap;function te(B){var u=new ne;return u.update(B),parseInt(u.hex().substring(0,8),16)}var he=function(B){var u="#";return B.forEach(function(d){d<16&&(u+=0),u+=d.toString(16)}),u},fe=function(B,u,d){B/=360;var y=d<.5?d*(1+u):d+u-d*u,x=2*d-y;return[B+1/3,B,B-1/3].map(function(c){return c<0&&c++,c>1&&c--,c<1/6?c=x+(y-x)*6*c:c<.5?c=y:c<2/3?c=x+(y-x)*6*(2/3-c):c=x,Math.round(c*255)})},zt=function(){function B(u){u===void 0&&(u={});var d=[u.lightness,u.saturation].map(function(c){return c=c!==void 0?c:[.35,.5,.65],Array.isArray(c)?c.concat():[c]}),y=d[0],x=d[1];this.L=y,this.S=x,typeof u.hue=="number"&&(u.hue={min:u.hue,max:u.hue}),typeof u.hue=="object"&&!Array.isArray(u.hue)&&(u.hue=[u.hue]),typeof u.hue>"u"&&(u.hue=[]),this.hueRanges=u.hue.map(function(c){return{min:typeof c.min>"u"?0:c.min,max:typeof c.max>"u"?360:c.max}}),this.hash=te,typeof u.hash=="function"&&(this.hash=u.hash),u.hash==="bkdr"&&(this.hash=Z)}return B.prototype.hsl=function(u){var d,y,x,c=this.hash(u),g=727;if(this.hueRanges.length){var k=this.hueRanges[c%this.hueRanges.length];d=c/this.hueRanges.length%g*(k.max-k.min)/g+k.min}else d=c%359;return c=Math.ceil(c/360),y=this.S[c%this.S.length],c=Math.ceil(c/this.S.length),x=this.L[c%this.L.length],[d,y,x]},B.prototype.rgb=function(u){var d=this.hsl(u);return fe.apply(this,d)},B.prototype.hex=function(u){var d=this.rgb(u);return he(d)},B}();a.default=zt})(St);const Fs=Ts(St),Rs=Array.from({length:550},(a,t)=>(t+401)/1e3),As=Array.from({length:551},(a,t)=>(t+50)/1e3),Je=a=>Y(()=>{const t=JSON.stringify(a.value),n=Xe.value?Rs:As,[e,s,o]=new Fs({lightness:n}).hsl(t);return`hsl(${[e,`${Xe.value&&o<.3||!Xe.value&&o>.7?Math.min(s+.4,1)*100:s*100}%`,`${o*100}%`].join(",")})`}),Mt=le({__name:"Line",props:{points:{type:Array,default:()=>[]},pathWidth:{type:Number,default:1},svgSize:{type:Object,default:void 0}},setup(a){const t=a,n=Le(He(t,"points")),e=Je(He(t,"points")),s=Y(()=>{var m,_,b,M;const{svgSize:o}=t;if(!o||!n.value||((m=t.points[0])==null?void 0:m[0])===((_=t.points[1])==null?void 0:_[0])&&((b=t.points[0])==null?void 0:b[1])===((M=t.points[1])==null?void 0:M[1]))return;const{slope:l,intercept:h}=n.value;return[[0,h],[o.width,l*o.width+h]]});return(o,l)=>{const h=Ss;return C(),z(de,null,[r(s)?(C(),z(de,{key:0},[E(h,ke(o.$attrs,{"stroke-width":"4",stroke:"var(--background-color-transparent)","point-start":r(s)[0],"point-stop":r(s)[1],"stroke-dasharray":"5 10","stroke-linecap":"round",opacity:".2"}),null,16,["point-start","point-stop"]),E(h,ke({"stroke-width":"2",stroke:r(e)},o.$attrs,{"point-start":r(s)[0],"point-stop":r(s)[1],"stroke-dasharray":"5 10","stroke-linecap":"round"}),null,16,["stroke","point-start","point-stop"])],64)):ie("v-if",!0),E(h,ke(o.$attrs,{"stroke-width":a.pathWidth+2,stroke:"var(--background-color-transparent)","point-start":a.points[0],"point-stop":a.points[1],"stroke-linecap":"round",opacity:".3"}),null,16,["stroke-width","point-start","point-stop"]),E(h,ke({stroke:r(e)},o.$attrs,{"stroke-linecap":"round","point-start":a.points[0],"point-stop":a.points[1]}),null,16,["stroke","point-start","point-stop"])],64)}}});var pe=(a=>(a[a.UP=0]="UP",a[a.DOWN=1]="DOWN",a[a.LEFT=2]="LEFT",a[a.RIGHT=3]="RIGHT",a))(pe||{});const $e={x:30,y:4.5},Tt=Fe(()=>{const a=K(!1);return{outOfBoundLabels:a,setOutBoundLabels(t,n){const e=t.find(({x:l,y:h})=>l<$e.x||l>n.width-$e.x||h<$e.y+3||h>n.height-$e.y);if(!e)return a.value=!1;const{x:s,y:o}=e;return s<$e.x?a.value={direction:2,y:o}:s>n.width-$e.x?a.value={direction:3,y:o}:o<$e.y+3?a.value={direction:0,x:s}:a.value={direction:1,x:s}}}}),Ft=(a,t)=>Y(()=>{if(!a.value||!t.value)return;const{slope:n,intercept:e}=a.value,{slope:s,intercept:o}=t.value;let l;return n===s?l=o-e:l=(e-o)/(s-n),{x:l,y:n*l+e}}),Rt=(a,t,n,e)=>Y(()=>{if(!t.value||!n.value||!e.value||!a.value)return;const s=n.value,o=e.value;let l=Math.tan((Math.atan(s.slope)+Math.atan(o.slope))/2),h=-1/l,m=s.slope*t.value.x+s.intercept-l*t.value.x,_=s.slope*t.value.x+s.intercept-h*t.value.x;const b=Ct([[[0,s.intercept],[t.value.x,s.slope*t.value.x+s.intercept]],[[0,m],[t.value.x,l*t.value.x+m]]])*2;return(b-1>a.value||b+1<a.value)&&([l,m,h,_]=[h,_,l,m]),{acute:{slope:l,intercept:m},obtuse:{slope:h,intercept:_}}}),At=(a,t,n)=>Y(()=>{if(!t.value||!n.value||!a.value)return[];const{acute:{slope:e,intercept:s},obtuse:{slope:o,intercept:l}}=n.value,h=70,m=a.value,_=Math.cos(Math.atan(e))*(h+(90-m)*.4)+t.value.x,b=180-m,M=-Math.cos(Math.atan(o))*(h+(90-b)*.4)+t.value.x;return[{x:_,y:e*_+s,value:m},{x:M,y:o*M+l,value:b}]}),ht=(a,t)=>Y(()=>{if(!t.value||!a.value)return;const{slope:n,intercept:e}=a.value,{x1:s,x2:o}=t.value;return[[s,n*s+e],[o,n*o+e]]}),zs={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Bs=i("path",{fill:"currentColor",d:"M24 19h-3v-3h-2v3h-3v2h3v3h2v-3h3v-2z"},null,-1),Ns=i("path",{fill:"currentColor",d:"m31 29.586l-4.689-4.688a8.028 8.028 0 1 0-1.414 1.414L29.586 31zM20 26a6 6 0 1 1 6-6a6.007 6.007 0 0 1-6 6zM4 8H2V4a2.002 2.002 0 0 1 2-2h4v2H4zm22 0h-2V4h-4V2h4a2.002 2.002 0 0 1 2 2zM12 2h4v2h-4zM8 26H4a2.002 2.002 0 0 1-2-2v-4h2v4h4zM2 12h2v4H2z"},null,-1),Ls=[Bs,Ns];function Es(a,t){return C(),z("svg",zs,Ls)}const Ds={name:"carbon-zoom-in-area",render:Es},Us={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Is=i("path",{fill:"currentColor",d:"M16 19h8v2h-8z"},null,-1),Os=i("path",{fill:"currentColor",d:"m31 29.586l-4.689-4.688a8.028 8.028 0 1 0-1.414 1.414L29.586 31zM20 26a6 6 0 1 1 6-6a6.007 6.007 0 0 1-6 6zM4 8H2V4a2.002 2.002 0 0 1 2-2h4v2H4zm22 0h-2V4h-4V2h4a2.002 2.002 0 0 1 2 2zM12 2h4v2h-4zM8 26H4a2.002 2.002 0 0 1-2-2v-4h2v4h4zM2 12h2v4H2z"},null,-1),Hs=[Is,Os];function Ps(a,t){return C(),z("svg",Us,Hs)}const Vs={name:"carbon-zoom-out-area",render:Ps},qs=["viewBox"],Gs=["transform"],Ws=["x","y"],Zs=le({__name:"BoardResult",props:{boardRef:{type:Object,default:void 0}},setup(a){const t=a,{t:n}=xe(),e=K(!1),s=()=>{e.value&&(e.value=!1)},o=K();Xt(o,s),Qe("Escape",s);const{height:l,width:h}=et(He(t,"boardRef")),m=Y(()=>({width:300,height:300*l.value/h.value})),{outOfBoundLabels:_}=Tt(),b=Y(()=>{const j=e.value?260:50;return{width:j,height:j}}),M=Y(()=>({minY:b.value.height,maxY:l.value-b.value.height,minX:b.value.width,maxX:h.value-b.value.width})),R=Y(()=>{const{minX:j,maxX:P,minY:J,maxY:U}=M.value,ne=fe=>fe>U?U:fe<J?J:fe,te=fe=>fe>P?P:fe<j?j:fe;if(!_.value)return;const he={height:`${b.value.height}px`,width:`${b.value.width}px`};switch(_.value.direction){case pe.DOWN:return{...he,bottom:"1rem",left:`${te(_.value.x)}px`,transform:"translateX(-50%)"};case pe.UP:return{...he,top:"1rem",left:`${te(_.value.x)}px`,transform:"translateX(-50%)"};case pe.LEFT:return{...he,top:`${ne(_.value.y)}px`,left:"1rem",transform:"translateY(-50%)"};case pe.RIGHT:return{...he,top:`${ne(_.value.y)}px`,right:"1rem",transform:"translateY(-50%)"}}}),{lines:T}=Ge(),F=tt(T),q=Y(()=>T.value[0]||[]),L=Y(()=>T.value[1]||[]),D=Le(q),N=Le(L),w=Ft(D,N),W=Rt(F,w,D,N),$=At(F,w,W),f=Y(()=>w.value&&{x1:w.value.x-m.value.width,x2:w.value.x+m.value.width}),p=ht(D,f),A=ht(N,f),I=Je(q),Z=Je(L),v={[pe.UP]:"bottom",[pe.DOWN]:void 0,[pe.LEFT]:"right",[pe.RIGHT]:"left"};return(j,P)=>{const J=Se,U=Mt;return r(D)&&r(N)&&r(w)&&r(_)?(C(),z("section",{key:0,ref_key:"el",ref:o,class:S(["bg-bg-transparent-inverse text-inverse",[j.$style.result,{[j.$style["result--open"]]:e.value}]]),style:Yt(r(R)),onMousemove:P[0]||(P[0]=se(()=>{},["prevent","stop"])),onClick:P[1]||(P[1]=ne=>e.value=!e.value)},[E(J,{class:S(j.$style.btn),tooltip:e.value?r(n)("board.result.zoom_out"):r(n)("board.result.zoom_in"),"tooltip-placement":e.value?"left":r(v)[r(_).direction]},{default:ee(()=>[(C(),re(jt(e.value?r(Vs):r(Ds))))]),_:1},8,["class","tooltip","tooltip-placement"]),(C(),z("svg",{viewBox:`${r(m).width*.1} ${r(m).height*.1} ${r(m).width*.8} ${r(m).height*.8}`,class:S(j.$style.svg)},[i("g",{transform:`translate(${-r(w).x+r(m).width*.5} ${-r(w).y+r(m).height*.5})`},[r(p)?(C(),re(U,ke({key:0,"stroke-width":"4","stroke-linecap":"round"},j.$attrs,{stroke:r(I),"path-width":4,points:r(p),"stroke-dasharray":"5 10",filter:"saturate(2.5)"}),null,16,["stroke","points"])):ie("v-if",!0),r(A)?(C(),re(U,ke({key:1,"stroke-width":"4","stroke-linecap":"round"},j.$attrs,{stroke:r(Z),"path-width":4,points:r(A),"stroke-dasharray":"5 10",filter:"saturate(2.5)"}),null,16,["stroke","points"])):ie("v-if",!0),(C(!0),z(de,null,Te(r($),ne=>(C(),z("text",{key:`${ne.x}|${ne.y}`,x:ne.x,y:ne.y,"text-anchor":"middle","dominant-baseline":"middle",stroke:"transparent"},H(ne.value.toFixed(3))+"\xB0",9,Ws))),128))],8,Gs)],10,qs))],38)):ie("v-if",!0)}}}),Xs="f_w",js="f_y",Ys="f_z",Ks={result:Xs,"result--open":"f_x",svg:js,btn:Ys},Js={$style:Ks},Qs=ge(Zs,[["__cssModules",Js]]),er=["viewBox","onTouchend","onMouseup"],tr=["cx","cy"],nr=["x","y"],ar=["x","y"],or=le({__name:"BoardSvg",props:{width:{type:Number,default:0},height:{type:Number,default:0}},emits:["pressed"],setup(a,{emit:t}){const n=a,e=5,s=wt(),o=K(!1),{elementX:l,elementY:h}=Kt(s,{handleOutside:!1}),{undo:m,redo:_}=Oe(l),{undo:b,redo:M}=Oe(h),R=Y(()=>({width:n.width,height:n.height})),{lines:T,predictNextPoint:F,drawNextPoint:q,step:L,registerOnRedo:D,registerOnUndo:N}=Ge();D(()=>{_(),M()}),N(()=>{m(),b()}),oe([l,h],([J,U])=>{L.value===2&&F(J,U)});const w=tt(T),W=Y(()=>T.value[0]||[]),$=Y(()=>T.value[1]||[]),f=Le(W),p=Le($),A=Ft(f,p),I=Rt(w,A,f,p),Z=At(w,A,I),{outOfBoundLabels:v,setOutBoundLabels:j}=Tt();oe([Z,R],([J,U])=>{j(J,U)});const P=()=>{q(l.value,h.value),t("pressed")};return(J,U)=>{const ne=Mt;return C(),z("svg",{ref_key:"svgRef",ref:s,viewBox:`0 0 ${r(R).width} ${r(R).height}`,"stroke-width":e,onTouchend:se(P,["prevent"]),onMouseup:se(P,["prevent"]),onMousedownOnce:U[0]||(U[0]=te=>o.value=!0),onMousemovePassiveOnce:U[1]||(U[1]=te=>o.value=!0),onTouchstartPassiveOnce:U[2]||(U[2]=te=>o.value=!0)},[Be(J.$slots,"default"),r(L)%2?_e((C(),z("circle",{key:0,cx:`${r(l)}px`,cy:`${r(h)}px`,r:e,"stroke-width":1},null,8,tr)),[[Jt,o.value]]):(C(),re(ne,{key:1,points:[r(T)[Math.floor(r(L)/2)][0],[r(l),r(h)]],"svg-size":r(R),"path-width":e},null,8,["points","svg-size"])),E(ne,{points:r(T)[0],"svg-size":r(R),"path-width":e},null,8,["points","svg-size"]),E(ne,{points:r(T)[1],"svg-size":r(R),"path-width":e},null,8,["points","svg-size"]),r(v)?ie("v-if",!0):(C(!0),z(de,{key:2},Te(r(Z),te=>(C(),z(de,{key:`${te.x}|${te.y}`},[i("text",{x:te.x,y:te.y,"text-anchor":"middle","dominant-baseline":"middle",stroke:"var(--background-color-transparent)","stroke-width":"5"},H(te.value.toFixed(3))+"\xB0",9,nr),i("text",{x:te.x,y:te.y,"text-anchor":"middle","dominant-baseline":"middle",stroke:"transparent"},H(te.value.toFixed(3))+"\xB0",9,ar)],64))),128))],40,er)}}}),sr=["href"],rr=le({__name:"Board",setup(a){const{t}=xe(),n=K(!0),e=kt(),{height:s,width:o}=et(e),{imageSrc:l,processFiles:h}=xt(),{isOverDropZone:m}=Qt(e,h),_=Y(()=>m.value?[t("board.drop_file_here")]:[]);return(b,M)=>{const R=or,T=Qs,F=Cs;return C(),z("div",{ref_key:"boardRef",ref:e,class:S(b.$style.board)},[E(R,{class:S(b.$style.board__svg),width:r(o),height:r(s),onPressed:M[0]||(M[0]=q=>n.value=!1)},{default:ee(()=>[r(l)?(C(),z("image",{key:0,href:r(l),height:"100%",width:"100%"},null,8,sr)):ie("v-if",!0)]),_:1},8,["class","width","height"]),n.value&&!r(l)?(C(),z("div",{key:0,class:S(b.$style.board__hint)},H(r(t)("board.click_this_button_or_drop")),3)):ie("v-if",!0),E(T,{"board-ref":r(e)},null,8,["board-ref"]),E(F,{class:S(b.$style.board__nav),"board-ref":r(e),info:r(_),"onUpdate:files":r(h)},null,8,["class","board-ref","info","onUpdate:files"])],2)}}}),ir="f_f",lr="f_g",ur="f_h",cr="f_i",dr={board:ir,board__svg:lr,board__nav:ur,board__hint:cr},hr={$style:dr},vr=ge(rr,[["__cssModules",hr]]),fr={};function pr(a,t){const n=vr;return C(),re(n,{ref:"boardRef",class:"flex-grow"},null,512)}const mr=ge(fr,[["render",pr]]);export{mr as default};
