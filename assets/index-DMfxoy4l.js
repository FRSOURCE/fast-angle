import{_ as Wt,I as Xn}from"./Button-Aw2qkwQB.js";import{d as ot,I as z,A as Q,J as ze,K as Zn,L as Jn,u as Kt,c as rt,D as ft,o as $,T as Qn,b as A,g as l,w as W,a as c,M as Vt,p as nt,C as ae,t as U,n as T,f as et,N as jt,i as O,m as X,e as M,O as ts,P as es,Q as fe,R as yn,q as Dt,S as Qt,s as $t,v as qe,F as ht,x as Zt,U as Le,V as Be,r as ns,h as ss,l as Xe,W as as,X as ye,Y as is,Z as rs,$ as os,a0 as ls,a1 as us,a2 as cs,a3 as ds,a4 as fs,a5 as wn,a6 as hs,z as De,a7 as Ze,a8 as vs,a9 as ps,aa as me,ab as ms,ac as bs,ad as gs,ae as ys}from"./app-CAEG9Q2T.js";import{_ as Et}from"./_plugin-vue_export-helper-DlAUqK2U.js";/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var _n=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],we=_n.join(","),xn=typeof Element>"u",Ht=xn?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,_e=!xn&&Element.prototype.getRootNode?function(e){var t;return e==null||(t=e.getRootNode)===null||t===void 0?void 0:t.call(e)}:function(e){return e==null?void 0:e.ownerDocument},xe=function e(t,n){var s;n===void 0&&(n=!0);var a=t==null||(s=t.getAttribute)===null||s===void 0?void 0:s.call(t,"inert"),r=a===""||a==="true",i=r||n&&t&&e(t.parentNode);return i},ws=function(t){var n,s=t==null||(n=t.getAttribute)===null||n===void 0?void 0:n.call(t,"contenteditable");return s===""||s==="true"},Sn=function(t,n,s){if(xe(t))return[];var a=Array.prototype.slice.apply(t.querySelectorAll(we));return n&&Ht.call(t,we)&&a.unshift(t),a=a.filter(s),a},kn=function e(t,n,s){for(var a=[],r=Array.from(t);r.length;){var i=r.shift();if(!xe(i,!1))if(i.tagName==="SLOT"){var o=i.assignedElements(),u=o.length?o:i.children,d=e(u,!0,s);s.flatten?a.push.apply(a,d):a.push({scopeParent:i,candidates:d})}else{var m=Ht.call(i,we);m&&s.filter(i)&&(n||!t.includes(i))&&a.push(i);var b=i.shadowRoot||typeof s.getShadowRoot=="function"&&s.getShadowRoot(i),p=!xe(b,!1)&&(!s.shadowRootFilter||s.shadowRootFilter(i));if(b&&p){var v=e(b===!0?i.children:b.children,!0,s);s.flatten?a.push.apply(a,v):a.push({scopeParent:i,candidates:v})}else r.unshift.apply(r,i.children)}}return a},$n=function(t){return!isNaN(parseInt(t.getAttribute("tabindex"),10))},Ut=function(t){if(!t)throw new Error("No node provided");return t.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName)||ws(t))&&!$n(t)?0:t.tabIndex},_s=function(t,n){var s=Ut(t);return s<0&&n&&!$n(t)?0:s},xs=function(t,n){return t.tabIndex===n.tabIndex?t.documentOrder-n.documentOrder:t.tabIndex-n.tabIndex},Tn=function(t){return t.tagName==="INPUT"},Ss=function(t){return Tn(t)&&t.type==="hidden"},ks=function(t){var n=t.tagName==="DETAILS"&&Array.prototype.slice.apply(t.children).some(function(s){return s.tagName==="SUMMARY"});return n},$s=function(t,n){for(var s=0;s<t.length;s++)if(t[s].checked&&t[s].form===n)return t[s]},Ts=function(t){if(!t.name)return!0;var n=t.form||_e(t),s=function(o){return n.querySelectorAll('input[type="radio"][name="'+o+'"]')},a;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")a=s(window.CSS.escape(t.name));else try{a=s(t.name)}catch(i){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",i.message),!1}var r=$s(a,t.form);return!r||r===t},Cs=function(t){return Tn(t)&&t.type==="radio"},Ms=function(t){return Cs(t)&&!Ts(t)},Es=function(t){var n,s=t&&_e(t),a=(n=s)===null||n===void 0?void 0:n.host,r=!1;if(s&&s!==t){var i,o,u;for(r=!!((i=a)!==null&&i!==void 0&&(o=i.ownerDocument)!==null&&o!==void 0&&o.contains(a)||t!=null&&(u=t.ownerDocument)!==null&&u!==void 0&&u.contains(t));!r&&a;){var d,m,b;s=_e(a),a=(d=s)===null||d===void 0?void 0:d.host,r=!!((m=a)!==null&&m!==void 0&&(b=m.ownerDocument)!==null&&b!==void 0&&b.contains(a))}}return r},Je=function(t){var n=t.getBoundingClientRect(),s=n.width,a=n.height;return s===0&&a===0},Is=function(t,n){var s=n.displayCheck,a=n.getShadowRoot;if(getComputedStyle(t).visibility==="hidden")return!0;var r=Ht.call(t,"details>summary:first-of-type"),i=r?t.parentElement:t;if(Ht.call(i,"details:not([open]) *"))return!0;if(!s||s==="full"||s==="legacy-full"){if(typeof a=="function"){for(var o=t;t;){var u=t.parentElement,d=_e(t);if(u&&!u.shadowRoot&&a(u)===!0)return Je(t);t.assignedSlot?t=t.assignedSlot:!u&&d!==t.ownerDocument?t=d.host:t=u}t=o}if(Es(t))return!t.getClientRects().length;if(s!=="legacy-full")return!0}else if(s==="non-zero-area")return Je(t);return!1},Ds=function(t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))for(var n=t.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var s=0;s<n.children.length;s++){var a=n.children.item(s);if(a.tagName==="LEGEND")return Ht.call(n,"fieldset[disabled] *")?!0:!a.contains(t)}return!0}n=n.parentElement}return!1},Se=function(t,n){return!(n.disabled||xe(n)||Ss(n)||Is(n,t)||ks(n)||Ds(n))},Pe=function(t,n){return!(Ms(n)||Ut(n)<0||!Se(t,n))},Fs=function(t){var n=parseInt(t.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},As=function e(t){var n=[],s=[];return t.forEach(function(a,r){var i=!!a.scopeParent,o=i?a.scopeParent:a,u=_s(o,i),d=i?e(a.candidates):o;u===0?i?n.push.apply(n,d):n.push(o):s.push({documentOrder:r,tabIndex:u,item:a,isScope:i,content:d})}),s.sort(xs).reduce(function(a,r){return r.isScope?a.push.apply(a,r.content):a.push(r.content),a},[]).concat(n)},Ps=function(t,n){n=n||{};var s;return n.getShadowRoot?s=kn([t],n.includeContainer,{filter:Pe.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:Fs}):s=Sn(t,n.includeContainer,Pe.bind(null,n)),As(s)},Ns=function(t,n){n=n||{};var s;return n.getShadowRoot?s=kn([t],n.includeContainer,{filter:Se.bind(null,n),flatten:!0,getShadowRoot:n.getShadowRoot}):s=Sn(t,n.includeContainer,Se.bind(null,n)),s},Yt=function(t,n){if(n=n||{},!t)throw new Error("No node provided");return Ht.call(t,we)===!1?!1:Pe(n,t)},Rs=_n.concat("iframe").join(","),Fe=function(t,n){if(n=n||{},!t)throw new Error("No node provided");return Ht.call(t,Rs)===!1?!1:Se(n,t)};/*!
* focus-trap 7.6.5
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function Ne(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=Array(t);n<t;n++)s[n]=e[n];return s}function Os(e){if(Array.isArray(e))return Ne(e)}function zs(e,t,n){return(t=Vs(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ls(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Bs(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function tn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Qe(Object(n),!0).forEach(function(s){zs(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qe(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Gs(e){return Os(e)||Ls(e)||Hs(e)||Bs()}function Us(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vs(e){var t=Us(e,"string");return typeof t=="symbol"?t:t+""}function Hs(e,t){if(e){if(typeof e=="string")return Ne(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ne(e,t):void 0}}var en={activateTrap:function(t,n){if(t.length>0){var s=t[t.length-1];s!==n&&s._setPausedState(!0)}var a=t.indexOf(n);a===-1||t.splice(a,1),t.push(n)},deactivateTrap:function(t,n){var s=t.indexOf(n);s!==-1&&t.splice(s,1),t.length>0&&!t[t.length-1]._isManuallyPaused()&&t[t.length-1]._setPausedState(!1)}},Ws=function(t){return t.tagName&&t.tagName.toLowerCase()==="input"&&typeof t.select=="function"},Ks=function(t){return(t==null?void 0:t.key)==="Escape"||(t==null?void 0:t.key)==="Esc"||(t==null?void 0:t.keyCode)===27},ie=function(t){return(t==null?void 0:t.key)==="Tab"||(t==null?void 0:t.keyCode)===9},js=function(t){return ie(t)&&!t.shiftKey},Ys=function(t){return ie(t)&&t.shiftKey},nn=function(t){return setTimeout(t,0)},te=function(t){for(var n=arguments.length,s=new Array(n>1?n-1:0),a=1;a<n;a++)s[a-1]=arguments[a];return typeof t=="function"?t.apply(void 0,s):t},he=function(t){return t.target.shadowRoot&&typeof t.composedPath=="function"?t.composedPath()[0]:t.target},qs=[],Xs=function(t,n){var s=(n==null?void 0:n.document)||document,a=(n==null?void 0:n.trapStack)||qs,r=tn({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:js,isKeyBackward:Ys},n),i={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,manuallyPaused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},o,u=function(f,h,k){return f&&f[h]!==void 0?f[h]:r[k||h]},d=function(f,h){var k=typeof(h==null?void 0:h.composedPath)=="function"?h.composedPath():void 0;return i.containerGroups.findIndex(function(F){var R=F.container,B=F.tabbableNodes;return R.contains(f)||(k==null?void 0:k.includes(R))||B.find(function(G){return G===f})})},m=function(f){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},k=h.hasFallback,F=k===void 0?!1:k,R=h.params,B=R===void 0?[]:R,G=r[f];if(typeof G=="function"&&(G=G.apply(void 0,Gs(B))),G===!0&&(G=void 0),!G){if(G===void 0||G===!1)return G;throw new Error("`".concat(f,"` was specified but was not a node, or did not return a node"))}var K=G;if(typeof G=="string"){try{K=s.querySelector(G)}catch(j){throw new Error("`".concat(f,'` appears to be an invalid selector; error="').concat(j.message,'"'))}if(!K&&!F)throw new Error("`".concat(f,"` as selector refers to no known node"))}return K},b=function(){var f=m("initialFocus",{hasFallback:!0});if(f===!1)return!1;if(f===void 0||f&&!Fe(f,r.tabbableOptions))if(d(s.activeElement)>=0)f=s.activeElement;else{var h=i.tabbableGroups[0],k=h&&h.firstTabbableNode;f=k||m("fallbackFocus")}else f===null&&(f=m("fallbackFocus"));if(!f)throw new Error("Your focus-trap needs to have at least one focusable element");return f},p=function(){if(i.containerGroups=i.containers.map(function(f){var h=Ps(f,r.tabbableOptions),k=Ns(f,r.tabbableOptions),F=h.length>0?h[0]:void 0,R=h.length>0?h[h.length-1]:void 0,B=k.find(function(j){return Yt(j)}),G=k.slice().reverse().find(function(j){return Yt(j)}),K=!!h.find(function(j){return Ut(j)>0});return{container:f,tabbableNodes:h,focusableNodes:k,posTabIndexesFound:K,firstTabbableNode:F,lastTabbableNode:R,firstDomTabbableNode:B,lastDomTabbableNode:G,nextTabbableNode:function(vt){var Ot=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,lt=h.indexOf(vt);return lt<0?Ot?k.slice(k.indexOf(vt)+1).find(function(zt){return Yt(zt)}):k.slice(0,k.indexOf(vt)).reverse().find(function(zt){return Yt(zt)}):h[lt+(Ot?1:-1)]}}}),i.tabbableGroups=i.containerGroups.filter(function(f){return f.tabbableNodes.length>0}),i.tabbableGroups.length<=0&&!m("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(i.containerGroups.find(function(f){return f.posTabIndexesFound})&&i.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},v=function(f){var h=f.activeElement;if(h)return h.shadowRoot&&h.shadowRoot.activeElement!==null?v(h.shadowRoot):h},y=function(f){if(f!==!1&&f!==v(document)){if(!f||!f.focus){y(b());return}f.focus({preventScroll:!!r.preventScroll}),i.mostRecentlyFocusedNode=f,Ws(f)&&f.select()}},S=function(f){var h=m("setReturnFocus",{params:[f]});return h||(h===!1?!1:f)},I=function(f){var h=f.target,k=f.event,F=f.isBackward,R=F===void 0?!1:F;h=h||he(k),p();var B=null;if(i.tabbableGroups.length>0){var G=d(h,k),K=G>=0?i.containerGroups[G]:void 0;if(G<0)R?B=i.tabbableGroups[i.tabbableGroups.length-1].lastTabbableNode:B=i.tabbableGroups[0].firstTabbableNode;else if(R){var j=i.tabbableGroups.findIndex(function(ut){var J=ut.firstTabbableNode;return h===J});if(j<0&&(K.container===h||Fe(h,r.tabbableOptions)&&!Yt(h,r.tabbableOptions)&&!K.nextTabbableNode(h,!1))&&(j=G),j>=0){var vt=j===0?i.tabbableGroups.length-1:j-1,Ot=i.tabbableGroups[vt];B=Ut(h)>=0?Ot.lastTabbableNode:Ot.lastDomTabbableNode}else ie(k)||(B=K.nextTabbableNode(h,!1))}else{var lt=i.tabbableGroups.findIndex(function(ut){var J=ut.lastTabbableNode;return h===J});if(lt<0&&(K.container===h||Fe(h,r.tabbableOptions)&&!Yt(h,r.tabbableOptions)&&!K.nextTabbableNode(h))&&(lt=G),lt>=0){var zt=lt===i.tabbableGroups.length-1?0:lt+1,Jt=i.tabbableGroups[zt];B=Ut(h)>=0?Jt.firstTabbableNode:Jt.firstDomTabbableNode}else ie(k)||(B=K.nextTabbableNode(h))}}else B=m("fallbackFocus");return B},g=function(f){var h=he(f);if(!(d(h,f)>=0)){if(te(r.clickOutsideDeactivates,f)){o.deactivate({returnFocus:r.returnFocusOnDeactivate});return}te(r.allowOutsideClick,f)||f.preventDefault()}},D=function(f){var h=he(f),k=d(h,f)>=0;if(k||h instanceof Document)k&&(i.mostRecentlyFocusedNode=h);else{f.stopImmediatePropagation();var F,R=!0;if(i.mostRecentlyFocusedNode)if(Ut(i.mostRecentlyFocusedNode)>0){var B=d(i.mostRecentlyFocusedNode),G=i.containerGroups[B].tabbableNodes;if(G.length>0){var K=G.findIndex(function(j){return j===i.mostRecentlyFocusedNode});K>=0&&(r.isKeyForward(i.recentNavEvent)?K+1<G.length&&(F=G[K+1],R=!1):K-1>=0&&(F=G[K-1],R=!1))}}else i.containerGroups.some(function(j){return j.tabbableNodes.some(function(vt){return Ut(vt)>0})})||(R=!1);else R=!1;R&&(F=I({target:i.mostRecentlyFocusedNode,isBackward:r.isKeyBackward(i.recentNavEvent)})),y(F||i.mostRecentlyFocusedNode||b())}i.recentNavEvent=void 0},C=function(f){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;i.recentNavEvent=f;var k=I({event:f,isBackward:h});k&&(ie(f)&&f.preventDefault(),y(k))},_=function(f){(r.isKeyForward(f)||r.isKeyBackward(f))&&C(f,r.isKeyBackward(f))},V=function(f){Ks(f)&&te(r.escapeDeactivates,f)!==!1&&(f.preventDefault(),o.deactivate())},L=function(f){var h=he(f);d(h,f)>=0||te(r.clickOutsideDeactivates,f)||te(r.allowOutsideClick,f)||(f.preventDefault(),f.stopImmediatePropagation())},St=function(){if(i.active)return en.activateTrap(a,o),i.delayInitialFocusTimer=r.delayInitialFocus?nn(function(){y(b())}):y(b()),s.addEventListener("focusin",D,!0),s.addEventListener("mousedown",g,{capture:!0,passive:!1}),s.addEventListener("touchstart",g,{capture:!0,passive:!1}),s.addEventListener("click",L,{capture:!0,passive:!1}),s.addEventListener("keydown",_,{capture:!0,passive:!1}),s.addEventListener("keydown",V),o},It=function(){if(i.active)return s.removeEventListener("focusin",D,!0),s.removeEventListener("mousedown",g,!0),s.removeEventListener("touchstart",g,!0),s.removeEventListener("click",L,!0),s.removeEventListener("keydown",_,!0),s.removeEventListener("keydown",V),o},Rt=function(f){var h=f.some(function(k){var F=Array.from(k.removedNodes);return F.some(function(R){return R===i.mostRecentlyFocusedNode})});h&&y(b())},H=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(Rt):void 0,P=function(){H&&(H.disconnect(),i.active&&!i.paused&&i.containers.map(function(f){H.observe(f,{subtree:!0,childList:!0})}))};return o={get active(){return i.active},get paused(){return i.paused},activate:function(f){if(i.active)return this;var h=u(f,"onActivate"),k=u(f,"onPostActivate"),F=u(f,"checkCanFocusTrap");F||p(),i.active=!0,i.paused=!1,i.nodeFocusedBeforeActivation=v(s),h==null||h();var R=function(){F&&p(),St(),P(),k==null||k()};return F?(F(i.containers.concat()).then(R,R),this):(R(),this)},deactivate:function(f){if(!i.active)return this;var h=tn({onDeactivate:r.onDeactivate,onPostDeactivate:r.onPostDeactivate,checkCanReturnFocus:r.checkCanReturnFocus},f);clearTimeout(i.delayInitialFocusTimer),i.delayInitialFocusTimer=void 0,It(),i.active=!1,i.paused=!1,P(),en.deactivateTrap(a,o);var k=u(h,"onDeactivate"),F=u(h,"onPostDeactivate"),R=u(h,"checkCanReturnFocus"),B=u(h,"returnFocus","returnFocusOnDeactivate");k==null||k();var G=function(){nn(function(){B&&y(S(i.nodeFocusedBeforeActivation)),F==null||F()})};return B&&R?(R(S(i.nodeFocusedBeforeActivation)).then(G,G),this):(G(),this)},pause:function(f){return i.active?(i.manuallyPaused=!0,this._setPausedState(!0,f)):this},unpause:function(f){return i.active?(i.manuallyPaused=!1,a[a.length-1]!==this?this:this._setPausedState(!1,f)):this},updateContainerElements:function(f){var h=[].concat(f).filter(Boolean);return i.containers=h.map(function(k){return typeof k=="string"?s.querySelector(k):k}),i.active&&p(),P(),this}},Object.defineProperties(o,{_isManuallyPaused:{value:function(){return i.manuallyPaused}},_setPausedState:{value:function(f,h){if(i.paused===f)return this;if(i.paused=f,f){var k=u(h,"onPause"),F=u(h,"onPostPause");k==null||k(),It(),P(),F==null||F()}else{var R=u(h,"onUnpause"),B=u(h,"onPostUnpause");R==null||R(),p(),St(),P(),B==null||B()}return this}}}),o.updateContainerElements(t),o};const Zs=ot({name:"UseFocusTrap",props:["as","options"],setup(e,{slots:t}){let n;const s=z(),a=()=>n&&n.activate(),r=()=>n&&n.deactivate();return Q(()=>ze(s),i=>{i&&(n=Xs(i,e.options||{}),a())},{flush:"post"}),Zn(()=>r()),()=>{if(t.default)return Jn(e.as||"div",{ref:s},t.default())}}}),Js=["textContent"],Qs={inheritAttrs:!1},ta=ot({...Qs,__name:"Modal",props:{heading:{type:String,required:!0},modelValue:{type:Boolean,required:!0}},emits:["update:modelValue"],setup(e,{emit:t}){const n=t,{t:s}=Kt(),a=z(),r=()=>n("update:modelValue",!1);return Q(a,i=>{i==null||i.showModal()}),(i,o)=>{const u=Wt;return e.modelValue?($(),rt(Qn,{key:0,to:"body"},[A(l(Zs),{options:{immediate:!0,initialFocus:!1}},{default:W(()=>[c("dialog",{ref_key:"dialog",ref:a,"aria-modal":"",onClick:r,onClose:r},[c("article",Vt({class:i.$style.content},i.$attrs,{onClick:o[0]||(o[0]=nt(()=>{},["stop"]))}),[c("h3",{textContent:U(e.heading)},null,8,Js),ae(i.$slots,"default"),c("footer",{class:T(i.$style.footer)},[ae(i.$slots,"footer-pre"),A(u,{onClick:r,class:"outline"},{default:W(()=>[et(U(l(s)("main.close")),1)]),_:1}),ae(i.$slots,"footer")],2)],16)],544)]),_:3})])):ft("",!0)}}}),ea="f_ad",na="f_ae",sa="f_af",aa={content:ea,spacer:na,footer:sa},ia={$style:aa},Cn=Et(ta,[["__cssModules",ia]]),Me=jt(()=>z());function ra(e,t){const n=new MouseEvent("click",{view:window,bubbles:!1,cancelable:!0}),s=document.createElement("a");s.setAttribute("download",t),s.setAttribute("href",e),s.setAttribute("target","_blank"),s.dispatchEvent(n)}async function oa(e,t){const n=new XMLSerializer().serializeToString(e),s=new Blob([n],{type:"image/svg+xml;charset=utf-8"}),a=new Image,r=URL.createObjectURL(s);await new Promise((i,o)=>{a.onload=function(){t.drawImage(a,0,0),URL.revokeObjectURL(r),i()},a.onabort=a.onerror=()=>o(),a.src=r})}const re={JPG:1,PNG:2},la={[re.JPG]:{encoding:"image/jpeg",extension:"jpg"},[re.PNG]:{encoding:"image/png",extension:"png"}};function ua(e){var s;const t=e.cloneNode(!0),n=window.getComputedStyle(e);return(s=t.querySelector("circle"))==null||s.remove(),t.style.setProperty("--background-color-transparent",n.getPropertyValue("--background-color-transparent")),t.style.color=t.style.fill=n.getPropertyValue("--color"),t.style.stroke="#fff",t.style.fontFamily="Arial",t.style.fontSize="20px",t}const Mn=jt(()=>{const e=document.createElement("canvas"),t=e==null?void 0:e.getContext("2d"),n=Me(),s=O(()=>n.value&&t);return{triggerDownload:async({filename:r,filetype:i,quality:o,width:u,height:d})=>{if(!s.value||!e||!n.value||!t)return console.error("Cannot download due to required api missing:",s.value,e,n.value,t);e.width=u,e.height=d,await oa(ua(n.value),t);const{encoding:m,extension:b}=la[i],p=e.toDataURL(m,o);ra(p,`${r}.${b}`)},isSupported:s}}),Mt={px:1,"%":2,in:3,mm:4};function ca(e,t,n){let s=e;switch(t){case Mt["%"]:s=e*100/n;break;case Mt.in:s=e/window.devicePixelRatio;break;case Mt.mm:s=e*25.4/window.devicePixelRatio;break}return+s.toFixed(6)}function da(e,t,n){let s=e;switch(t){case Mt["%"]:s=e/100*n;break;case Mt.in:s=e*window.devicePixelRatio;break;case Mt.mm:s=e*window.devicePixelRatio/25.4;break}return+s.toFixed(5)}function sn(e,t,n){const s=z(0),a=z(e.value-1),r=z(0);return Q([e,t],([i,o],[,u])=>{(a.value!==i||o!==u)&&(a.value=i,s.value=ca(i,o,n.value))},{immediate:!0}),Q(r,i=>{s.value!==i&&(a.value=da(i,t.value,n.value))}),Q(s,i=>r.value=i,{immediate:!0}),r}const fa={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"};function ha(e,t){return $(),M("svg",fa,t[0]||(t[0]=[c("path",{fill:"currentColor",d:"M24 14h-2V8a6 6 0 0 0-12 0v6H8a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V16a2 2 0 0 0-2-2M12 8a4 4 0 0 1 8 0v6h-8Zm12 20H8V16h16Z"},null,-1)]))}const va=X({name:"carbon-locked",render:ha}),pa={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"};function ma(e,t){return $(),M("svg",pa,t[0]||(t[0]=[c("path",{fill:"currentColor",d:"M24 14H12V8a4 4 0 0 1 8 0h2a6 6 0 0 0-12 0v6H8a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V16a2 2 0 0 0-2-2m0 14H8V16h16Z"},null,-1)]))}const ba=X({name:"carbon-unlocked",render:ma}),ga=ts({...es,xs:480}),ya={class:"flex-grow"},wa=["aria-invalid"],_a=["value","textContent"],xa=["aria-invalid"],Sa=["aria-invalid"],ka=["data-tooltip"],$a=["value","textContent"],Ta=["aria-invalid"],Ca=ot({__name:"BoardControlsSvgDownloadModalContent",props:{boardWidth:{type:Number,required:!0},boardHeight:{type:Number,required:!0}},emits:["downloadFinish"],setup(e,{emit:t}){const n=e,s=t,{t:a}=Kt(),{triggerDownload:r}=Mn(),i=fe("FA_FILENAME","fast-angle-image"),{boardHeight:o,boardWidth:u}=yn(n),d=z(o.value),m=z(u.value),b=fe("FA_SIZE_UNIT",Mt.px),p=z(!0),v=z(u.value/o.value);ga.isGreaterOrEqual("xl")&&Q([u,o],([C,_])=>{m.value=C,d.value=_,v.value=C/_});const y=sn(d,b,o),S=sn(m,b,u);Q([S,y],([C,_])=>{p.value||(v.value=C/_)},{flush:"sync",immediate:!0}),Q(y,()=>{y.value<0&&(y.value=1),p.value&&y.value!==+(S.value/v.value).toFixed(3)&&(S.value=+(y.value*v.value).toFixed(3))},{flush:"sync"}),Q(S,()=>{S.value<0&&(S.value=1),p.value&&S.value!==+(y.value*v.value).toFixed(3)&&(y.value=+(S.value/v.value).toFixed(3))},{flush:"sync"});const I=fe("FA_FILETYPE",re.PNG),g=fe("FA_QUALITY",100);Q(g,()=>{g.value>100&&(g.value=100),g.value<0&&(g.value=0)});async function D(){await r({filename:i.value,filetype:I.value,quality:g.value/100,width:m.value,height:d.value}).catch(()=>{}),s("downloadFinish")}return(C,_)=>{const V=Wt;return $(),M("form",{onSubmit:nt(D,["prevent"])},[c("div",{class:T(C.$style.name)},[c("label",ya,[et(U(l(a)("board.nav.download_image.name_label"))+" ",1),Dt(c("input",{"onUpdate:modelValue":_[0]||(_[0]=L=>$t(i)?i.value=L:null),type:"text",name:"name",required:"","aria-invalid":!l(i)},null,8,wa),[[Qt,l(i)]])]),c("label",{class:T(C.$style["label--big"])},[et(U(l(a)("board.nav.download_image.format_label"))+" ",1),Dt(c("select",{"onUpdate:modelValue":_[1]||(_[1]=L=>$t(I)?I.value=L:null),required:""},[($(!0),M(ht,null,Zt(Object.keys(l(re)),L=>($(),M("option",{key:L,value:l(re)[L],textContent:U(L)},null,8,_a))),128))],512),[[qe,l(I)]])],2)],2),c("fieldset",{class:T(C.$style.sizing)},[c("legend",null,[c("small",null,U(l(a)("board.nav.download_image.sizing_label")),1)]),c("label",{class:T(C.$style.label)},[et(U(l(a)("board.nav.download_image.width_label"))+" ",1),Dt(c("input",{"onUpdate:modelValue":_[2]||(_[2]=L=>$t(S)?S.value=L:null),min:"1",type:"number",step:"0.000001",name:"width",required:"","aria-invalid":!l(S)||l(S)<1},null,8,xa),[[Qt,l(S),void 0,{number:!0}]])],2),c("label",{class:T(C.$style.label)},[et(U(l(a)("board.nav.download_image.height_label"))+" ",1),Dt(c("input",{"onUpdate:modelValue":_[3]||(_[3]=L=>$t(y)?y.value=L:null),min:"1",type:"number",step:"0.000001",name:"height",required:"","aria-invalid":!l(y)||l(y)<1},null,8,Sa),[[Qt,l(y),void 0,{number:!0}]])],2),c("label",null,[_[8]||(_[8]=et("   ")),c("div",{class:T(C.$style["aspect-ratio"]),"data-tooltip":l(a)("board.nav.download_image.keep_aspect_ratio"),"data-placement":"left"},[A(V,{"aria-label":l(a)("board.nav.download_image.keep_aspect_ratio"),class:T([C.$style["aspect-ratio-btn"],{[C.$style["aspect-ratio-btn--inactive"]]:!l(p)}]),onClick:_[4]||(_[4]=L=>p.value=!l(p))},{default:W(()=>[l(p)?($(),rt(l(va),{key:0})):($(),rt(l(ba),{key:1}))]),_:1},8,["aria-label","class"])],10,ka)]),c("label",{class:T([C.$style.label,C.$style["label--small"]])},[et(U(l(a)("board.nav.download_image.unit_label"))+" ",1),Dt(c("select",{"onUpdate:modelValue":_[5]||(_[5]=L=>$t(b)?b.value=L:null),required:""},[($(!0),M(ht,null,Zt(Object.keys(l(Mt)),L=>($(),M("option",{key:L,value:l(Mt)[L],textContent:U(L)},null,8,$a))),128))],512),[[qe,l(b)]])],2)],2),c("label",null,[c("span",{class:T(C.$style.quality)},[et(U(l(a)("board.nav.download_image.quality_label"))+" ",1),Dt(c("input",{"onUpdate:modelValue":_[6]||(_[6]=L=>$t(g)?g.value=L:null),type:"number",min:"1",max:"100",class:T(C.$style.quality__input),name:"quality","aria-invalid":!l(g)||l(g)>100||l(g)<1},null,10,Ta),[[Qt,l(g),void 0,{number:!0}]]),_[9]||(_[9]=et(" % "))],2),Dt(c("input",{"onUpdate:modelValue":_[7]||(_[7]=L=>$t(g)?g.value=L:null),type:"range",min:"1",max:"100",name:"quality"},null,512),[[Qt,l(g),void 0,{number:!0}]])])],32)}}}),Ma="f_ag",Ea="f_aj",Ia="f_ak",Da="f_ao",Fa="f_ap",Aa={label:Ma,"label--big":"f_ah","label--small":"f_ai",sizing:Ea,name:Ia,"aspect-ratio":"f_al","aspect-ratio-btn":"f_am","aspect-ratio-btn--inactive":"f_an",quality:Da,quality__input:Fa},Pa={$style:Aa},Na=Et(Ca,[["__cssModules",Pa]]),Ra={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"};function Oa(e,t){return $(),M("svg",Ra,t[0]||(t[0]=[c("path",{fill:"currentColor",d:"M26 24v4H6v-4H4v4a2 2 0 0 0 2 2h20a2 2 0 0 0 2-2v-4zm0-10l-1.41-1.41L17 20.17V2h-2v18.17l-7.59-7.58L6 14l10 10z"},null,-1)]))}const za=X({name:"carbon-download",render:Oa}),Ee=jt(()=>z()),La={key:0},an="board_svg_download_form",Ba=ot({__name:"BoardControlsSvgDownload",props:{disabled:{type:Boolean,default:!1}},setup(e){const{t}=Kt(),{isSupported:n}=Mn(),s=Ee(),{height:a,width:r}=Le(s),i=z(!1),o=z(!1);return Be({onEventFired(u){(u.ctrlKey||u.metaKey)&&u.key==="s"&&(u.preventDefault(),i.value=!0)},passive:!1}),(u,d)=>{const m=Na,b=Wt,p=Cn;return l(n)?($(),M("li",La,[A(b,{tooltip:`${l(t)("board.nav.download_image.action")} [ctrl + s][⌘ + s]`,"tooltip-placement":"left",disabled:e.disabled?void 0:!0,onClick:d[3]||(d[3]=v=>i.value=!0),onTouchstart:d[4]||(d[4]=nt(v=>i.value=!0,["stop","prevent"]))},{default:W(()=>[A(l(za)),A(p,{modelValue:l(i),"onUpdate:modelValue":d[2]||(d[2]=v=>$t(i)?i.value=v:null),heading:l(t)("board.nav.download_image.heading")},{footer:W(()=>[A(b,{type:"submit",role:"button",form:an,disabled:l(o),"aria-busy":l(o),class:T(u.$style["button-submit"]),autofocus:""},{default:W(()=>[et(U(l(t)("board.nav.download_image.save")),1)]),_:1},8,["disabled","aria-busy","class"])]),default:W(()=>[A(m,{id:an,"board-height":l(a),"board-width":l(r),onSubmit:d[0]||(d[0]=v=>o.value=!0),onDownloadFinish:d[1]||(d[1]=v=>(o.value=!1,i.value=!1))},null,8,["board-height","board-width"])]),_:1},8,["modelValue","heading"])]),_:1},8,["tooltip","disabled"])])):ft("",!0)}}}),Ga={"button-submit":"f_3"},Ua={$style:Ga},Va=Et(Ba,[["__cssModules",Ua]]),Ha={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"};function Wa(e,t){return $(),M("svg",Ha,t[0]||(t[0]=[c("path",{fill:"currentColor",d:"M16 2a14 14 0 1 0 14 14A14 14 0 0 0 16 2m0 26a12 12 0 1 1 12-12a12 12 0 0 1-12 12"},null,-1),c("circle",{cx:"16",cy:"23.5",r:"1.5",fill:"currentColor"},null,-1),c("path",{fill:"currentColor",d:"M17 8h-1.5a4.49 4.49 0 0 0-4.5 4.5v.5h2v-.5a2.5 2.5 0 0 1 2.5-2.5H17a2.5 2.5 0 0 1 0 5h-2v4.5h2V17a4.5 4.5 0 0 0 0-9"},null,-1)]))}const Ka=X({name:"carbon-help",render:Wa}),ja={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"};function Ya(e,t){return $(),M("svg",ja,t[0]||(t[0]=[c("path",{fill:"currentColor",d:"M22.5 4c-2 0-3.9.8-5.3 2.2L16 7.4l-1.1-1.1c-2.9-3-7.7-3-10.6-.1l-.1.1c-3 3-3 7.8 0 10.8L16 29l11.8-11.9c3-3 3-7.8 0-10.8C26.4 4.8 24.5 4 22.5 4"},null,-1)]))}const rn=X({name:"carbon-favorite-filled",render:Ya}),qa=["textContent"],Xa={rol:"grid"},Za=["textContent"],Ja=["textContent"],Qa=["textContent"],ti=["textContent"],ei=["textContent"],ni=["textContent"],si=["href","data-tooltip","title"],ai={rel:"noreferrer",href:"https://github.com/FRSOURCE/fast-angle",target:"_blank",title:"GitHub"},ii={rel:"noreferrer",href:"https://www.frsource.org/blog/sponsoring",target:"_blank",title:"Sponsoring"},ri=["textContent"],oi=["textContent"],li=ot({__name:"BoardControlsSvgHelp",setup(e){const{t,tm:n,rt:s}=Kt(),a=z(!1),r=O(()=>n("board.nav.help.content"));return(i,o)=>{const u=ns("RouterLink"),d=Cn,m=Wt;return $(),M("li",null,[A(m,{tooltip:l(t)("board.nav.help.action"),"tooltip-placement":"left",onClick:o[1]||(o[1]=b=>a.value=!0),onTouchstartCapture:o[2]||(o[2]=nt(b=>a.value=!0,["prevent","stop"]))},{default:W(()=>[A(l(Ka)),A(d,{modelValue:l(a),"onUpdate:modelValue":o[0]||(o[0]=b=>$t(a)?a.value=b:null),heading:l(t)("board.nav.help.heading"),class:T(i.$style.modal)},{"footer-pre":W(()=>[c("a",{autofocus:"",rel:"noreferrer",href:"https://github.com/FRSOURCE/fast-angle",target:"_blank",title:"GitHub",class:T(i.$style.donate)},[A(l(rn)),c("small",null,U(l(t)("main.donate_us")),1)],2)]),default:W(()=>[c("ul",null,[($(!0),M(ht,null,Zt(l(r),b=>($(),M("li",{key:l(s)(b)},U(l(s)(b)),1))),128))]),o[21]||(o[21]=c("hr",null,null,-1)),c("div",{class:T(i.$style["hide-mobile"])},[c("h4",{textContent:U(l(t)("board.nav.help.key_bindings.heading"))},null,8,qa),c("table",Xa,[c("thead",null,[c("tr",null,[o[3]||(o[3]=c("th",{scope:"col",textContent:"Win"},null,-1)),o[4]||(o[4]=c("th",{scope:"col",textContent:"Mac"},null,-1)),c("th",{scope:"col",textContent:U(l(t)("board.nav.help.key_bindings.description"))},null,8,Za)])]),c("tbody",null,[c("tr",null,[c("td",{scope:"col",class:T(i.$style["binding-item-wrapper"])},[c("div",{class:T(i.$style["binding-item"])},[o[5]||(o[5]=c("kbd",null,"ctrl",-1)),c("small",{class:T(i.$style["binding-item-plus"])},"+",2),o[6]||(o[6]=c("kbd",null,"z",-1))],2)],2),c("td",{scope:"col",class:T(i.$style["binding-item-wrapper"])},[c("div",{class:T(i.$style["binding-item"])},[o[7]||(o[7]=c("kbd",null,"⌘",-1)),c("small",{class:T(i.$style["binding-item-plus"])},"+",2),o[8]||(o[8]=c("kbd",null,"z",-1))],2)],2),c("td",{scope:"col",textContent:U(l(t)("board.nav.undo"))},null,8,Ja)]),c("tr",null,[c("td",{scope:"col",class:T(i.$style["binding-item-wrapper"])},[c("div",{class:T(i.$style["binding-item"])},[o[9]||(o[9]=c("kbd",null,"ctrl",-1)),c("small",{class:T(i.$style["binding-item-plus"])},"+",2),o[10]||(o[10]=c("kbd",null,"shift",-1)),c("small",{class:T(i.$style["binding-item-plus"])},"+",2),o[11]||(o[11]=c("kbd",null,"z",-1))],2)],2),c("td",{scope:"col",class:T(i.$style["binding-item-wrapper"])},[c("div",{class:T(i.$style["binding-item"])},[o[12]||(o[12]=c("kbd",null,"⌘",-1)),c("small",{class:T(i.$style["binding-item-plus"])},"+",2),o[13]||(o[13]=c("kbd",null,"shift",-1)),c("small",{class:T(i.$style["binding-item-plus"])},"+",2),o[14]||(o[14]=c("kbd",null,"z",-1))],2)],2),c("td",{scope:"col",textContent:U(l(t)("board.nav.download_image.action"))},null,8,Qa)]),c("tr",null,[c("td",{scope:"col",class:T(i.$style["binding-item-wrapper"])},[c("div",{class:T(i.$style["binding-item"])},[o[15]||(o[15]=c("kbd",null,"ctrl",-1)),c("small",{class:T(i.$style["binding-item-plus"])},"+",2),o[16]||(o[16]=c("kbd",null,"s",-1))],2)],2),c("td",{scope:"col",class:T(i.$style["binding-item-wrapper"])},[c("div",{class:T(i.$style["binding-item"])},[o[17]||(o[17]=c("kbd",null,"⌘",-1)),c("small",{class:T(i.$style["binding-item-plus"])},"+",2),o[18]||(o[18]=c("kbd",null,"s",-1))],2)],2),c("td",{scope:"col",textContent:U(l(t)("board.nav.redo"))},null,8,ti)]),c("tr",null,[c("td",{scope:"col",class:T(i.$style["binding-item-wrapper"])},[c("div",{class:T(i.$style["binding-item"])},o[19]||(o[19]=[c("kbd",null,"f",-1)]),2)],2),c("td",{scope:"col",class:T(i.$style["binding-item-wrapper"])},[c("div",{class:T(i.$style["binding-item"])},o[20]||(o[20]=[c("kbd",null,"f",-1)]),2)],2),c("td",{scope:"col",textContent:U(l(t)("board.nav.toggle_fullscreen"))},null,8,ei)])])])],2),c("h4",{textContent:U(l(t)("board.nav.help.heading_authors"))},null,8,ni),c("p",null,[et(U(l(t)("main.brought_to_you_by"))+" ",1),c("a",{href:`${"host"in i?i.host:l(ss)}/`,"data-tooltip":l(t)("main.visit_our_website"),title:l(t)("main.visit_our_website")},"FRSOURCE",8,si)]),c("p",null,[c("a",ai,[A(l(Xn)),et(" "+U(l(t)("main.star_us_on_github")),1)])]),c("p",null,[c("a",ii,[A(l(rn)),et(" "+U(l(t)("main.donate_us")),1)])]),o[22]||(o[22]=c("hr",null,null,-1)),c("p",{class:T(i.$style.terms)},[A(u,{to:{name:`lang-${l(Xe)}-terms`}},{default:W(()=>[c("small",{textContent:U(l(t)("main.terms_and_conditions"))},null,8,ri)]),_:1},8,["to"]),A(u,{to:{name:`lang-${l(Xe)}-privacy-policy`}},{default:W(()=>[c("small",{textContent:U(l(t)("main.privacy_policy"))},null,8,oi)]),_:1},8,["to"])],2)]),_:1,__:[21,22]},8,["modelValue","heading","class"])]),_:1},8,["tooltip"])])}}}),ui="f_8",ci="f_ab",di="f_ac",fi={modal:ui,"hide-mobile":"f_9","binding-item":"f__","binding-item-plus":"f_-","list-item":"f_aa",terms:ci,donate:di},hi={$style:fi},vi=Et(li,[["__cssModules",hi]]),pi={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"};function mi(e,t){return $(),M("svg",pi,t[0]||(t[0]=[c("path",{fill:"currentColor",d:"M28 10v18H10V10zm0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2"},null,-1),c("path",{fill:"currentColor",d:"M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"},null,-1)]))}const bi=X({name:"carbon-copy",render:mi}),gi={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"};function yi(e,t){return $(),M("svg",gi,t[0]||(t[0]=[c("path",{fill:"currentColor",d:"m13 24l-9-9l1.414-1.414L13 21.171L26.586 7.586L28 9z"},null,-1)]))}const wi=X({name:"carbon-checkmark",render:yi}),_i=ot({__name:"BoardSummaryItem",props:{value:{type:Number,default:0}},setup(e){const t=e,n=O(()=>t.value?t.value.toFixed(3):""),{copy:s,copied:a,isSupported:r}=as({source:n});return(i,o)=>{const u=Wt;return $(),M("small",{class:T(i.$style.item),onClick:o[0]||(o[0]=()=>l(s)())},[c("div",null,[ae(i.$slots,"default"),c("span",{class:T(i.$style.text)},[l(n)?($(),M(ht,{key:0},[et(U(l(n))+"°",1)],64)):($(),M(ht,{key:1},[et("?")],64))],2)]),l(r)&&l(n)?($(),rt(u,{key:0,class:T(i.$style.btn),disabled:l(a)},{default:W(()=>[l(a)?($(),rt(l(wi),{key:0})):($(),rt(l(bi),{key:1}))]),_:1},8,["class","disabled"])):ft("",!0)],2)}}}),xi="f_5",Si="f_6",ki="f_7",$i={item:xi,text:Si,btn:ki},Ti={$style:$i},Ci=Et(_i,[["__cssModules",Ti]]),Mi={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"};function Ei(e,t){return $(),M("svg",Mi,t[0]||(t[0]=[c("path",{fill:"currentColor",d:"M20 2v2h6.586L18 12.582L19.414 14L28 5.414V12h2V2zm-6 17.416L12.592 18L4 26.586V20H2v10h10v-2H5.414z"},null,-1)]))}const Ii=X({name:"carbon-maximize",render:Ei}),Di={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"};function Fi(e,t){return $(),M("svg",Di,t[0]||(t[0]=[c("path",{fill:"currentColor",d:"M4 18v2h6.586L2 28.582L3.414 30L12 21.414V28h2V18zM30 3.416L28.592 2L20 10.586V4h-2v10h10v-2h-6.586z"},null,-1)]))}const Ai=X({name:"carbon-minimize",render:Fi}),Pi={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"};function Ni(e,t){return $(),M("svg",Pi,t[0]||(t[0]=[c("path",{fill:"currentColor",d:"M18 12h-4V8h-2v4H8v2h4v4h2v-4h4z"},null,-1),c("path",{fill:"currentColor",d:"M21.448 20A10.86 10.86 0 0 0 24 13a11 11 0 1 0-11 11a10.86 10.86 0 0 0 7-2.552L27.586 29L29 27.586ZM13 22a9 9 0 1 1 9-9a9.01 9.01 0 0 1-9 9"},null,-1)]))}const Ri=X({name:"carbon-zoom-in",render:Ni}),Oi={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"};function zi(e,t){return $(),M("svg",Oi,t[0]||(t[0]=[c("path",{fill:"currentColor",d:"M8 12h10v2H8z"},null,-1),c("path",{fill:"currentColor",d:"M21.448 20A10.86 10.86 0 0 0 24 13a11 11 0 1 0-11 11a10.86 10.86 0 0 0 7-2.552L27.586 29L29 27.586ZM13 22a9 9 0 1 1 9-9a9.01 9.01 0 0 1-9 9"},null,-1)]))}const Li=X({name:"carbon-zoom-out",render:zi}),Bi={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"};function Gi(e,t){return $(),M("svg",Bi,t[0]||(t[0]=[c("path",{fill:"currentColor",d:"M4 20v2h4.586L2 28.586L3.414 30L10 23.414V28h2v-8zm15-6a3 3 0 1 0-3-3a3 3 0 0 0 3 3m0-4a1 1 0 1 1-1 1a1 1 0 0 1 1-1"},null,-1),c("path",{fill:"currentColor",d:"M26 4H6a2 2 0 0 0-2 2v10h2V6h20v15.17l-3.59-3.59a2 2 0 0 0-2.82 0L18 19.17L11.83 13l-1.414 1.416L14 18l2.59 2.59a2 2 0 0 0 2.82 0L21 19l5 5v2H16v2h10a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2"},null,-1)]))}const Ui=X({name:"carbon-image-reference",render:Gi}),Vi={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"};function Hi(e,t){return $(),M("svg",Vi,t[0]||(t[0]=[c("path",{d:"M9 24a3.51 3.51 0 0 0-.88-1.86l9.53-16.58l-1.73-1l-9.57 16.56A3.06 3.06 0 0 0 5.5 21a3.5 3.5 0 1 0 3.15 5H28v-2zm-3.5 2A1.5 1.5 0 1 1 7 24.5A1.5 1.5 0 0 1 5.5 26z",fill:"currentColor"},null,-1),c("path",{d:"M22 21h2a13 13 0 0 0-5.42-10.56l-1.16 1.62A11 11 0 0 1 22 21z",fill:"currentColor"},null,-1)]))}const Wi=X({name:"carbon-angle",render:Hi}),Ki={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"};function ji(e,t){return $(),M("svg",Ki,t[0]||(t[0]=[c("path",{fill:"currentColor",d:"M20 10H7.815l3.587-3.586L10 5l-6 6l6 6l1.402-1.415L7.818 12H20a6 6 0 0 1 0 12h-8v2h8a8 8 0 0 0 0-16"},null,-1)]))}const Yi=X({name:"carbon-undo",render:ji}),qi={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"};function Xi(e,t){return $(),M("svg",qi,t[0]||(t[0]=[c("path",{fill:"currentColor",d:"M12 10h12.185l-3.587-3.586L22 5l6 6l-6 6l-1.402-1.415L24.182 12H12a6 6 0 0 0 0 12h8v2h-8a8 8 0 0 1 0-16"},null,-1)]))}const Zi=X({name:"carbon-redo",render:Xi}),Ji={width:"1.2em",height:"1.2em",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor"};function Qi(e,t){return $(),M("svg",Ji,t[0]||(t[0]=[c("path",{d:"M18.3 26a3.5 3.5 0 006.6-3.05 3 3 0 00-.7-.8l7.53-15.58-1.73-1-7.57 15.56a2.7 2.7 0 00-.8-.1 3.5 3.5 0 00-3.33 2.97h-17.973v2Zm3.4.1a1.5 1.5 0 111.5-1.5 1.5 1.5 0 01-1.5 1.5Z"},null,-1),c("path",{d:"M3.75 21.25a13.2 13.2 90 0120.25-10.56l-.87 1.44a11.75 11.75 90 00-17.6 9.13z"},null,-1)]))}const tr=X({name:"custom-angle-obtuse",render:Qi}),Ae=4,ke=jt(()=>{const e=z([]),t=z([]),n=z(Ae-1);let s=()=>{},a=()=>{};Q(e,g=>{t.value=[...g]},{deep:!0,flush:"sync"});const r=(g,D)=>{++n.value>=Ae&&(n.value=0,e.value=[]);const C=Math.floor(n.value/2);if(n.value%2){const _=e.value[C][0];if(!_)return;e.value[C]=[_,[g,D]]}else e.value[C]=[[g,D]]},i=(g,D)=>{const C=n.value+1>=Ae?0:n.value+1,_=Math.floor(C/2);if(C%2){const V=t.value[_][0];if(!V)return;t.value[_]=[V,[g,D]]}else t.value[_]=[[g,D]]},{undo:o,redo:u,canUndo:d,canRedo:m}=ye(n),{undo:b,redo:p,canUndo:v,canRedo:y}=ye(e,{deep:!0}),S=()=>{b(),s(),o()},I=()=>{p(),a(),u()};return Be({onEventFired(g){(g.ctrlKey||g.metaKey)&&g.key==="z"&&(g.shiftKey?I():S())}}),{step:n,lines:t,drawNextPoint:r,predictNextPoint:i,undo:S,redo:I,canUndo:O(()=>d.value&&v.value),canRedo:O(()=>m.value&&y.value),registerOnUndo:g=>s=g,registerOnRedo:g=>a=g}});function En(e){const[[[t,n],[s,a]],[[r,i],[o,u]]]=e,d=s-t,m=a-n,b=o-r,p=u-i,v=Math.atan2(d*p-m*b,d*b+m*p);return Math.abs(v)*(180/Math.PI)}function Ge(e){return O(()=>{var t,n;return(((t=e.value[0])==null?void 0:t.length)||0)<2||(((n=e.value[1])==null?void 0:n.length)||0)<2?0:En(e.value)})}function er(){try{return"constructor"in GestureEvent}catch{return!1}}function In(){return typeof window<"u"&&"ontouchstart"in window}function Dn(e){return"pointerId"in e?null:e.type==="touchend"?e.changedTouches:e.targetTouches}function Ue(e){return Array.from(Dn(e)).map(t=>t.identifier)}function Tt(e){const t="buttons"in e?e.buttons:0,{shiftKey:n,altKey:s,metaKey:a,ctrlKey:r}=e;return{buttons:t,shiftKey:n,altKey:s,metaKey:a,ctrlKey:r}}const Ie=e=>e;function on(e,t=Ie){const n=Dn(e),{clientX:s,clientY:a}=n?n[0]:e;return t([s,a])}function ln(e,t,n=Ie){const[s,a]=Array.from(e.touches).filter(v=>t.includes(v.identifier));if(!s||!a)throw Error("The event doesn't have two pointers matching the pointerIds");const r=a.clientX-s.clientX,i=a.clientY-s.clientY,o=(a.clientX+s.clientX)/2,u=(a.clientY+s.clientY)/2,d=Math.hypot(r,i),m=-(Math.atan2(r,i)*180)/Math.PI,b=n([d,m]),p=n([o,u]);return{values:b,origin:p}}const un=40,cn=800;function Fn(e,t=Ie){let{deltaX:n,deltaY:s,deltaMode:a}=e;return a===1?(n*=un,s*=un):a===2&&(n*=cn,s*=cn),t([n,s])}function dn(e,t=Ie){return t([e.scale,e.rotation])}function An(){}function Pn(...e){return e.length===0?An:e.length===1?e[0]:function(){var t;for(let n of e)t=n.apply(this,arguments)||t;return t}}function Nt(e,t){if(e===void 0){if(t===void 0)throw new Error("Must define fallback value if undefined is expected");e=t}return Array.isArray(e)?e:[e,e]}function fn(e,t){return Object.assign({},t,e||{})}function $e(e,...t){return typeof e=="function"?e(...t):e}function ee(e){return{_active:!1,_blocked:!1,_intentional:[!1,!1],_movement:[0,0],_initial:[0,0],_bounds:[[-1/0,1/0],[-1/0,1/0]],_lastEventType:void 0,_dragStarted:!1,_dragPreventScroll:!1,_dragIsTap:!0,_dragDelayed:!1,event:void 0,intentional:!1,values:[0,0],velocities:[0,0],delta:[0,0],movement:[0,0],offset:[0,0],lastOffset:[0,0],direction:[0,0],initial:[0,0],previous:[0,0],first:!1,last:!1,active:!1,timeStamp:0,startTime:0,elapsedTime:0,cancel:An,canceled:!1,memo:void 0,args:void 0,...e}}function Re(){const e={hovering:!1,scrolling:!1,wheeling:!1,dragging:!1,moving:!1,pinching:!1,touches:0,buttons:0,down:!1,shiftKey:!1,altKey:!1,metaKey:!1,ctrlKey:!1,locked:!1},t=ee({_pointerId:void 0,axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0,tap:!1,swipe:[0,0]}),n=ee({_pointerIds:[],da:[0,0],vdva:[0,0],origin:void 0,turns:0}),s=ee({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0}),a=ee({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0}),r=ee({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0});return{shared:e,drag:t,pinch:n,wheel:s,move:a,scroll:r}}var nr=Object.defineProperty,sr=(e,t,n)=>t in e?nr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,st=(e,t,n)=>(sr(e,typeof t!="symbol"?t+"":t,n),n);class ar{constructor(t){this.classes=t,st(this,"nativeRefs"),st(this,"config"),st(this,"handlers"),st(this,"state"),st(this,"timeouts"),st(this,"domListeners"),st(this,"windowListeners"),st(this,"pointerIds",new Set),st(this,"touchIds",new Set),st(this,"supportsTouchEvents",In()),st(this,"supportsGestureEvents",er()),st(this,"bind",(...n)=>{const s={};for(let a of this.classes)new a(this,n).addBindings(s);for(let a in this.nativeRefs)Y(s,a,r=>this.nativeRefs[a]({...this.state.shared,event:r,args:n}));return this.config.domTarget?lr(this,s):ur(this,s)}),st(this,"clean",()=>{const{eventOptions:n,domTarget:s}=this.config,a=l(s);a&&ce(a,On(this.domListeners),n),Object.values(this.timeouts).forEach(clearTimeout),ir(this)}),st(this,"reset",()=>{this.state=Re()}),this.classes=t,this.state=Re(),this.timeouts={},this.domListeners=[],this.windowListeners={}}}function Nn(e,t){"pointerId"in t?e.pointerIds.add(t.pointerId):e.touchIds=new Set(Ue(t))}function Rn(e,t){"pointerId"in t?e.pointerIds.delete(t.pointerId):Ue(t).forEach(n=>e.touchIds.delete(n))}function ir(e){const{config:{window:t,eventOptions:n},windowListeners:s}=e,a=l(t);if(a){for(let r in s){const i=s[r];ce(a,i,n)}e.windowListeners={}}}function rr({config:e,windowListeners:t},n,s=e.eventOptions){const a=l(e.window);a&&(ce(a,t[n],s),delete t[n])}function or({config:e,windowListeners:t},n,s=[],a=e.eventOptions){const r=l(e.window);r&&(ce(r,t[n],a),zn(r,t[n]=s,a))}function lr({config:e,domListeners:t},n){const{eventOptions:s,domTarget:a}=e,r=l(a);if(!r)throw new Error("domTarget must be defined");ce(r,On(t),s);for(let[i,o]of Object.entries(n)){const u=i.slice(2).toLowerCase();t.push([u,Pn(...o)])}zn(r,t,s)}function ur({config:e},t){const n={},s=e.eventOptions.capture?"Capture":"";for(let[a,r]of Object.entries(t)){const i=Array.isArray(r)?r:[r],o=a+s;n[o]=Pn(...i)}return n}function On(e=[]){return e.splice(0,e.length)}function Y(e,t,n){e[t]||(e[t]=[]),e[t].push(n)}function zn(e,t=[],n={}){if(e)for(let[s,a]of t)e.addEventListener(s,a,n)}function ce(e,t=[],n={}){if(e)for(let[s,a]of t)e.removeEventListener(s,a,n)}function Te(e,t){return e.map((n,s)=>n+t[s])}function Ve(e,t){return e.map((n,s)=>n-t[s])}function le(e){return Math.hypot(...e)}function cr(e,t=e){const n=le(t),s=n===0?0:1/n,a=t.map(i=>s*i);return{distance:le(e),direction:a}}function Ln(e,t,n){const s=le(t),a=s===0?0:1/s,r=n===0?0:1/n,i=r*s,o=t.map(m=>r*m),u=t.map(m=>a*m),d=le(e);return{velocities:o,velocity:i,distance:d,direction:u}}function Ce(e){return Math.sign?Math.sign(e):+(e>0)-+(e<0)||+e}function dr(e,t,n){return Math.max(t,Math.min(e,n))}function fr(e,t){return Math.pow(e,t*5)}function hn(e,t,n){return t===0||Math.abs(t)===1/0?fr(e,n):e*t*n/(t+n*e)}function vn(e,t,n,s=.15){return s===0?dr(e,t,n):e<t?-hn(t-e,n-t,s)+t:e>n?+hn(e-n,n-t,s)+n:e}var hr=Object.defineProperty,vr=(e,t,n)=>t in e?hr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ve=(e,t,n)=>(vr(e,typeof t!="symbol"?t+"":t,n),n);const Ct=new Map,pr=e=>e;class Bn{constructor(t,n=[]){this.controller=t,this.args=n,ve(this,"debounced",!0),ve(this,"setTimeout",(s,a=140,...r)=>{clearTimeout(this.controller.timeouts[this.stateKey]),this.controller.timeouts[this.stateKey]=window.setTimeout(s,a,...r)}),ve(this,"clearTimeout",()=>{clearTimeout(this.controller.timeouts[this.stateKey])}),ve(this,"fireGestureHandler",(s=!1)=>{if(this.state._blocked)return this.debounced||(this.state._active=!1,this.clean()),null;if(!s&&!this.state.intentional&&!this.config.triggerAllEvents)return null;if(this.state.intentional){const u=this.state.active,d=this.state._active;this.state.active=d,this.state.first=d&&!u,this.state.last=u&&!d,this.controller.state.shared[this.ingKey]=d}const a=this.controller.pointerIds.size||this.controller.touchIds.size,r=this.controller.state.shared.buttons>0||a>0,i={...this.controller.state.shared,...this.state,...this.mapStateValues(this.state),locked:!!document.pointerLockElement,touches:a,down:r},o=this.handler(i);return this.state.memo=o!==void 0?o:this.state.memo,i}),this.controller=t,this.args=n}get config(){return this.controller.config[this.stateKey]}get enabled(){return this.controller.config.enabled&&this.config.enabled}get state(){return this.controller.state[this.stateKey]}get handler(){return this.controller.handlers[this.stateKey]}get transform(){return this.config.transform||this.controller.config.transform||pr}updateSharedState(t){Object.assign(this.controller.state.shared,t)}updateGestureState(t){Object.assign(this.state,t)}checkIntentionality(t,n){return{_intentional:t,_blocked:!1}}getMovement(t){const{rubberband:n,threshold:s}=this.config,{_bounds:a,_initial:r,_active:i,_intentional:o,lastOffset:u,movement:d}=this.state,m=this.getInternalMovement(t,this.state),b=this.transform(s).map(Math.abs),p=o[0]===!1?pn(m[0],b[0]):o[0],v=o[1]===!1?pn(m[1],b[1]):o[1],y=this.checkIntentionality([p,v],m);if(y._blocked)return{...y,_movement:m,delta:[0,0]};const S=y._intentional,I=m;let g=[S[0]!==!1?m[0]-S[0]:0,S[1]!==!1?m[1]-S[1]:0];const D=Te(g,u),C=i?n:[0,0];return g=mn(a,Te(g,r),C),{...y,intentional:S[0]!==!1||S[1]!==!1,_initial:r,_movement:I,movement:g,values:t,offset:mn(a,D,C),delta:Ve(g,d)}}clean(){this.clearTimeout()}}function pn(e,t){return Math.abs(e)>=t?Ce(e)*t:!1}function mn(e,[t,n],[s,a]){const[[r,i],[o,u]]=e;return[vn(t,r,i,s),vn(n,o,u,a)]}function it({state:e},t,n){const{timeStamp:s,type:a}=t,r=e.values,i=n?0:s-e.startTime;return{_lastEventType:a,event:t,timeStamp:s,elapsedTime:i,previous:r}}function oe({state:e,config:t,stateKey:n,args:s},a,r){const i=e.offset,o=r.timeStamp,{initial:u,bounds:d}=t,m={...Re()[n],_active:!0,args:s,values:a,initial:a,offset:i,lastOffset:i,startTime:o};return{...m,_initial:$e(u,m),_bounds:$e(d,m)}}class Gn extends Bn{getInternalMovement(t,n){return Ve(t,n.initial)}checkIntentionality(t,n){if(t[0]===!1&&t[1]===!1)return{_intentional:t,axis:this.state.axis};const[s,a]=n.map(Math.abs),r=this.state.axis||(s>a?"x":s<a?"y":void 0);return!this.config.axis&&!this.config.lockDirection?{_intentional:t,_blocked:!1,axis:r}:r?this.config.axis&&r!==this.config.axis?{_intentional:t,_blocked:!0,axis:r}:(t[r==="x"?1:0]=!1,{_intentional:t,_blocked:!1,axis:r}):{_intentional:[!1,!1],_blocked:!1,axis:r}}getKinematics(t,n){const s=this.getMovement(t);if(!s._blocked){const a=n.timeStamp-this.state.timeStamp;Object.assign(s,Ln(s.movement,s.delta,a))}return s}mapStateValues(t){return{xy:t.values,vxvy:t.velocities}}}var mr=Object.defineProperty,br=(e,t,n)=>t in e?mr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Z=(e,t,n)=>(br(e,typeof t!="symbol"?t+"":t,n),n);const gr=3;function bn(e){"persist"in e&&typeof e.persist=="function"&&e.persist()}class yr extends Gn{constructor(){super(...arguments),Z(this,"ingKey","dragging"),Z(this,"stateKey","drag"),Z(this,"setPointerCapture",t=>{if(this.config.useTouch||document.pointerLockElement)return;const{target:n,pointerId:s}=t;n&&"setPointerCapture"in n&&n.setPointerCapture(s),this.updateGestureState({_dragTarget:n,_dragPointerId:s})}),Z(this,"releasePointerCapture",()=>{if(this.config.useTouch||document.pointerLockElement)return;const{_dragTarget:t,_dragPointerId:n}=this.state;if(n&&t&&"releasePointerCapture"in t&&(!("hasPointerCapture"in t)||t.hasPointerCapture(n)))try{t.releasePointerCapture(n)}catch{}}),Z(this,"preventScroll",t=>{this.state._dragPreventScroll&&t.cancelable&&t.preventDefault()}),Z(this,"getEventId",t=>this.config.useTouch?t.changedTouches[0].identifier:t.pointerId),Z(this,"isValidEvent",t=>this.state._pointerId===this.getEventId(t)),Z(this,"shouldPreventWindowScrollY",this.config.preventWindowScrollY&&this.controller.supportsTouchEvents),Z(this,"setUpWindowScrollDetection",t=>{bn(t),or(this.controller,this.stateKey,[["touchmove",this.preventScroll],["touchend",this.clean.bind(this)],["touchcancel",this.clean.bind(this)]],{passive:!1}),this.setTimeout(this.startDrag.bind(this),250,t)}),Z(this,"setUpDelayedDragTrigger",t=>{this.state._dragDelayed=!0,bn(t),this.setTimeout(this.startDrag.bind(this),this.config.delay,t)}),Z(this,"setStartState",t=>{const n=on(t,this.transform);this.updateSharedState(Tt(t)),this.updateGestureState({...oe(this,n,t),...it(this,t,!0),_pointerId:this.getEventId(t)}),this.updateGestureState(this.getMovement(n))}),Z(this,"onDragStart",t=>{Nn(this.controller,t),!(!this.enabled||this.state._active)&&(this.setStartState(t),this.setPointerCapture(t),this.shouldPreventWindowScrollY?this.setUpWindowScrollDetection(t):this.config.delay>0?this.setUpDelayedDragTrigger(t):this.startDrag(t,!0))}),Z(this,"onDragChange",t=>{if(this.state.canceled||!this.state._active||!this.isValidEvent(t)||this.state._lastEventType===t.type&&t.timeStamp===this.state.timeStamp)return;let n;if(document.pointerLockElement){const{movementX:u,movementY:d}=t;n=Te(this.transform([u,d]),this.state.values)}else n=on(t,this.transform);const s=this.getKinematics(n,t);if(!this.state._dragStarted){if(this.state._dragDelayed){this.startDrag(t);return}if(this.shouldPreventWindowScrollY)if(!this.state._dragPreventScroll&&s.axis)if(s.axis==="x")this.startDrag(t);else{this.state._active=!1;return}else return;else return}const a=Tt(t);this.updateSharedState(a);const r=it(this,t),i=le(s._movement);let{_dragIsTap:o}=this.state;o&&i>=gr&&(o=!1),this.updateGestureState({...r,...s,_dragIsTap:o}),this.fireGestureHandler()}),Z(this,"onDragEnd",t=>{if(Rn(this.controller,t),!this.isValidEvent(t)||(this.clean(),!this.state._active))return;this.state._active=!1;const n=this.state._dragIsTap,[s,a]=this.state.velocities,[r,i]=this.state.movement,[o,u]=this.state._intentional,[d,m]=this.config.swipeVelocity,[b,p]=this.config.swipeDistance,v=this.config.swipeDuration,y={...it(this,t),...this.getMovement(this.state.values)},S=[0,0];y.elapsedTime<v&&(o!==!1&&Math.abs(s)>d&&Math.abs(r)>b&&(S[0]=Ce(s)),u!==!1&&Math.abs(a)>m&&Math.abs(i)>p&&(S[1]=Ce(a))),this.updateSharedState({buttons:0}),this.updateGestureState({...y,tap:n,swipe:S}),this.fireGestureHandler(this.config.filterTaps&&n===!0)}),Z(this,"clean",()=>{super.clean(),this.state._dragStarted=!1,this.releasePointerCapture(),rr(this.controller,this.stateKey)}),Z(this,"onCancel",()=>{this.state.canceled||(this.updateGestureState({canceled:!0,_active:!1}),this.updateSharedState({buttons:0}),ls(this.fireGestureHandler))}),Z(this,"onClick",t=>{this.state._dragIsTap||t.stopPropagation()})}startDrag(t,n=!1){!this.state._active||this.state._dragStarted||(n||this.setStartState(t),this.updateGestureState({_dragStarted:!0,_dragPreventScroll:!0,cancel:this.onCancel}),this.clearTimeout(),this.fireGestureHandler())}addBindings(t){if(this.config.useTouch?(Y(t,"onTouchStart",this.onDragStart),Y(t,"onTouchMove",this.onDragChange),Y(t,"onTouchEnd",this.onDragEnd),Y(t,"onTouchCancel",this.onDragEnd)):(Y(t,"onPointerDown",this.onDragStart),Y(t,"onPointerMove",this.onDragChange),Y(t,"onPointerUp",this.onDragEnd),Y(t,"onPointerCancel",this.onDragEnd)),this.config.filterTaps){const n=this.controller.config.eventOptions.capture?"onClick":"onClickCapture";Y(t,n,this.onClick)}}}function He(e,t){let n,s=[],a,r=!1;function i(...o){return r&&n===this&&t(o,s)||(a=e.apply(this,o),r=!0,n=this,s=o),a}return i}function be(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;let n,s,a;if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(s=n;s--!==0;)if(!be(e[s],t[s]))return!1;return!0}let r;if(typeof Map=="function"&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(r=e.entries();!(s=r.next()).done;)if(!t.has(s.value[0]))return!1;for(r=e.entries();!(s=r.next()).done;)if(!be(s.value[1],t.get(s.value[0])))return!1;return!0}if(typeof Set=="function"&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(r=e.entries();!(s=r.next()).done;)if(!t.has(s.value[0]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(s=n;s--!==0;)if(!Object.prototype.hasOwnProperty.call(t,a[s]))return!1;if(typeof Element<"u"&&e instanceof Element)return!1;for(s=n;s--!==0;)if(!(a[s]==="_owner"&&e.$$typeof)&&!be(e[a[s]],t[a[s]]))return!1;return!0}return e!==e&&t!==t}function We(e,t){try{return be(e,t)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}}function de(e={},t){const n={};for(const[s,a]of Object.entries(t))switch(typeof a){case"function":n[s]=a.call(n,e[s],s,e);break;case"object":n[s]=de(e[s],a);break;case"boolean":a&&(n[s]=e[s]);break}return n}const wr=180,_r=.15,xr=.5,Sr=50,kr=250,Un={threshold(e=0){return Nt(e)},rubberband(e=0){switch(e){case!0:return Nt(_r);case!1:return Nt(0);default:return Nt(e)}},enabled(e=!0){return e},triggerAllEvents(e=!1){return e},initial(e=0){return typeof e=="function"?e:Nt(e)},transform:!0},Ke={...Un,axis:!0,lockDirection(e=!1){return e},bounds(e={}){if(typeof e=="function")return r=>Ke.bounds(e(r));const{left:t=-1/0,right:n=1/0,top:s=-1/0,bottom:a=1/0}=e;return[[t,n],[s,a]]}},$r=typeof window<"u"&&window.document&&window.document.createElement,Tr={enabled(e=!0){return e},domTarget:!0,window(e=$r?window:void 0){return e},eventOptions({passive:e=!0,capture:t=!1}={}){return{passive:e,capture:t}},transform:!0},Cr={...Un,bounds(e,t,{distanceBounds:n={},angleBounds:s={}}){const a=i=>{const o=fn($e(n,i),{min:-1/0,max:1/0});return[o.min,o.max]},r=i=>{const o=fn($e(s,i),{min:-1/0,max:1/0});return[o.min,o.max]};return typeof n!="function"&&typeof s!="function"?[a(),r()]:i=>[a(i),r(i)]}},Mr={...Ke,useTouch(e=!0){return e&&In()},preventWindowScrollY(e=!1){return e},threshold(e,t,{filterTaps:n=!1,lockDirection:s=!1,axis:a=void 0}){const r=Nt(e,n?3:s||a?1:0);return this.filterTaps=n,r},swipeVelocity(e=xr){return Nt(e)},swipeDistance(e=Sr){return Nt(e)},swipeDuration(e=kr){return e},delay(e=0){switch(e){case!0:return wr;case!1:return 0;default:return e}}};function je(e){return de(e,Tr)}function Er(e={}){return de(e,Ke)}function Ir(e={}){return de(e,Cr)}function Dr(e={}){return de(e,Mr)}function Fr({domTarget:e,eventOptions:t,window:n,enabled:s,...a}){const r=je({domTarget:e,eventOptions:t,window:n,enabled:s});return r.drag=Dr(a),r}function Ar({domTarget:e,eventOptions:t,window:n,enabled:s,...a}){const r=je({domTarget:e,eventOptions:t,window:n,enabled:s});return r.pinch=Ir(a),r}function Pr({domTarget:e,eventOptions:t,window:n,enabled:s,...a}){const r=je({domTarget:e,eventOptions:t,window:n,enabled:s});return r.wheel=Er(a),r}function Ye(e,t,n={}){const s=Nr(e),a=new ar(s);return a.config=t,a.handlers=e,a.nativeRefs=n,is()&&!t.manual&&(rs(a.bind),os(a.clean)),a}function Nr(e){const t=new Set;return e.drag&&t.add(Ct.get("drag")),e.wheel&&t.add(Ct.get("wheel")),e.scroll&&t.add(Ct.get("scroll")),e.move&&t.add(Ct.get("move")),e.pinch&&t.add(Ct.get("pinch")),e.hover&&t.add(Ct.get("hover")),t}function Rr(e,t={}){Ct.set("drag",yr);const n=z();return n.value||(n.value=He(Fr,We)),Ye({drag:e},n.value(t))}class Or extends Bn{getInternalMovement(t,n){const s=n.values[1];let[a,r=s]=t,i=r-s,o=n.turns;return Math.abs(i)>270&&(o+=Ce(i)),Ve([a,r-360*o],n.initial)}getKinematics(t,n){const s=this.getMovement(t),a=(t[1]-s._movement[1]-this.state.initial[1])/360,r=n.timeStamp-this.state.timeStamp,{distance:i,velocity:o,...u}=Ln(s.movement,s.delta,r);return{turns:a,...s,...u}}mapStateValues(t){return{da:t.values,vdva:t.velocities}}}var zr=Object.defineProperty,Lr=(e,t,n)=>t in e?zr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,tt=(e,t,n)=>(Lr(e,typeof t!="symbol"?t+"":t,n),n);const Br=7,Gr=260;class Ur extends Or{constructor(){super(...arguments),tt(this,"ingKey","pinching"),tt(this,"stateKey","pinch"),tt(this,"onPinchStart",t=>{Nn(this.controller,t);const n=this.controller.touchIds;if(!this.enabled||this.state._active&&this.state._pointerIds.every(i=>n.has(i))||n.size<2)return;const s=Array.from(n).slice(0,2),{values:a,origin:r}=ln(t,s,this.transform);this.updateSharedState(Tt(t)),this.updateGestureState({...oe(this,a,t),...it(this,t,!0),_pointerIds:s,cancel:this.onCancel,origin:r}),this.updateGestureState(this.getMovement(a)),this.fireGestureHandler()}),tt(this,"onPinchChange",t=>{const{canceled:n,_active:s}=this.state;if(n||!s||t.timeStamp===this.state.timeStamp)return;const a=Tt(t);this.updateSharedState(a);try{const{values:r,origin:i}=ln(t,this.state._pointerIds,this.transform),o=this.getKinematics(r,t);this.updateGestureState({...it(this,t),...o,origin:i}),this.fireGestureHandler()}catch{this.onPinchEnd(t)}}),tt(this,"onPinchEnd",t=>{Rn(this.controller,t);const n=Ue(t);this.state._pointerIds.every(s=>!n.includes(s))||(this.clean(),this.state._active&&(this.updateGestureState({...it(this,t),...this.getMovement(this.state.values),_active:!1}),this.fireGestureHandler()))}),tt(this,"onCancel",()=>{this.state.canceled||(this.updateGestureState({_active:!1,canceled:!0}),this.fireGestureHandler())}),tt(this,"onGestureStart",t=>{if(!this.enabled)return;t.preventDefault();const n=dn(t,this.transform);this.updateSharedState(Tt(t)),this.updateGestureState({...oe(this,n,t),...it(this,t,!0),origin:[t.clientX,t.clientY],cancel:this.onCancel}),this.updateGestureState(this.getMovement(n)),this.fireGestureHandler()}),tt(this,"onGestureChange",t=>{const{canceled:n,_active:s}=this.state;if(n||!s)return;t.preventDefault();const a=Tt(t);this.updateSharedState(a);const r=dn(t,this.transform);r[0]=(r[0]-this.state.event.scale)*Gr+this.state.values[0];const i=this.getKinematics(r,t);this.updateGestureState({...it(this,t),...i,origin:[t.clientX,t.clientY]}),this.fireGestureHandler()}),tt(this,"onGestureEnd",t=>{this.clean(),this.state._active&&(this.updateGestureState({...it(this,t),...this.getMovement(this.state.values),_active:!1,origin:[t.clientX,t.clientY]}),this.fireGestureHandler())}),tt(this,"wheelShouldRun",t=>this.enabled&&t.ctrlKey),tt(this,"getWheelValuesFromEvent",t=>{const[,n]=Fn(t,this.transform),{values:[s,a]}=this.state;return{values:[s-n*Br,a!==void 0?a:0],origin:[t.clientX,t.clientY],delta:[0,n]}}),tt(this,"onWheel",t=>{this.wheelShouldRun(t)&&(this.setTimeout(this.onWheelEnd),this.state._active?this.onWheelChange(t):this.onWheelStart(t))}),tt(this,"onWheelStart",t=>{const{values:n,delta:s,origin:a}=this.getWheelValuesFromEvent(t);t.cancelable&&t.preventDefault(),this.updateSharedState(Tt(t)),this.updateGestureState({...oe(this,n,t),...it(this,t,!0),initial:this.state.values,offset:n,delta:s,origin:a}),this.updateGestureState(this.getMovement(n)),this.fireGestureHandler()}),tt(this,"onWheelChange",t=>{t.cancelable&&t.preventDefault(),this.updateSharedState(Tt(t));const{values:n,origin:s,delta:a}=this.getWheelValuesFromEvent(t);this.updateGestureState({...it(this,t),...this.getKinematics(n,t),origin:s,delta:a}),this.fireGestureHandler()}),tt(this,"onWheelEnd",()=>{this.clean(),this.state._active&&(this.state._active=!1,this.updateGestureState(this.getMovement(this.state.values)),this.fireGestureHandler())})}addBindings(t){this.controller.config.domTarget&&!this.controller.supportsTouchEvents&&this.controller.supportsGestureEvents?(Y(t,"onGestureStart",this.onGestureStart),Y(t,"onGestureChange",this.onGestureChange),Y(t,"onGestureEnd",this.onGestureEnd)):(Y(t,"onTouchStart",this.onPinchStart),Y(t,"onTouchMove",this.onPinchChange),Y(t,"onTouchEnd",this.onPinchEnd),Y(t,"onTouchCancel",this.onPinchEnd),Y(t,"onWheel",this.onWheel))}}var Vr=Object.defineProperty,Hr=(e,t,n)=>t in e?Vr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ne=(e,t,n)=>(Hr(e,typeof t!="symbol"?t+"":t,n),n);class Wr extends Gn{constructor(){super(...arguments),ne(this,"ingKey","wheeling"),ne(this,"stateKey","wheel"),ne(this,"debounced",!0),ne(this,"handleEvent",t=>{if(t.ctrlKey&&"pinch"in this.controller.handlers||!this.enabled)return;this.setTimeout(this.onEnd),this.updateSharedState(Tt(t));const n=Te(Fn(t,this.transform),this.state.values);if(this.state._active)this.updateGestureState({...it(this,t),...this.getKinematics(n,t)});else{this.updateGestureState({...oe(this,n,t),...it(this,t,!0),initial:this.state.values});const s=this.getMovement(n),a=cr(s.delta);this.updateGestureState(s),this.updateGestureState(a)}this.fireGestureHandler()}),ne(this,"onEnd",()=>{if(this.clean(),!this.state._active)return;const t=this.getMovement(this.state.values);this.updateGestureState(t),this.updateGestureState({_active:!1,velocities:[0,0],velocity:0}),this.fireGestureHandler()})}addBindings(t){Y(t,"onWheel",this.handleEvent)}}function Kr(e,t={}){Ct.set("pinch",Ur);const n=z();return n.value||(n.value=He(Ar,We)),Ye({pinch:e},n.value(t))}function jr(e,t={}){Ct.set("wheel",Wr);const n=z();return n.value||(n.value=He(Pr,We)),Ye({wheel:e},n.value(t))}function Yr(e,t){const n=us(t),s=O(()=>{var p;return((p=l(n))==null?void 0:p.enabled)??!0}),a=z(!1),r=z([0,0]),i=z(1),o=O({set(p){return p>10?i.value=10:p<.1?i.value=.1:i.value=p,i.value},get(){return i.value}}),u=z([0,0]),d=O(()=>{var p;return(p=ze(e))==null?void 0:p.getBoundingClientRect()}),m=p=>(p=(p+1800)/1800,p<=0?.01:p),b=({wheeling:p,dragging:v,pinching:y,intentional:S,enabled:I,touches:g,ctrlKey:D,event:C})=>{const _=!I||!S?!1:v&&(g===2||"pointerType"in C&&C.pointerType==="mouse")||y||p&&!D;return a.value?requestAnimationFrame(()=>a.value=_):a.value=_,_};return Rr(({wheeling:p,dragging:v,pinching:y,touches:S,intentional:I,delta:g,ctrlKey:D,event:C})=>{b({wheeling:p,dragging:v,pinching:y,intentional:I,enabled:s.value,ctrlKey:D,touches:S,event:C})&&(r.value[0]+=g[0],r.value[1]+=g[1])},{domTarget:e,filterTaps:!0}),jr(({event:p,delta:v,wheeling:y,dragging:S,pinching:I,touches:g,intentional:D,ctrlKey:C})=>{b({dragging:S,pinching:I,wheeling:y,intentional:D,enabled:s.value,touches:g,ctrlKey:C,event:p})&&(p.preventDefault(),r.value[0]+=v[0],r.value[1]+=v[1])},{domTarget:e,eventOptions:{passive:!1}}),Kr(({offset:[p],origin:v,pinching:y,dragging:S,wheeling:I,ctrlKey:g,touches:D,intentional:C,event:_})=>{if(!b({dragging:S,pinching:y,wheeling:I,intentional:C,enabled:s.value,touches:D,ctrlKey:g,event:_}))return;const V=o.value;o.value=m(p),d.value&&(v[0]-=d.value.x,v[1]-=d.value.y,r.value[0]-=(v[0]-d.value.width/2)*(o.value-V),r.value[1]-=(v[1]-d.value.height/2)*(o.value-V)),r.value[0]-=v[0]-u.value[0],r.value[1]-=v[1]-u.value[1],u.value=v},{domTarget:e,eventOptions:{passive:!1},distanceBounds:()=>({min:-1800,max:16200})}),{offset:O(()=>[r.value[0]+u.value[0],r.value[1]+u.value[1]]),zoom:o,transformOrigin:u,active:a}}const Vn=jt(()=>Yr(Me())),Hn=jt(()=>{const e=z(""),t=z(0),n=z(0);return{src:e,width:t,height:n,processFiles:a=>{if(!((a==null?void 0:a[0])instanceof File))return;const r=new FileReader;r.addEventListener("load",i=>{var o;if((o=i.target)!=null&&o.result){const u=new Image;u.onload=()=>{e.value=u.src,t.value=u.width,n.value=u.height},u.src=i.target.result.toString()}}),r.readAsDataURL(a[0])}}}),qr={class:"d-none md-d-inline-block"},Xr={class:"d-none md-d-inline-block"},Zr={key:0},Jr=ot({__name:"BoardControls",props:{info:{type:Array,required:!0}},setup(e){const{t}=Kt(),{lines:n}=ke(),s=Ge(n),{zoom:a,transformOrigin:r}=Vn(),i=Ee(),o=Me(),u=O(()=>{const H=ze(o);return H?H.viewBox.baseVal:{x:0,y:0,width:0,height:0}});function d(){r.value=[(u.value.width/2-(u.value.x+u.value.width/2)/2)*a.value,(u.value.height/2-(u.value.y+u.value.height/2)/2)*a.value]}function m(){d(),a.value+=.1}function b(){d(),a.value-=.1}const{toggle:p,isFullscreen:v,isSupported:y}=cs(i),{undo:S,redo:I,canUndo:g,canRedo:D}=ke(),C=O(()=>`${t("board.nav.undo")} [ctrl + z][⌘ + z]`),_=O(()=>`${t("board.nav.redo")} [ctrl + shift + z][⌘ + shift + z]`),V=z();Q(s,H=>H===void 0?V.value=void 0:V.value=H>90?180-H:H);const L=O(()=>V.value?180-V.value:void 0),{processFiles:St}=Hn(),{files:It,open:Rt}=ds({multiple:!1,accept:"image/*"});return fs(It,H=>{St(Array.from(H))}),wn("f",p),(H,P)=>{const N=Ci,f=vi,h=Wt,k=Va;return $(),M("div",{class:T([H.$style.bar,"pointer-none"])},[c("div",{class:T(["pointer-all bg-bg-transparent-inverse text-inverse whitespace-nowrap",H.$style["info-box"]]),onMousemoveCapture:P[0]||(P[0]=nt(()=>{},["prevent","stop"]))},[A(N,{value:l(V)},{default:W(()=>[A(l(Wi))]),_:1},8,["value"]),A(N,{value:l(L)},{default:W(()=>[A(l(tr))]),_:1},8,["value"])],34),($(!0),M(ht,null,Zt(e.info,F=>($(),M("li",{key:F,class:T(["bg-bg-transparent-inverse text-inverse min-w-0",H.$style["info-box"]])},[c("small",null,U(F),1)],2))),128)),c("nav",{class:T(H.$style.nav)},[c("ul",{class:T(["pointer-all",H.$style.nav__btns])},[A(f),c("li",null,[A(h,{disabled:!l(g),tooltip:l(C),"tooltip-placement":"left",onClick:l(S),onTouchstartCapture:nt(l(S),["prevent","stop"])},{default:W(()=>[A(l(Yi))]),_:1},8,["disabled","tooltip","onClick","onTouchstartCapture"])]),c("li",null,[A(h,{disabled:!l(D),tooltip:l(_),"tooltip-placement":"left",onClick:l(I),onTouchstartCapture:nt(l(I),["prevent","stop"])},{default:W(()=>[A(l(Zi))]),_:1},8,["disabled","tooltip","onClick","onTouchstartCapture"])]),A(k,{disabled:l(g)},null,8,["disabled"]),c("li",null,[A(h,{tooltip:l(t)("board.nav.upload_file"),"tooltip-placement":"left",onClick:P[1]||(P[1]=F=>l(Rt)()),onTouchstartCapture:P[2]||(P[2]=nt(()=>{},["stop"]))},{default:W(()=>[A(l(Ui))]),_:1},8,["tooltip"])]),c("li",qr,[A(h,{disabled:!l(g),tooltip:`${l(t)("board.result.zoom_out")} [-]`,"tooltip-placement":"left",onClick:P[3]||(P[3]=F=>b()),onTouchstartCapture:P[4]||(P[4]=nt(F=>b(),["prevent","stop"]))},{default:W(()=>[A(l(Li))]),_:1},8,["disabled","tooltip"])]),c("li",Xr,[A(h,{disabled:!l(g),tooltip:`${l(t)("board.result.zoom_in")} [+]`,"tooltip-placement":"left",onClick:P[5]||(P[5]=F=>m()),onTouchstartCapture:P[6]||(P[6]=nt(F=>m(),["prevent","stop"]))},{default:W(()=>[A(l(Ri))]),_:1},8,["disabled","tooltip"])]),l(y)?($(),M("li",Zr,[A(h,{tooltip:`${l(t)("board.nav.toggle_fullscreen")} [f]`,"tooltip-placement":"left",onClick:l(p),onTouchstartCapture:nt(l(p),["prevent","stop"])},{default:W(()=>[l(v)?($(),rt(l(Ai),{key:0})):($(),rt(l(Ii),{key:1}))]),_:1},8,["tooltip","onClick","onTouchstartCapture"])])):ft("",!0)],2)],2)],2)}}}),Qr="f_w",to="f_x",eo={bar:Qr,nav__btns:to,"info-box":"f_y"},no={$style:eo},so=Et(Jr,[["__cssModules",no]]),ao=["x1","y1","x2","y2"],io=ot({__name:"Segment",props:{pointStart:{type:Array,default:void 0},pointStop:{type:Array,default:void 0}},setup(e){return(t,n)=>e.pointStart&&e.pointStop?($(),M("line",{key:0,x1:e.pointStart[0],y1:e.pointStart[1],x2:e.pointStop[0],y2:e.pointStop[1]},null,8,ao)):ft("",!0)}}),ro=hs((e,t,n,s)=>{if(!e||!t||!n||!s)return;e===n&&(e+=.1);const a=(t-s)/(e-n),r=s-n*a;return{slope:a,intercept:r}});function ue(e){return O(()=>ro(...e.value[0]||[],...e.value[1]||[]))}var E=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},w=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},Ft,Bt,dt,qt,se,pt,mt,bt,gt,yt,wt,_t,xt,Gt,Xt,At,ge,Pt;const oo=function(e){var t=131,n=137,s=0;e+="x";var a=Math.floor(9007199254740991/n);for(let r=0;r<e.length;r++)s>a&&(s=Math.floor(s/n)),s=s*t+e.charCodeAt(r);return s},x="0123456789abcdef".split(""),lo=[-2147483648,8388608,32768,128],ct=[24,16,8,0],pe=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],q=[];class uo{constructor(t=!1,n=!1){Ft.set(this,void 0),Bt.set(this,void 0),dt.set(this,void 0),qt.set(this,void 0),se.set(this,void 0),pt.set(this,void 0),mt.set(this,void 0),bt.set(this,void 0),gt.set(this,void 0),yt.set(this,void 0),wt.set(this,void 0),_t.set(this,void 0),xt.set(this,void 0),Gt.set(this,void 0),Xt.set(this,void 0),At.set(this,void 0),ge.set(this,0),Pt.set(this,void 0),this.init(t,n)}init(t,n){n?(q[0]=q[16]=q[1]=q[2]=q[3]=q[4]=q[5]=q[6]=q[7]=q[8]=q[9]=q[10]=q[11]=q[12]=q[13]=q[14]=q[15]=0,E(this,Bt,q)):E(this,Bt,[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),t?(E(this,pt,3238371032),E(this,mt,914150663),E(this,bt,812702999),E(this,gt,4144912697),E(this,yt,4290775857),E(this,wt,1750603025),E(this,_t,1694076839),E(this,xt,3204075428)):(E(this,pt,1779033703),E(this,mt,3144134277),E(this,bt,1013904242),E(this,gt,2773480762),E(this,yt,1359893119),E(this,wt,2600822924),E(this,_t,528734635),E(this,xt,1541459225)),E(this,Ft,E(this,Pt,E(this,dt,E(this,Xt,0)))),E(this,qt,E(this,Gt,!1)),E(this,se,!0),E(this,At,t)}update(t){if(w(this,qt))return this;let n;t instanceof ArrayBuffer?n=new Uint8Array(t):n=t;let s=0;const a=n.length,r=w(this,Bt);for(;s<a;){let i;if(w(this,Gt)&&(E(this,Gt,!1),r[0]=w(this,Ft),r[16]=r[1]=r[2]=r[3]=r[4]=r[5]=r[6]=r[7]=r[8]=r[9]=r[10]=r[11]=r[12]=r[13]=r[14]=r[15]=0),typeof n!="string")for(i=w(this,Pt);s<a&&i<64;++s)r[i>>2]|=n[s]<<ct[i++&3];else for(i=w(this,Pt);s<a&&i<64;++s){let o=n.charCodeAt(s);o<128?r[i>>2]|=o<<ct[i++&3]:o<2048?(r[i>>2]|=(192|o>>6)<<ct[i++&3],r[i>>2]|=(128|o&63)<<ct[i++&3]):o<55296||o>=57344?(r[i>>2]|=(224|o>>12)<<ct[i++&3],r[i>>2]|=(128|o>>6&63)<<ct[i++&3],r[i>>2]|=(128|o&63)<<ct[i++&3]):(o=65536+((o&1023)<<10|n.charCodeAt(++s)&1023),r[i>>2]|=(240|o>>18)<<ct[i++&3],r[i>>2]|=(128|o>>12&63)<<ct[i++&3],r[i>>2]|=(128|o>>6&63)<<ct[i++&3],r[i>>2]|=(128|o&63)<<ct[i++&3])}E(this,ge,i),E(this,dt,w(this,dt)+(i-w(this,Pt))),i>=64?(E(this,Ft,r[16]),E(this,Pt,i-64),this.hash(),E(this,Gt,!0)):E(this,Pt,i)}return w(this,dt)>4294967295&&(E(this,Xt,w(this,Xt)+(w(this,dt)/4294967296<<0)),E(this,dt,w(this,dt)%4294967296)),this}finalize(){if(w(this,qt))return;E(this,qt,!0);const t=w(this,Bt),n=w(this,ge);t[16]=w(this,Ft),t[n>>2]|=lo[n&3],E(this,Ft,t[16]),n>=56&&(w(this,Gt)||this.hash(),t[0]=w(this,Ft),t[16]=t[1]=t[2]=t[3]=t[4]=t[5]=t[6]=t[7]=t[8]=t[9]=t[10]=t[11]=t[12]=t[13]=t[14]=t[15]=0),t[14]=w(this,Xt)<<3|w(this,dt)>>>29,t[15]=w(this,dt)<<3,this.hash()}hash(){let t=w(this,pt),n=w(this,mt),s=w(this,bt),a=w(this,gt),r=w(this,yt),i=w(this,wt),o=w(this,_t),u=w(this,xt);const d=w(this,Bt);let m,b,p,v,y,S,I,g,D,C;for(let _=16;_<64;++_)v=d[_-15],m=(v>>>7|v<<25)^(v>>>18|v<<14)^v>>>3,v=d[_-2],b=(v>>>17|v<<15)^(v>>>19|v<<13)^v>>>10,d[_]=d[_-16]+m+d[_-7]+b<<0;C=n&s;for(let _=0;_<64;_+=4)w(this,se)?(w(this,At)?(I=300032,v=d[0]-1413257819,u=v-150054599<<0,a=v+24177077<<0):(I=704751109,v=d[0]-210244248,u=v-1521486534<<0,a=v+143694565<<0),E(this,se,!1)):(m=(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10),b=(r>>>6|r<<26)^(r>>>11|r<<21)^(r>>>25|r<<7),I=t&n,p=I^t&s^C,S=r&i^~r&o,v=u+b+S+pe[_]+d[_],y=m+p,u=a+v<<0,a=v+y<<0),m=(a>>>2|a<<30)^(a>>>13|a<<19)^(a>>>22|a<<10),b=(u>>>6|u<<26)^(u>>>11|u<<21)^(u>>>25|u<<7),g=a&t,p=g^a&n^I,S=u&r^~u&i,v=o+b+S+pe[_+1]+d[_+1],y=m+p,o=s+v<<0,s=v+y<<0,m=(s>>>2|s<<30)^(s>>>13|s<<19)^(s>>>22|s<<10),b=(o>>>6|o<<26)^(o>>>11|o<<21)^(o>>>25|o<<7),D=s&a,p=D^s&t^g,S=o&u^~o&r,v=i+b+S+pe[_+2]+d[_+2],y=m+p,i=n+v<<0,n=v+y<<0,m=(n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10),b=(i>>>6|i<<26)^(i>>>11|i<<21)^(i>>>25|i<<7),C=n&s,p=C^n&a^D,S=i&o^~i&u,v=r+b+S+pe[_+3]+d[_+3],y=m+p,r=t+v<<0,t=v+y<<0;E(this,pt,w(this,pt)+t<<0),E(this,mt,w(this,mt)+n<<0),E(this,bt,w(this,bt)+s<<0),E(this,gt,w(this,gt)+a<<0),E(this,yt,w(this,yt)+r<<0),E(this,wt,w(this,wt)+i<<0),E(this,_t,w(this,_t)+o<<0),E(this,xt,w(this,xt)+u<<0)}hex(){this.finalize();const t=w(this,pt),n=w(this,mt),s=w(this,bt),a=w(this,gt),r=w(this,yt),i=w(this,wt),o=w(this,_t),u=w(this,xt);let d=x[t>>28&15]+x[t>>24&15]+x[t>>20&15]+x[t>>16&15]+x[t>>12&15]+x[t>>8&15]+x[t>>4&15]+x[t&15]+x[n>>28&15]+x[n>>24&15]+x[n>>20&15]+x[n>>16&15]+x[n>>12&15]+x[n>>8&15]+x[n>>4&15]+x[n&15]+x[s>>28&15]+x[s>>24&15]+x[s>>20&15]+x[s>>16&15]+x[s>>12&15]+x[s>>8&15]+x[s>>4&15]+x[s&15]+x[a>>28&15]+x[a>>24&15]+x[a>>20&15]+x[a>>16&15]+x[a>>12&15]+x[a>>8&15]+x[a>>4&15]+x[a&15]+x[r>>28&15]+x[r>>24&15]+x[r>>20&15]+x[r>>16&15]+x[r>>12&15]+x[r>>8&15]+x[r>>4&15]+x[r&15]+x[i>>28&15]+x[i>>24&15]+x[i>>20&15]+x[i>>16&15]+x[i>>12&15]+x[i>>8&15]+x[i>>4&15]+x[i&15]+x[o>>28&15]+x[o>>24&15]+x[o>>20&15]+x[o>>16&15]+x[o>>12&15]+x[o>>8&15]+x[o>>4&15]+x[o&15];return w(this,At)||(d+=x[u>>28&15]+x[u>>24&15]+x[u>>20&15]+x[u>>16&15]+x[u>>12&15]+x[u>>8&15]+x[u>>4&15]+x[u&15]),d}toString(){return this.hex()}digest(){this.finalize();const t=w(this,pt),n=w(this,mt),s=w(this,bt),a=w(this,gt),r=w(this,yt),i=w(this,wt),o=w(this,_t),u=w(this,xt),d=[t>>24&255,t>>16&255,t>>8&255,t&255,n>>24&255,n>>16&255,n>>8&255,n&255,s>>24&255,s>>16&255,s>>8&255,s&255,a>>24&255,a>>16&255,a>>8&255,a&255,r>>24&255,r>>16&255,r>>8&255,r&255,i>>24&255,i>>16&255,i>>8&255,i&255,o>>24&255,o>>16&255,o>>8&255,o&255];return w(this,At)||d.push(u>>24&255,u>>16&255,u>>8&255,u&255),d}array(){return this.digest()}arrayBuffer(){this.finalize();const t=new ArrayBuffer(w(this,At)?28:32),n=new DataView(t);return n.setUint32(0,w(this,pt)),n.setUint32(4,w(this,mt)),n.setUint32(8,w(this,bt)),n.setUint32(12,w(this,gt)),n.setUint32(16,w(this,yt)),n.setUint32(20,w(this,wt)),n.setUint32(24,w(this,_t)),w(this,At)||n.setUint32(28,w(this,xt)),t}}Ft=new WeakMap,Bt=new WeakMap,dt=new WeakMap,qt=new WeakMap,se=new WeakMap,pt=new WeakMap,mt=new WeakMap,bt=new WeakMap,gt=new WeakMap,yt=new WeakMap,wt=new WeakMap,_t=new WeakMap,xt=new WeakMap,Gt=new WeakMap,Xt=new WeakMap,At=new WeakMap,ge=new WeakMap,Pt=new WeakMap;function co(e){const t=new uo;return t.update(e),parseInt(t.hex().substring(0,8),16)}const fo=function(e){var t="#";return e.forEach(function(n){n<16&&(t+=0),t+=n.toString(16)}),t},ho=function(e,t,n){e/=360;var s=n<.5?n*(1+t):n+t-n*t,a=2*n-s;return[e+1/3,e,e-1/3].map(function(r){return r<0&&r++,r>1&&r--,r<1/6?r=a+(s-a)*6*r:r<.5?r=s:r<2/3?r=a+(s-a)*6*(2/3-r):r=a,Math.round(r*255)})};class vo{constructor(t={}){const[n,s]=[t.lightness,t.saturation].map(function(a){return a=a!==void 0?a:[.35,.5,.65],Array.isArray(a)?a.concat():[a]});this.L=n,this.S=s,typeof t.hue=="number"&&(t.hue={min:t.hue,max:t.hue}),typeof t.hue=="object"&&!Array.isArray(t.hue)&&(t.hue=[t.hue]),typeof t.hue>"u"&&(t.hue=[]),this.hueRanges=t.hue.map(function(a){return{min:typeof a.min>"u"?0:a.min,max:typeof a.max>"u"?360:a.max}}),this.hash=co,typeof t.hash=="function"&&(this.hash=t.hash),t.hash==="bkdr"&&(this.hash=oo)}hsl(t){var n,s,a,r=this.hash(t),i=727;if(this.hueRanges.length){const o=this.hueRanges[r%this.hueRanges.length];n=r/this.hueRanges.length%i*(o.max-o.min)/i+o.min}else n=r%359;return r=Math.ceil(r/360),s=this.S[r%this.S.length],r=Math.ceil(r/this.S.length),a=this.L[r%this.L.length],[n,s,a]}rgb(t){var n=this.hsl(t);return ho.apply(this,n)}hex(t){var n=this.rgb(t);return fo(n)}}const po=Array.from({length:550},(e,t)=>(t+401)/1e3),mo=Array.from({length:551},(e,t)=>(t+50)/1e3);function Oe(e){return O(()=>{const t=JSON.stringify(e.value),n=De.value?po:mo,[s,a,r]=new vo({lightness:n}).hsl(t);return`hsl(${[s,`${De.value&&r<.3||!De.value&&r>.7?Math.min(a+.4,1)*100:a*100}%`,`${r*100}%`].join(",")})`})}const Wn=ot({__name:"Line",props:{points:{type:Array,default:()=>[]},pathWidth:{type:Number,default:1},svgSize:{type:Object,default:void 0},svgOffset:{type:Object,default:void 0}},setup(e){const t=e,n=ue(Ze(t,"points")),s=Oe(Ze(t,"points")),a=O(()=>{var p,v,y,S;const{svgSize:i,svgOffset:o}=t;if(!i||!o||!n.value||((p=t.points[0])==null?void 0:p[0])===((v=t.points[1])==null?void 0:v[0])&&((y=t.points[0])==null?void 0:y[1])===((S=t.points[1])==null?void 0:S[1]))return;const{slope:u,intercept:d}=n.value,m=o.x,b=i.width+o.x;return[[m,u*m+d],[b,u*b+d]]}),r=O(()=>`${t.pathWidth} ${2*t.pathWidth}`);return(i,o)=>{const u=io;return $(),M(ht,null,[a.value?($(),M(ht,{key:0},[A(u,Vt(i.$attrs,{"stroke-width":e.pathWidth*.8,stroke:"var(--background-color-transparent)","point-start":a.value[0],"point-stop":a.value[1],"stroke-dasharray":r.value,"stroke-linecap":"round",opacity:".2"}),null,16,["stroke-width","point-start","point-stop","stroke-dasharray"]),A(u,Vt({"stroke-width":e.pathWidth*.4,stroke:l(s)},i.$attrs,{"point-start":a.value[0],"point-stop":a.value[1],"stroke-dasharray":r.value,"stroke-linecap":"round"}),null,16,["stroke-width","stroke","point-start","point-stop","stroke-dasharray"])],64)):ft("",!0),A(u,Vt(i.$attrs,{"stroke-width":e.pathWidth*1.2,stroke:"var(--background-color-transparent)","point-start":e.points[0],"point-stop":e.points[1],"stroke-linecap":"round",opacity:".3"}),null,16,["stroke-width","point-start","point-stop"]),A(u,Vt({stroke:l(s)},i.$attrs,{"stroke-linecap":"round","point-start":e.points[0],"point-stop":e.points[1]}),null,16,["stroke","point-start","point-stop"])],64)}}}),bo={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"};function go(e,t){return $(),M("svg",bo,t[0]||(t[0]=[c("path",{fill:"currentColor",d:"M24 19h-3v-3h-2v3h-3v2h3v3h2v-3h3z"},null,-1),c("path",{fill:"currentColor",d:"m31 29.586l-4.688-4.688a8.028 8.028 0 1 0-1.415 1.414L29.586 31zM20 26a6 6 0 1 1 6-6a6.007 6.007 0 0 1-6 6M4 8H2V4a2 2 0 0 1 2-2h4v2H4zm22 0h-2V4h-4V2h4a2 2 0 0 1 2 2zM12 2h4v2h-4zM8 26H4a2 2 0 0 1-2-2v-4h2v4h4zM2 12h2v4H2z"},null,-1)]))}const yo=X({name:"carbon-zoom-in-area",render:go}),wo={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"};function _o(e,t){return $(),M("svg",wo,t[0]||(t[0]=[c("path",{fill:"currentColor",d:"M16 19h8v2h-8z"},null,-1),c("path",{fill:"currentColor",d:"m31 29.586l-4.688-4.688a8.028 8.028 0 1 0-1.415 1.414L29.586 31zM20 26a6 6 0 1 1 6-6a6.007 6.007 0 0 1-6 6M4 8H2V4a2 2 0 0 1 2-2h4v2H4zm22 0h-2V4h-4V2h4a2 2 0 0 1 2 2zM12 2h4v2h-4zM8 26H4a2 2 0 0 1-2-2v-4h2v4h4zM2 12h2v4H2z"},null,-1)]))}const xo=X({name:"carbon-zoom-out-area",render:_o});var kt=(e=>(e[e.UP=0]="UP",e[e.DOWN=1]="DOWN",e[e.LEFT=2]="LEFT",e[e.RIGHT=3]="RIGHT",e))(kt||{});const Kn=jt(()=>{const e=z(!1);return{outOfBoundLabels:e,setOutBoundLabels(t,n,s){const a={x:30,y:4.5},r=t.find(({x:u,y:d})=>(u-=s.x,d-=s.y,u<a.x||u>n.width-a.x||d<a.y+3||d>n.height-a.y));if(!r)return e.value=!1;let{x:i,y:o}=r;return i-=s.x,o-=s.y,i<a.x?e.value={direction:2,y:o}:i>n.width-a.x?e.value={direction:3,y:o}:o<a.y+3?e.value={direction:0,x:i}:e.value={direction:1,x:i}}}});function jn(e,t){return O(()=>{if(!e.value||!t.value)return;const{slope:n,intercept:s}=e.value,{slope:a,intercept:r}=t.value;let i;return n===a?i=r-s:i=(s-r)/(a-n),{x:i,y:n*i+s}})}function Yn(e,t,n,s){return O(()=>{if(!t.value||!n.value||!s.value||!e.value)return;const a=n.value,r=s.value;let i=Math.tan((Math.atan(a.slope)+Math.atan(r.slope))/2),o=-1/i,u=a.slope*t.value.x+a.intercept-i*t.value.x,d=a.slope*t.value.x+a.intercept-o*t.value.x;const m=En([[[0,a.intercept],[t.value.x,a.slope*t.value.x+a.intercept]],[[0,u],[t.value.x,i*t.value.x+u]]])*2;return(m-1>e.value||m+1<e.value)&&([i,u,o,d]=[o,d,i,u]),{acute:{slope:i,intercept:u},obtuse:{slope:o,intercept:d}}})}function qn(e,t,n){const s=z([]);return vs([t,n,e],()=>{if(!t.value||!n.value||!e.value)return s.value=[];const{acute:{slope:a,intercept:r},obtuse:{slope:i,intercept:o}}=n.value,u=70,d=e.value,m=Math.cos(Math.atan(a))*(u+(90-d)*.4)+t.value.x,b=180-d,p=-Math.cos(Math.atan(i))*(u+(90-b)*.4)+t.value.x;s.value=[{x:m,y:a*m+r,value:d},{x:p,y:i*p+o,value:b}]},{throttle:20,immediate:!0}),s}function gn(e,t){return O(()=>{if(!t.value||!e.value)return;const{slope:n,intercept:s}=e.value,{x1:a,x2:r}=t.value;return[[a,n*a+s],[r,n*r+s]]})}const So=["viewBox"],ko=["transform"],$o=["x","y"],To=ot({__name:"BoardResult",setup(e){const{t}=Kt(),n=z(!1);function s(){n.value&&(n.value=!1)}const a=z();ps(a,s),wn("Escape",s);const{height:r,width:i}=Le(Ee()),o=O(()=>({width:300,height:300*r.value/i.value})),{outOfBoundLabels:u}=Kn(),d=O(()=>{const P=n.value?260:50;return{width:P,height:P}}),m=O(()=>({minY:d.value.height,maxY:r.value-d.value.height,minX:d.value.width,maxX:i.value-d.value.width})),b=O(()=>{const{minX:P,maxX:N,minY:f,maxY:h}=m.value,k=B=>B>h?h:B<f?f:B,F=B=>B>N?N:B<P?P:B;if(!u.value)return;const R={height:`${d.value.height}px`,width:`${d.value.width}px`};switch(u.value.direction){case kt.DOWN:return{...R,bottom:"1rem",left:`${F(u.value.x)}px`,transform:"translateX(-50%)"};case kt.UP:return{...R,top:"1rem",left:`${F(u.value.x)}px`,transform:"translateX(-50%)"};case kt.LEFT:return{...R,top:`${k(u.value.y)}px`,left:"1rem",transform:"translateY(-50%)"};case kt.RIGHT:return{...R,top:`${k(u.value.y)}px`,right:"1rem",transform:"translateY(-50%)"}}}),{lines:p}=ke(),v=Ge(p),y=O(()=>p.value[0]||[]),S=O(()=>p.value[1]||[]),I=ue(y),g=ue(S),D=jn(I,g),C=Yn(v,D,I,g),_=qn(v,D,C),V=O(()=>D.value&&{x1:D.value.x-o.value.width,x2:D.value.x+o.value.width}),L=gn(I,V),St=gn(g,V),It=Oe(y),Rt=Oe(S),H={[kt.UP]:"bottom",[kt.DOWN]:void 0,[kt.LEFT]:"right",[kt.RIGHT]:"left"};return(P,N)=>{const f=Wt,h=Wn;return l(I)&&l(g)&&l(D)&&l(u)?($(),M("section",{key:0,ref_key:"el",ref:a,class:T(["bg-bg-transparent-inverse text-inverse",[P.$style.result,{[P.$style["result--open"]]:l(n)}]]),style:me(l(b)),onMousemove:N[0]||(N[0]=nt(()=>{},["prevent","stop"])),onClick:N[1]||(N[1]=k=>n.value=!l(n))},[A(f,{class:T(P.$style.btn),tooltip:l(n)?l(t)("board.result.zoom_out"):l(t)("board.result.zoom_in"),"tooltip-placement":l(n)?"left":H[l(u).direction]},{default:W(()=>[($(),rt(ms(l(n)?l(xo):l(yo))))]),_:1},8,["class","tooltip","tooltip-placement"]),($(),M("svg",{viewBox:`${l(o).width*.1} ${l(o).height*.1} ${l(o).width*.8} ${l(o).height*.8}`,class:T(P.$style.svg)},[c("g",{transform:`translate(${-l(D).x+l(o).width*.5} ${-l(D).y+l(o).height*.5})`},[l(L)?($(),rt(h,Vt({key:0,"stroke-width":"4","stroke-linecap":"round"},P.$attrs,{stroke:l(It),"path-width":4,points:l(L),"stroke-dasharray":"5 10",filter:"saturate(2.5)"}),null,16,["stroke","points"])):ft("",!0),l(St)?($(),rt(h,Vt({key:1,"stroke-width":"4","stroke-linecap":"round"},P.$attrs,{stroke:l(Rt),"path-width":4,points:l(St),"stroke-dasharray":"5 10",filter:"saturate(2.5)"}),null,16,["stroke","points"])):ft("",!0),($(!0),M(ht,null,Zt(l(_),k=>($(),M("text",{key:`${k.x}|${k.y}`,x:k.x,y:k.y,"text-anchor":"middle","dominant-baseline":"middle",stroke:"transparent"},U(k.value.toFixed(3))+"° ",9,$o))),128))],8,ko)],10,So))],38)):ft("",!0)}}}),Co="f_z",Mo="f_1",Eo="f_2",Io={result:Co,"result--open":"f_0",svg:Mo,btn:Eo},Do={$style:Io},Fo=Et(To,[["__cssModules",Do]]),Ao=["viewBox","stroke-width"],Po=["cx","cy","r"],No=["x","y","stroke-width"],Ro=["x","y"],Oo=ot({__name:"BoardSvg",props:{width:{type:Number,default:0},height:{type:Number,default:0}},emits:["pressed"],setup(e,{emit:t}){const n=e,s=t,{width:a,height:r}=yn(n),i=Me(),o=z(!1),{ctrl:u,meta:d,option:m}=Be(),b=O(()=>{if(d.value)return"move"}),{offset:p,active:v,zoom:y,transformOrigin:S}=Vn(),I=O(()=>5/y.value),g=O(()=>({width:a.value/y.value,height:r.value/y.value})),D=O(()=>({x:-p.value[0]/y.value,y:-p.value[1]/y.value})),{elementX:C,elementY:_}=bs(i,{handleOutside:!1}),V=O(()=>(C.value-p.value[0])/y.value),L=O(()=>(_.value-p.value[1])/y.value),{undo:St,redo:It}=ye(C),{undo:Rt,redo:H}=ye(_),{lines:P,predictNextPoint:N,drawNextPoint:f,step:h,registerOnRedo:k,registerOnUndo:F}=ke();k(()=>{It(),H()}),F(()=>{St(),Rt()}),Q([V,L],([ut,J])=>{h.value===2&&N(ut,J)});const R=Ge(P),B=O(()=>P.value[0]||[]),G=O(()=>P.value[1]||[]),K=ue(B),j=ue(G),vt=jn(K,j),Ot=Yn(R,vt,K,j),lt=qn(R,vt,Ot),{setOutBoundLabels:zt}=Kn();Q([lt,g,D],([ut,J,Lt])=>zt(ut,J,Lt)),Q([a,r],([ut,J],[Lt,at])=>{S.value=[S.value[0]+(ut-Lt)/2,S.value[1]+(J-at)/2]});function Jt(){v.value||(f(V.value,L.value),s("pressed"))}return(ut,J)=>{const Lt=Wn;return $(),M("svg",{ref_key:"svgRef",ref:i,viewBox:`${l(D).x} ${l(D).y} ${l(g).width} ${l(g).height}`,"stroke-width":l(I),tabindex:"0",style:me({cursor:l(b)}),onTouchend:nt(Jt,["prevent"]),onMouseup:nt(Jt,["left","prevent"]),onMousedownOnce:J[0]||(J[0]=nt(at=>o.value=!0,["left"])),onMousemovePassiveOnce:J[1]||(J[1]=at=>o.value=!0),onTouchstartPassiveOnce:J[2]||(J[2]=at=>o.value=!0)},[ae(ut.$slots,"default"),l(h)%2?Dt(($(),M("circle",{key:0,cx:`${l(V)}px`,cy:`${l(L)}px`,r:l(I),"stroke-width":1},null,8,Po)),[[gs,l(o)&&!l(u)&&!l(d)&&!l(m)]]):($(),rt(Lt,{key:1,points:[l(P)[Math.floor(l(h)/2)][0],[l(V),l(L)]],"svg-size":l(g),"svg-offset":l(D),"path-width":l(I)},null,8,["points","svg-size","svg-offset","path-width"])),A(Lt,{points:l(P)[0],"svg-size":l(g),"svg-offset":l(D),"path-width":l(I)},null,8,["points","svg-size","svg-offset","path-width"]),A(Lt,{points:l(P)[1],"svg-size":l(g),"svg-offset":l(D),"path-width":l(I)},null,8,["points","svg-size","svg-offset","path-width"]),($(!0),M(ht,null,Zt(l(lt),at=>($(),M(ht,{key:`${at.x}|${at.y}`},[c("text",{x:at.x,y:at.y,"text-anchor":"middle","dominant-baseline":"middle",stroke:"var(--background-color-transparent)","stroke-width":l(I),style:me(`font-size:${l(I)/5}em`)},U(at.value.toFixed(3))+"° ",13,No),c("text",{x:at.x,y:at.y,"text-anchor":"middle","dominant-baseline":"middle",stroke:"transparent",style:me(`font-size:${l(I)/5}em`)},U(at.value.toFixed(3))+"° ",13,Ro)],64))),128))],44,Ao)}}}),zo=["href","x","y","height","width"],Lo=ot({__name:"Board",setup(e){const{t}=Kt(),n=z(!0),s=Ee(),{height:a,width:r}=Le(s),{src:i,width:o,height:u,processFiles:d}=Hn(),m=z(0),b=z(0);Q(i,()=>{if(u&&o)if(o.value>r.value||u.value>a.value){const y=Math.min(r.value/o.value,a.value/u.value);m.value=u.value*y,b.value=o.value*y}else m.value=u.value,b.value=o.value});const{isOverDropZone:p}=ys(s,d),v=O(()=>p.value?[t("board.drop_file_here")]:[]);return(y,S)=>{const I=Oo,g=Fo,D=so;return $(),M("div",{ref_key:"boardRef",ref:s,class:T(y.$style.board)},[A(I,{class:T(y.$style.board__svg),width:l(r),height:l(a),onPressed:S[0]||(S[0]=C=>n.value=!1)},{default:W(()=>[l(i)?($(),M("image",{key:0,href:l(i),x:l(b)/-2,y:l(m)/-2,height:`${l(m)}`,width:`${l(b)}`},null,8,zo)):ft("",!0)]),_:1},8,["class","width","height"]),l(n)&&!l(i)?($(),M("div",{key:0,class:T(y.$style.board__hint)},U(l(t)("board.click_this_button_or_drop")),3)):ft("",!0),A(g),A(D,{class:T(y.$style.board__nav),info:l(v),"onUpdate:files":l(d)},null,8,["class","info","onUpdate:files"])],2)}}}),Bo="f_h",Go="f_i",Uo="f_j",Vo="f_k",Ho={board:Bo,board__svg:Go,board__nav:Uo,board__hint:Vo},Wo={$style:Ho},Ko=Et(Lo,[["__cssModules",Wo]]),jo={};function Yo(e,t){const n=Ko;return $(),rt(n,{class:"flex-grow"})}const Jo=Et(jo,[["render",Yo]]);export{Jo as default};
