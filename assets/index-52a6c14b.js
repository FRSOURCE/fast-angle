import{d as tt,q as P,s as j,v as Ce,x as Hn,y as Vn,u as zt,o as $,c as J,b as A,w as H,a as c,z as At,A as Y,j as N,B as Kt,n as C,l as q,k as l,T as Wn,m as it,C as Rt,e as et,E as Pt,h as z,i as M,F as Kn,G as jn,H as ne,I as cn,J as xt,K as Ut,L as bt,M as Ne,N as rt,O as Lt,P as Te,Q as Me,r as qn,R as Yn,S as Xn,U as Le,V as Zn,W as ue,X as Jn,Y as Qn,Z as ts,$ as es,a0 as ns,a1 as ss,a2 as as,a3 as os,a4 as dn,a5 as is,a6 as we,a7 as Ge,a8 as rs,a9 as ls,aa as us,ab as ie,ac as cs,ad as ds,ae as hs}from"./app-952415b7.js";/*!
* tabbable 6.1.2
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var hn=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],ce=hn.join(","),fn=typeof Element>"u",Ft=fn?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,de=!fn&&Element.prototype.getRootNode?function(n){var t;return n==null||(t=n.getRootNode)===null||t===void 0?void 0:t.call(n)}:function(n){return n==null?void 0:n.ownerDocument},he=function n(t,e){var s;e===void 0&&(e=!0);var a=t==null||(s=t.getAttribute)===null||s===void 0?void 0:s.call(t,"inert"),i=a===""||a==="true",o=i||e&&t&&n(t.parentNode);return o},fs=function(t){var e,s=t==null||(e=t.getAttribute)===null||e===void 0?void 0:e.call(t,"contenteditable");return s===""||s==="true"},vn=function(t,e,s){if(he(t))return[];var a=Array.prototype.slice.apply(t.querySelectorAll(ce));return e&&Ft.call(t,ce)&&a.unshift(t),a=a.filter(s),a},pn=function n(t,e,s){for(var a=[],i=Array.from(t);i.length;){var o=i.shift();if(!he(o,!1))if(o.tagName==="SLOT"){var r=o.assignedElements(),u=r.length?r:o.children,d=n(u,!0,s);s.flatten?a.push.apply(a,d):a.push({scopeParent:o,candidates:d})}else{var m=Ft.call(o,ce);m&&s.filter(o)&&(e||!t.includes(o))&&a.push(o);var g=o.shadowRoot||typeof s.getShadowRoot=="function"&&s.getShadowRoot(o),p=!he(g,!1)&&(!s.shadowRootFilter||s.shadowRootFilter(o));if(g&&p){var v=n(g===!0?o.children:g.children,!0,s);s.flatten?a.push.apply(a,v):a.push({scopeParent:o,candidates:v})}else i.unshift.apply(i,o.children)}}return a},mn=function(t,e){return t.tabIndex<0&&(e||/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName)||fs(t))&&isNaN(parseInt(t.getAttribute("tabindex"),10))?0:t.tabIndex},vs=function(t,e){return t.tabIndex===e.tabIndex?t.documentOrder-e.documentOrder:t.tabIndex-e.tabIndex},gn=function(t){return t.tagName==="INPUT"},ps=function(t){return gn(t)&&t.type==="hidden"},ms=function(t){var e=t.tagName==="DETAILS"&&Array.prototype.slice.apply(t.children).some(function(s){return s.tagName==="SUMMARY"});return e},gs=function(t,e){for(var s=0;s<t.length;s++)if(t[s].checked&&t[s].form===e)return t[s]},bs=function(t){if(!t.name)return!0;var e=t.form||de(t),s=function(r){return e.querySelectorAll('input[type="radio"][name="'+r+'"]')},a;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")a=s(window.CSS.escape(t.name));else try{a=s(t.name)}catch(o){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",o.message),!1}var i=gs(a,t.form);return!i||i===t},_s=function(t){return gn(t)&&t.type==="radio"},ys=function(t){return _s(t)&&!bs(t)},ws=function(t){var e,s=t&&de(t),a=(e=s)===null||e===void 0?void 0:e.host,i=!1;if(s&&s!==t){var o,r,u;for(i=!!((o=a)!==null&&o!==void 0&&(r=o.ownerDocument)!==null&&r!==void 0&&r.contains(a)||t!=null&&(u=t.ownerDocument)!==null&&u!==void 0&&u.contains(t));!i&&a;){var d,m,g;s=de(a),a=(d=s)===null||d===void 0?void 0:d.host,i=!!((m=a)!==null&&m!==void 0&&(g=m.ownerDocument)!==null&&g!==void 0&&g.contains(a))}}return i},Ue=function(t){var e=t.getBoundingClientRect(),s=e.width,a=e.height;return s===0&&a===0},xs=function(t,e){var s=e.displayCheck,a=e.getShadowRoot;if(getComputedStyle(t).visibility==="hidden")return!0;var i=Ft.call(t,"details>summary:first-of-type"),o=i?t.parentElement:t;if(Ft.call(o,"details:not([open]) *"))return!0;if(!s||s==="full"||s==="legacy-full"){if(typeof a=="function"){for(var r=t;t;){var u=t.parentElement,d=de(t);if(u&&!u.shadowRoot&&a(u)===!0)return Ue(t);t.assignedSlot?t=t.assignedSlot:!u&&d!==t.ownerDocument?t=d.host:t=u}t=r}if(ws(t))return!t.getClientRects().length;if(s!=="legacy-full")return!0}else if(s==="non-zero-area")return Ue(t);return!1},ks=function(t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))for(var e=t.parentElement;e;){if(e.tagName==="FIELDSET"&&e.disabled){for(var s=0;s<e.children.length;s++){var a=e.children.item(s);if(a.tagName==="LEGEND")return Ft.call(e,"fieldset[disabled] *")?!0:!a.contains(t)}return!0}e=e.parentElement}return!1},fe=function(t,e){return!(e.disabled||he(e)||ps(e)||xs(e,t)||ms(e)||ks(e))},Se=function(t,e){return!(ys(e)||mn(e)<0||!fe(t,e))},Ss=function(t){var e=parseInt(t.getAttribute("tabindex"),10);return!!(isNaN(e)||e>=0)},$s=function n(t){var e=[],s=[];return t.forEach(function(a,i){var o=!!a.scopeParent,r=o?a.scopeParent:a,u=mn(r,o),d=o?n(a.candidates):r;u===0?o?e.push.apply(e,d):e.push(r):s.push({documentOrder:i,tabIndex:u,item:a,isScope:o,content:d})}),s.sort(vs).reduce(function(a,i){return i.isScope?a.push.apply(a,i.content):a.push(i.content),a},[]).concat(e)},Cs=function(t,e){e=e||{};var s;return e.getShadowRoot?s=pn([t],e.includeContainer,{filter:Se.bind(null,e),flatten:!1,getShadowRoot:e.getShadowRoot,shadowRootFilter:Ss}):s=vn(t,e.includeContainer,Se.bind(null,e)),$s(s)},Ts=function(t,e){e=e||{};var s;return e.getShadowRoot?s=pn([t],e.includeContainer,{filter:fe.bind(null,e),flatten:!0,getShadowRoot:e.getShadowRoot}):s=vn(t,e.includeContainer,fe.bind(null,e)),s},se=function(t,e){if(e=e||{},!t)throw new Error("No node provided");return Ft.call(t,ce)===!1?!1:Se(e,t)},Ms=hn.concat("iframe").join(","),xe=function(t,e){if(e=e||{},!t)throw new Error("No node provided");return Ft.call(t,Ms)===!1?!1:fe(e,t)};/*!
* focus-trap 7.4.3
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function He(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),e.push.apply(e,s)}return e}function Ve(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?He(Object(e),!0).forEach(function(s){Es(n,s,e[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):He(Object(e)).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(e,s))})}return n}function Es(n,t,e){return t=Ds(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Is(n,t){if(typeof n!="object"||n===null)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var s=e.call(n,t||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function Ds(n){var t=Is(n,"string");return typeof t=="symbol"?t:String(t)}var We={activateTrap:function(t,e){if(t.length>0){var s=t[t.length-1];s!==e&&s.pause()}var a=t.indexOf(e);a===-1||t.splice(a,1),t.push(e)},deactivateTrap:function(t,e){var s=t.indexOf(e);s!==-1&&t.splice(s,1),t.length>0&&t[t.length-1].unpause()}},As=function(t){return t.tagName&&t.tagName.toLowerCase()==="input"&&typeof t.select=="function"},Fs=function(t){return t.key==="Escape"||t.key==="Esc"||t.keyCode===27},jt=function(t){return t.key==="Tab"||t.keyCode===9},zs=function(t){return jt(t)&&!t.shiftKey},Rs=function(t){return jt(t)&&t.shiftKey},Ke=function(t){return setTimeout(t,0)},je=function(t,e){var s=-1;return t.every(function(a,i){return e(a)?(s=i,!1):!0}),s},Ht=function(t){for(var e=arguments.length,s=new Array(e>1?e-1:0),a=1;a<e;a++)s[a-1]=arguments[a];return typeof t=="function"?t.apply(void 0,s):t},ae=function(t){return t.target.shadowRoot&&typeof t.composedPath=="function"?t.composedPath()[0]:t.target},Ps=[],Os=function(t,e){var s=(e==null?void 0:e.document)||document,a=(e==null?void 0:e.trapStack)||Ps,i=Ve({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:zs,isKeyBackward:Rs},e),o={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0},r,u=function(h,f,_){return h&&h[f]!==void 0?h[f]:i[_||f]},d=function(h,f){var _=typeof(f==null?void 0:f.composedPath)=="function"?f.composedPath():void 0;return o.containerGroups.findIndex(function(R){var F=R.container,B=R.tabbableNodes;return F.contains(h)||(_==null?void 0:_.includes(F))||B.find(function(L){return L===h})})},m=function(h){var f=i[h];if(typeof f=="function"){for(var _=arguments.length,R=new Array(_>1?_-1:0),F=1;F<_;F++)R[F-1]=arguments[F];f=f.apply(void 0,R)}if(f===!0&&(f=void 0),!f){if(f===void 0||f===!1)return f;throw new Error("`".concat(h,"` was specified but was not a node, or did not return a node"))}var B=f;if(typeof f=="string"&&(B=s.querySelector(f),!B))throw new Error("`".concat(h,"` as selector refers to no known node"));return B},g=function(){var h=m("initialFocus");if(h===!1)return!1;if(h===void 0||!xe(h,i.tabbableOptions))if(d(s.activeElement)>=0)h=s.activeElement;else{var f=o.tabbableGroups[0],_=f&&f.firstTabbableNode;h=_||m("fallbackFocus")}if(!h)throw new Error("Your focus-trap needs to have at least one focusable element");return h},p=function(){if(o.containerGroups=o.containers.map(function(h){var f=Cs(h,i.tabbableOptions),_=Ts(h,i.tabbableOptions);return{container:h,tabbableNodes:f,focusableNodes:_,firstTabbableNode:f.length>0?f[0]:null,lastTabbableNode:f.length>0?f[f.length-1]:null,nextTabbableNode:function(F){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,L=_.findIndex(function(K){return K===F});if(!(L<0))return B?_.slice(L+1).find(function(K){return se(K,i.tabbableOptions)}):_.slice(0,L).reverse().find(function(K){return se(K,i.tabbableOptions)})}}}),o.tabbableGroups=o.containerGroups.filter(function(h){return h.tabbableNodes.length>0}),o.tabbableGroups.length<=0&&!m("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times")},v=function G(h){if(h!==!1&&h!==s.activeElement){if(!h||!h.focus){G(g());return}h.focus({preventScroll:!!i.preventScroll}),o.mostRecentlyFocusedNode=h,As(h)&&h.select()}},w=function(h){var f=m("setReturnFocus",h);return f||(f===!1?!1:h)},x=function(h){var f=ae(h);if(!(d(f,h)>=0)){if(Ht(i.clickOutsideDeactivates,h)){r.deactivate({returnFocus:i.returnFocusOnDeactivate});return}Ht(i.allowOutsideClick,h)||h.preventDefault()}},I=function(h){var f=ae(h),_=d(f,h)>=0;_||f instanceof Document?_&&(o.mostRecentlyFocusedNode=f):(h.stopImmediatePropagation(),v(o.mostRecentlyFocusedNode||g()))},b=function(h){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,_=ae(h);p();var R=null;if(o.tabbableGroups.length>0){var F=d(_,h),B=F>=0?o.containerGroups[F]:void 0;if(F<0)f?R=o.tabbableGroups[o.tabbableGroups.length-1].lastTabbableNode:R=o.tabbableGroups[0].firstTabbableNode;else if(f){var L=je(o.tabbableGroups,function(Ot){var Gt=Ot.firstTabbableNode;return _===Gt});if(L<0&&(B.container===_||xe(_,i.tabbableOptions)&&!se(_,i.tabbableOptions)&&!B.nextTabbableNode(_,!1))&&(L=F),L>=0){var K=L===0?o.tabbableGroups.length-1:L-1,st=o.tabbableGroups[K];R=st.lastTabbableNode}else jt(h)||(R=B.nextTabbableNode(_,!1))}else{var Tt=je(o.tabbableGroups,function(Ot){var Gt=Ot.lastTabbableNode;return _===Gt});if(Tt<0&&(B.container===_||xe(_,i.tabbableOptions)&&!se(_,i.tabbableOptions)&&!B.nextTabbableNode(_))&&(Tt=F),Tt>=0){var te=Tt===o.tabbableGroups.length-1?0:Tt+1,ee=o.tabbableGroups[te];R=ee.firstTabbableNode}else jt(h)||(R=B.nextTabbableNode(_))}}else R=m("fallbackFocus");R&&(jt(h)&&h.preventDefault(),v(R))},D=function(h){if(Fs(h)&&Ht(i.escapeDeactivates,h)!==!1){h.preventDefault(),r.deactivate();return}(i.isKeyForward(h)||i.isKeyBackward(h))&&b(h,i.isKeyBackward(h))},T=function(h){var f=ae(h);d(f,h)>=0||Ht(i.clickOutsideDeactivates,h)||Ht(i.allowOutsideClick,h)||(h.preventDefault(),h.stopImmediatePropagation())},S=function(){if(o.active)return We.activateTrap(a,r),o.delayInitialFocusTimer=i.delayInitialFocus?Ke(function(){v(g())}):v(g()),s.addEventListener("focusin",I,!0),s.addEventListener("mousedown",x,{capture:!0,passive:!1}),s.addEventListener("touchstart",x,{capture:!0,passive:!1}),s.addEventListener("click",T,{capture:!0,passive:!1}),s.addEventListener("keydown",D,{capture:!0,passive:!1}),r},U=function(){if(o.active)return s.removeEventListener("focusin",I,!0),s.removeEventListener("mousedown",x,!0),s.removeEventListener("touchstart",x,!0),s.removeEventListener("click",T,!0),s.removeEventListener("keydown",D,!0),r},O=function(h){var f=h.some(function(_){var R=Array.from(_.removedNodes);return R.some(function(F){return F===o.mostRecentlyFocusedNode})});f&&v(g())},lt=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(O):void 0,nt=function(){lt&&(lt.disconnect(),o.active&&!o.paused&&o.containers.map(function(h){lt.observe(h,{subtree:!0,childList:!0})}))};return r={get active(){return o.active},get paused(){return o.paused},activate:function(h){if(o.active)return this;var f=u(h,"onActivate"),_=u(h,"onPostActivate"),R=u(h,"checkCanFocusTrap");R||p(),o.active=!0,o.paused=!1,o.nodeFocusedBeforeActivation=s.activeElement,f==null||f();var F=function(){R&&p(),S(),nt(),_==null||_()};return R?(R(o.containers.concat()).then(F,F),this):(F(),this)},deactivate:function(h){if(!o.active)return this;var f=Ve({onDeactivate:i.onDeactivate,onPostDeactivate:i.onPostDeactivate,checkCanReturnFocus:i.checkCanReturnFocus},h);clearTimeout(o.delayInitialFocusTimer),o.delayInitialFocusTimer=void 0,U(),o.active=!1,o.paused=!1,nt(),We.deactivateTrap(a,r);var _=u(f,"onDeactivate"),R=u(f,"onPostDeactivate"),F=u(f,"checkCanReturnFocus"),B=u(f,"returnFocus","returnFocusOnDeactivate");_==null||_();var L=function(){Ke(function(){B&&v(w(o.nodeFocusedBeforeActivation)),R==null||R()})};return B&&F?(F(w(o.nodeFocusedBeforeActivation)).then(L,L),this):(L(),this)},pause:function(h){if(o.paused||!o.active)return this;var f=u(h,"onPause"),_=u(h,"onPostPause");return o.paused=!0,f==null||f(),U(),nt(),_==null||_(),this},unpause:function(h){if(!o.paused||!o.active)return this;var f=u(h,"onUnpause"),_=u(h,"onPostUnpause");return o.paused=!1,f==null||f(),p(),S(),nt(),_==null||_(),this},updateContainerElements:function(h){var f=[].concat(h).filter(Boolean);return o.containers=f.map(function(_){return typeof _=="string"?s.querySelector(_):_}),o.active&&p(),nt(),this}},r.updateContainerElements(t),r};const Bs=tt({name:"UseFocusTrap",props:["as","options"],setup(n,{slots:t}){let e;const s=P(),a=()=>e&&e.activate(),i=()=>e&&e.deactivate();return j(()=>Ce(s),o=>{o&&(e=Os(o,n.options||{}),a())},{flush:"post"}),Hn(()=>i()),()=>{if(t.default)return Vn(n.as||"div",{ref:s},t.default())}}}),Ns=["textContent"],Ls={inheritAttrs:!1},Gs=tt({...Ls,__name:"Modal",props:{heading:{type:String,required:!0},modelValue:{type:Boolean,required:!0}},emits:["update:modelValue"],setup(n,{emit:t}){const e=t,{t:s}=zt(),a=P(),i=()=>e("update:modelValue",!1);return j(a,o=>{o==null||o.showModal()}),(o,r)=>{const u=Rt;return n.modelValue?($(),J(Wn,{key:0,to:"body"},[A(l(Bs),{options:{immediate:!0,initialFocus:!1}},{default:H(()=>[c("dialog",{ref_key:"dialog",ref:a,"aria-modal":"",onClick:i,onClose:i},[c("article",At(o.$attrs,{onClick:r[0]||(r[0]=Y(()=>{},["stop"]))}),[c("h3",{textContent:N(n.heading)},null,8,Ns),Kt(o.$slots,"default"),c("footer",{class:C(o.$style.footer)},[Kt(o.$slots,"footer-pre"),A(u,{class:"secondary",onClick:i},{default:H(()=>[q(N(l(s)("main.close")),1)]),_:1}),Kt(o.$slots,"footer")],2)],16)],544)]),_:3})])):it("v-if",!0)}}}),Us="_footer_1wjze_1",Hs={footer:Us},Vs={$style:Hs},bn=et(Gs,[["__cssModules",Vs],["__file","/home/runner/work/fast-angle/fast-angle/packages/web/src/components/Modal.vue"]]),be=Pt(()=>P());function Ws(n,t){const e=new MouseEvent("click",{view:window,bubbles:!1,cancelable:!0}),s=document.createElement("a");s.setAttribute("download",t),s.setAttribute("href",n),s.setAttribute("target","_blank"),s.dispatchEvent(e)}async function Ks(n,t){const e=new XMLSerializer().serializeToString(n),s=new Blob([e],{type:"image/svg+xml;charset=utf-8"}),a=new Image,i=URL.createObjectURL(s);await new Promise((o,r)=>{a.onload=function(){t.drawImage(a,0,0),URL.revokeObjectURL(i),o()},a.onabort=a.onerror=()=>r(),a.src=i})}const qt={JPG:1,PNG:2},js={[qt.JPG]:{encoding:"image/jpeg",extension:"jpg"},[qt.PNG]:{encoding:"image/png",extension:"png"}};function qs(n){var s;const t=n.cloneNode(!0),e=window.getComputedStyle(n);return(s=t.querySelector("circle"))==null||s.remove(),t.style.setProperty("--background-color-transparent",e.getPropertyValue("--background-color-transparent")),t.style.color=t.style.fill=e.getPropertyValue("--color"),t.style.stroke="#fff",t.style.fontFamily="Arial",t.style.fontSize="20px",t}const _n=Pt(()=>{const n=document.createElement("canvas"),t=n==null?void 0:n.getContext("2d"),e=be(),s=z(()=>e.value&&t);return{triggerDownload:async({filename:i,filetype:o,quality:r,width:u,height:d})=>{if(!s.value)return;n.width=u,n.height=d,await Ks(qs(e.value),t);const{encoding:m,extension:g}=js[o],p=n.toDataURL(m,r);Ws(p,`${i}.${g}`)},isSupported:s}}),wt={px:1,"%":2,in:3,mm:4};function Ys(n,t,e){let s=n;switch(t){case wt["%"]:s=n*100/e;break;case wt.in:s=n/window.devicePixelRatio;break;case wt.mm:s=n*25.4/window.devicePixelRatio;break}return+s.toFixed(6)}function Xs(n,t,e){let s=n;switch(t){case wt["%"]:s=n/100*e;break;case wt.in:s=n*window.devicePixelRatio;break;case wt.mm:s=n*window.devicePixelRatio/25.4;break}return+s.toFixed(5)}function qe(n,t,e){const s=P(0),a=P(n.value-1),i=P(0);return j([n,t],([o,r],[,u])=>{(a.value!==o||r!==u)&&(a.value=o,s.value=Ys(o,r,e.value))},{immediate:!0}),j(i,o=>{s.value!==o&&(a.value=Xs(o,t.value,e.value))}),j(s,o=>i.value=o,{immediate:!0}),i}const Zs={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Js=c("path",{fill:"currentColor",d:"M24 14h-2V8a6 6 0 0 0-12 0v6H8a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V16a2 2 0 0 0-2-2ZM12 8a4 4 0 0 1 8 0v6h-8Zm12 20H8V16h16Z"},null,-1),Qs=[Js];function ta(n,t){return $(),M("svg",Zs,Qs)}const ea={name:"carbon-locked",render:ta},na={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},sa=c("path",{fill:"currentColor",d:"M24 14H12V8a4 4 0 0 1 8 0h2a6 6 0 0 0-12 0v6H8a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V16a2 2 0 0 0-2-2Zm0 14H8V16h16Z"},null,-1),aa=[sa];function oa(n,t){return $(),M("svg",na,aa)}const ia={name:"carbon-unlocked",render:oa},ra=Kn({...jn,xs:480}),la=["onSubmit"],ua={class:"flex-grow"},ca=["aria-invalid"],da=["value","textContent"],ha=["aria-invalid"],fa=["aria-invalid"],va=["data-tooltip"],pa=["value","textContent"],ma=["aria-invalid"],ga=tt({__name:"BoardControlsSvgDownloadModalContent",props:{boardWidth:{type:Number,required:!0},boardHeight:{type:Number,required:!0}},emits:["downloadFinish"],setup(n,{emit:t}){const e=n,s=t,{t:a}=zt(),{triggerDownload:i}=_n(),o=ne("FA_FILENAME","fast-angle-image"),{boardHeight:r,boardWidth:u}=cn(e),d=P(r.value),m=P(u.value),g=ne("FA_SIZE_UNIT",wt.px),p=P(!0),v=P(u.value/r.value);ra.isGreaterOrEqual("xl")&&j([u,r],([T,S])=>{m.value=T,d.value=S,v.value=T/S});const w=qe(d,g,r),x=qe(m,g,u);j([x,w],([T,S])=>{p.value||(v.value=T/S)},{flush:"sync",immediate:!0}),j(w,()=>{w.value<0&&(w.value=1),p.value&&w.value!==+(x.value/v.value).toFixed(3)&&(x.value=+(w.value*v.value).toFixed(3))},{flush:"sync"}),j(x,()=>{x.value<0&&(x.value=1),p.value&&x.value!==+(w.value*v.value).toFixed(3)&&(w.value=+(x.value/v.value).toFixed(3))},{flush:"sync"});const I=ne("FA_FILETYPE",qt.PNG),b=ne("FA_QUALITY",100);j(b,()=>{b.value>100&&(b.value=100),b.value<0&&(b.value=0)});async function D(){await i({filename:o.value,filetype:I.value,quality:b.value/100,width:m.value,height:d.value}).catch(()=>{}),s("downloadFinish")}return(T,S)=>{const U=Rt;return $(),M("form",{onSubmit:Y(D,["prevent"])},[c("div",{class:C(T.$style.name)},[c("label",ua,[q(N(l(a)("board.nav.download_image.name_label"))+" ",1),xt(c("input",{"onUpdate:modelValue":S[0]||(S[0]=O=>bt(o)?o.value=O:null),type:"text",name:"name",required:"","aria-invalid":!l(o)},null,8,ca),[[Ut,l(o)]])]),c("label",{class:C(T.$style["label--big"])},[q(N(l(a)("board.nav.download_image.format_label"))+" ",1),xt(c("select",{"onUpdate:modelValue":S[1]||(S[1]=O=>bt(I)?I.value=O:null),required:""},[($(!0),M(rt,null,Lt(Object.keys(l(qt)),O=>($(),M("option",{key:O,value:l(qt)[O],textContent:N(O)},null,8,da))),128))],512),[[Ne,l(I)]])],2)],2),c("fieldset",{class:C(T.$style.sizing)},[c("legend",null,[c("small",null,N(l(a)("board.nav.download_image.sizing_label")),1)]),c("label",{class:C(T.$style.label)},[q(N(l(a)("board.nav.download_image.width_label"))+" ",1),xt(c("input",{"onUpdate:modelValue":S[2]||(S[2]=O=>bt(x)?x.value=O:null),min:"1",type:"number",step:"0.000001",name:"width",required:"","aria-invalid":!l(x)||l(x)<1},null,8,ha),[[Ut,l(x),void 0,{number:!0}]])],2),c("label",{class:C(T.$style.label)},[q(N(l(a)("board.nav.download_image.height_label"))+" ",1),xt(c("input",{"onUpdate:modelValue":S[3]||(S[3]=O=>bt(w)?w.value=O:null),min:"1",type:"number",step:"0.000001",name:"height",required:"","aria-invalid":!l(w)||l(w)<1},null,8,fa),[[Ut,l(w),void 0,{number:!0}]])],2),c("label",null,[q("   "),c("div",{class:C(T.$style["aspect-ratio"]),"data-tooltip":l(a)("board.nav.download_image.keep_aspect_ratio")},[A(U,{"aria-label":l(a)("board.nav.download_image.keep_aspect_ratio"),class:C([T.$style["aspect-ratio-btn"],{[T.$style["aspect-ratio-btn--inactive"]]:!l(p)}]),onClick:S[4]||(S[4]=O=>p.value=!l(p))},{default:H(()=>[l(p)?($(),J(l(ea),{key:0})):($(),J(l(ia),{key:1}))]),_:1},8,["aria-label","class"])],10,va)]),c("label",{class:C([T.$style.label,T.$style["label--small"]])},[q(N(l(a)("board.nav.download_image.unit_label"))+" ",1),xt(c("select",{"onUpdate:modelValue":S[5]||(S[5]=O=>bt(g)?g.value=O:null),required:""},[($(!0),M(rt,null,Lt(Object.keys(l(wt)),O=>($(),M("option",{key:O,value:l(wt)[O],textContent:N(O)},null,8,pa))),128))],512),[[Ne,l(g)]])],2)],2),c("label",null,[c("span",{class:C(T.$style.quality)},[q(N(l(a)("board.nav.download_image.quality_label"))+" ",1),xt(c("input",{"onUpdate:modelValue":S[6]||(S[6]=O=>bt(b)?b.value=O:null),type:"number",min:"1",max:"100",class:C(T.$style.quality__input),name:"quality","aria-invalid":!l(b)||l(b)>100||l(b)<1},null,10,ma),[[Ut,l(b),void 0,{number:!0}]]),q(" % ")],2),xt(c("input",{"onUpdate:modelValue":S[7]||(S[7]=O=>bt(b)?b.value=O:null),type:"range",min:"1",max:"100",name:"quality"},null,512),[[Ut,l(b),void 0,{number:!0}]])])],40,la)}}}),ba="_label_8oclf_1",_a="_sizing_8oclf_16",ya="_name_8oclf_16",wa="_quality_8oclf_41",xa="_quality__input_8oclf_46",ka={label:ba,"label--big":"_label--big_8oclf_8","label--small":"_label--small_8oclf_12",sizing:_a,name:ya,"aspect-ratio":"_aspect-ratio_8oclf_25","aspect-ratio-btn":"_aspect-ratio-btn_8oclf_31","aspect-ratio-btn--inactive":"_aspect-ratio-btn--inactive_8oclf_37",quality:wa,quality__input:xa},Sa={$style:ka},$a=et(ga,[["__cssModules",Sa],["__file","/home/runner/work/fast-angle/fast-angle/packages/web/src/components/BoardControlsSvgDownloadModalContent.vue"]]),Ca={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Ta=c("path",{fill:"currentColor",d:"M26 24v4H6v-4H4v4a2 2 0 0 0 2 2h20a2 2 0 0 0 2-2v-4zm0-10l-1.41-1.41L17 20.17V2h-2v18.17l-7.59-7.58L6 14l10 10l10-10z"},null,-1),Ma=[Ta];function Ea(n,t){return $(),M("svg",Ca,Ma)}const Ia={name:"carbon-download",render:Ea},_e=Pt(()=>P()),Da={key:0},Ye="board_svg_download_form",Aa=tt({__name:"BoardControlsSvgDownload",props:{disabled:{type:Boolean,default:!1}},setup(n){const{t}=zt(),{isSupported:e}=_n(),s=_e(),{height:a,width:i}=Te(s),o=P(!1),r=P(!1);return Me({onEventFired(u){(u.ctrlKey||u.metaKey)&&u.key==="s"&&(u.preventDefault(),o.value=!0)},passive:!1}),(u,d)=>{const m=$a,g=Rt,p=bn;return l(e)?($(),M("li",Da,[A(g,{tooltip:`${l(t)("board.nav.download_image.action")} [ctrl + s][⌘ + s]`,"tooltip-placement":"left",disabled:n.disabled?void 0:!0,onClick:d[3]||(d[3]=v=>o.value=!0),onTouchstart:d[4]||(d[4]=Y(v=>o.value=!0,["stop","prevent"]))},{default:H(()=>[A(l(Ia)),A(p,{modelValue:l(o),"onUpdate:modelValue":d[2]||(d[2]=v=>bt(o)?o.value=v:null),heading:l(t)("board.nav.download_image.heading")},{footer:H(()=>[A(g,{type:"submit",role:"button",form:Ye,disabled:l(r),"aria-busy":l(r)},{default:H(()=>[q(N(l(t)("board.nav.download_image.save")),1)]),_:1},8,["disabled","aria-busy"])]),default:H(()=>[A(m,{id:Ye,"board-height":l(a),"board-width":l(i),onSubmit:d[0]||(d[0]=v=>r.value=!0),onDownloadFinish:d[1]||(d[1]=v=>(r.value=!1,o.value=!1))},null,8,["board-height","board-width"])]),_:1},8,["modelValue","heading"])]),_:1},8,["tooltip","disabled"])])):it("v-if",!0)}}}),Fa=et(Aa,[["__file","/home/runner/work/fast-angle/fast-angle/packages/web/src/components/BoardControlsSvgDownload.vue"]]),za={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Ra=c("path",{fill:"currentColor",d:"M16 2a14 14 0 1 0 14 14A14 14 0 0 0 16 2Zm0 26a12 12 0 1 1 12-12a12 12 0 0 1-12 12Z"},null,-1),Pa=c("circle",{cx:"16",cy:"23.5",r:"1.5",fill:"currentColor"},null,-1),Oa=c("path",{fill:"currentColor",d:"M17 8h-1.5a4.49 4.49 0 0 0-4.5 4.5v.5h2v-.5a2.5 2.5 0 0 1 2.5-2.5H17a2.5 2.5 0 0 1 0 5h-2v4.5h2V17a4.5 4.5 0 0 0 0-9Z"},null,-1),Ba=[Ra,Pa,Oa];function Na(n,t){return $(),M("svg",za,Ba)}const La={name:"carbon-help",render:Na},Ga={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Ua=c("path",{fill:"currentColor",d:"M22.5 4c-2 0-3.9.8-5.3 2.2L16 7.4l-1.1-1.1c-2.9-3-7.7-3-10.6-.1l-.1.1c-3 3-3 7.8 0 10.8L16 29l11.8-11.9c3-3 3-7.8 0-10.8C26.4 4.8 24.5 4 22.5 4z"},null,-1),Ha=[Ua];function Va(n,t){return $(),M("svg",Ga,Ha)}const Xe={name:"carbon-favorite-filled",render:Va},Wa=c("hr",null,null,-1),Ka=["textContent"],ja={rol:"grid"},qa=c("th",{scope:"col",textContent:"Win"},null,-1),Ya=c("th",{scope:"col",textContent:"Mac"},null,-1),Xa=["textContent"],Za=c("kbd",null,"ctrl",-1),Ja=c("kbd",null,"z",-1),Qa=c("kbd",null,"⌘",-1),to=c("kbd",null,"z",-1),eo=["textContent"],no=c("kbd",null,"ctrl",-1),so=c("kbd",null,"shift",-1),ao=c("kbd",null,"z",-1),oo=c("kbd",null,"⌘",-1),io=c("kbd",null,"shift",-1),ro=c("kbd",null,"z",-1),lo=["textContent"],uo=c("kbd",null,"ctrl",-1),co=c("kbd",null,"s",-1),ho=c("kbd",null,"⌘",-1),fo=c("kbd",null,"s",-1),vo=["textContent"],po=c("kbd",null,"f",-1),mo=[po],go=c("kbd",null,"f",-1),bo=[go],_o=["textContent"],yo=["textContent"],wo=["href","data-tooltip","title"],xo={rel:"noreferrer",href:"https://github.com/FRSOURCE/fast-angle",target:"_blank",title:"GitHub"},ko={rel:"noreferrer",href:"https://www.frsource.org/blog/sponsoring",target:"_blank",title:"Sponsoring"},So=c("hr",null,null,-1),$o=["textContent"],Co=["textContent"],To=tt({__name:"BoardControlsSvgHelp",setup(n){const{t,tm:e,rt:s}=zt(),a=P(!1),i=z(()=>e("board.nav.help.content"));return(o,r)=>{const u=qn("RouterLink"),d=bn,m=Rt;return $(),M("li",null,[A(m,{tooltip:l(t)("board.nav.help.action"),"tooltip-placement":"left",onClick:r[1]||(r[1]=g=>a.value=!0),onTouchstartCapture:r[2]||(r[2]=Y(g=>a.value=!0,["prevent","stop"]))},{default:H(()=>[A(l(La)),A(d,{modelValue:l(a),"onUpdate:modelValue":r[0]||(r[0]=g=>bt(a)?a.value=g:null),heading:l(t)("board.nav.help.heading"),class:C(o.$style.modal)},{"footer-pre":H(()=>[c("a",{rel:"noreferrer",href:"https://github.com/FRSOURCE/fast-angle",target:"_blank",title:"GitHub",class:C(o.$style.donate)},[A(l(Xe)),c("small",null,N(l(t)("main.donate_us")),1)],2)]),default:H(()=>[c("ul",null,[($(!0),M(rt,null,Lt(l(i),g=>($(),M("li",{key:l(s)(g)},N(l(s)(g)),1))),128))]),Wa,c("div",{class:C(o.$style["hide-mobile"])},[c("h4",{textContent:N(l(t)("board.nav.help.key_bindings.heading"))},null,8,Ka),c("table",ja,[c("thead",null,[c("tr",null,[qa,Ya,c("th",{scope:"col",textContent:N(l(t)("board.nav.help.key_bindings.description"))},null,8,Xa)])]),c("tr",null,[c("td",{scope:"col",class:C(o.$style["binding-item-wrapper"])},[c("div",{class:C(o.$style["binding-item"])},[Za,c("small",{class:C(o.$style["binding-item-plus"])},"+",2),Ja],2)],2),c("td",{scope:"col",class:C(o.$style["binding-item-wrapper"])},[c("div",{class:C(o.$style["binding-item"])},[Qa,c("small",{class:C(o.$style["binding-item-plus"])},"+",2),to],2)],2),c("td",{scope:"col",textContent:N(l(t)("board.nav.undo"))},null,8,eo)]),c("tr",null,[c("td",{scope:"col",class:C(o.$style["binding-item-wrapper"])},[c("div",{class:C(o.$style["binding-item"])},[no,c("small",{class:C(o.$style["binding-item-plus"])},"+",2),so,c("small",{class:C(o.$style["binding-item-plus"])},"+",2),ao],2)],2),c("td",{scope:"col",class:C(o.$style["binding-item-wrapper"])},[c("div",{class:C(o.$style["binding-item"])},[oo,c("small",{class:C(o.$style["binding-item-plus"])},"+",2),io,c("small",{class:C(o.$style["binding-item-plus"])},"+",2),ro],2)],2),c("td",{scope:"col",textContent:N(l(t)("board.nav.download_image.action"))},null,8,lo)]),c("tr",null,[c("td",{scope:"col",class:C(o.$style["binding-item-wrapper"])},[c("div",{class:C(o.$style["binding-item"])},[uo,c("small",{class:C(o.$style["binding-item-plus"])},"+",2),co],2)],2),c("td",{scope:"col",class:C(o.$style["binding-item-wrapper"])},[c("div",{class:C(o.$style["binding-item"])},[ho,c("small",{class:C(o.$style["binding-item-plus"])},"+",2),fo],2)],2),c("td",{scope:"col",textContent:N(l(t)("board.nav.redo"))},null,8,vo)]),c("tr",null,[c("td",{scope:"col",class:C(o.$style["binding-item-wrapper"])},[c("div",{class:C(o.$style["binding-item"])},[...mo],2)],2),c("td",{scope:"col",class:C(o.$style["binding-item-wrapper"])},[c("div",{class:C(o.$style["binding-item"])},[...bo],2)],2),c("td",{scope:"col",textContent:N(l(t)("board.nav.toggle_fullscreen"))},null,8,_o)])])],2),c("h4",{textContent:N(l(t)("board.nav.help.heading_authors"))},null,8,yo),c("p",null,[q(N(l(t)("main.brought_to_you_by"))+" ",1),c("a",{href:`${"host"in o?o.host:l(Yn)}/`,"data-tooltip":l(t)("main.visit_our_website"),title:l(t)("main.visit_our_website")},"FRSOURCE",8,wo)]),c("p",null,[c("a",xo,[A(l(Xn)),q(" "+N(l(t)("main.star_us_on_github")),1)])]),c("p",null,[c("a",ko,[A(l(Xe)),q(" "+N(l(t)("main.donate_us")),1)])]),So,c("p",{class:C(o.$style.terms)},[A(u,{to:{name:`lang-${l(Le)}-terms`}},{default:H(()=>[c("small",{textContent:N(l(t)("main.terms_and_conditions"))},null,8,$o)]),_:1},8,["to"]),A(u,{to:{name:`lang-${l(Le)}-privacy-policy`}},{default:H(()=>[c("small",{textContent:N(l(t)("main.privacy_policy"))},null,8,Co)]),_:1},8,["to"])],2)]),_:1},8,["modelValue","heading","class"])]),_:1},8,["tooltip"])])}}}),Mo="_modal_18qmt_1",Eo="_terms_18qmt_34",Io="_donate_18qmt_39",Do={modal:Mo,"hide-mobile":"_hide-mobile_18qmt_10","binding-item":"_binding-item_18qmt_19","binding-item-plus":"_binding-item-plus_18qmt_25","list-item":"_list-item_18qmt_30",terms:Eo,donate:Io},Ao={$style:Do},Fo=et(To,[["__cssModules",Ao],["__file","/home/runner/work/fast-angle/fast-angle/packages/web/src/components/BoardControlsSvgHelp.vue"]]),zo={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Ro=c("path",{fill:"currentColor",d:"M28 10v18H10V10h18m0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2Z"},null,-1),Po=c("path",{fill:"currentColor",d:"M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"},null,-1),Oo=[Ro,Po];function Bo(n,t){return $(),M("svg",zo,Oo)}const No={name:"carbon-copy",render:Bo},Lo={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Go=c("path",{fill:"currentColor",d:"m13 24l-9-9l1.414-1.414L13 21.171L26.586 7.586L28 9L13 24z"},null,-1),Uo=[Go];function Ho(n,t){return $(),M("svg",Lo,Uo)}const Vo={name:"carbon-checkmark",render:Ho},Wo=tt({__name:"BoardSummaryItem",props:{value:{type:Number,default:0}},setup(n){const t=n,e=z(()=>t.value?t.value.toFixed(3):""),{copy:s,copied:a,isSupported:i}=Zn({source:e});return(o,r)=>{const u=Rt;return $(),M("small",{class:C(o.$style.item),onClick:r[0]||(r[0]=()=>l(s)())},[c("div",null,[Kt(o.$slots,"default"),c("span",{class:C(o.$style.text)},[l(e)?($(),M(rt,{key:0},[q(N(l(e))+"°",1)],64)):($(),M(rt,{key:1},[q("?")],64))],2)]),l(i)&&l(e)?($(),J(u,{key:0,class:C(o.$style.btn),disabled:l(a)},{default:H(()=>[l(a)?($(),J(l(Vo),{key:0})):($(),J(l(No),{key:1}))]),_:1},8,["class","disabled"])):it("v-if",!0)],2)}}}),Ko="_item_1ljw4_1",jo="_text_1ljw4_9",qo="_btn_1ljw4_14",Yo={item:Ko,text:jo,btn:qo},Xo={$style:Yo},Zo=et(Wo,[["__cssModules",Xo],["__file","/home/runner/work/fast-angle/fast-angle/packages/web/src/components/BoardSummaryItem.vue"]]),Jo={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Qo=c("path",{fill:"currentColor",d:"M20 2v2h6.586L18 12.582L19.414 14L28 5.414V12h2V2H20zm-6 17.416L12.592 18L4 26.586V20H2v10h10v-2H5.414L14 19.416z"},null,-1),ti=[Qo];function ei(n,t){return $(),M("svg",Jo,ti)}const ni={name:"carbon-maximize",render:ei},si={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},ai=c("path",{fill:"currentColor",d:"M4 18v2h6.586L2 28.582L3.414 30L12 21.414V28h2V18H4zM30 3.416L28.592 2L20 10.586V4h-2v10h10v-2h-6.586L30 3.416z"},null,-1),oi=[ai];function ii(n,t){return $(),M("svg",si,oi)}const ri={name:"carbon-minimize",render:ii},li={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},ui=c("path",{fill:"currentColor",d:"M18 12h-4V8h-2v4H8v2h4v4h2v-4h4v-2z"},null,-1),ci=c("path",{fill:"currentColor",d:"M21.448 20A10.856 10.856 0 0 0 24 13a11 11 0 1 0-11 11a10.856 10.856 0 0 0 7-2.552L27.586 29L29 27.586ZM13 22a9 9 0 1 1 9-9a9.01 9.01 0 0 1-9 9Z"},null,-1),di=[ui,ci];function hi(n,t){return $(),M("svg",li,di)}const fi={name:"carbon-zoom-in",render:hi},vi={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},pi=c("path",{fill:"currentColor",d:"M8 12h10v2H8z"},null,-1),mi=c("path",{fill:"currentColor",d:"M21.448 20A10.856 10.856 0 0 0 24 13a11 11 0 1 0-11 11a10.856 10.856 0 0 0 7-2.552L27.586 29L29 27.586ZM13 22a9 9 0 1 1 9-9a9.01 9.01 0 0 1-9 9Z"},null,-1),gi=[pi,mi];function bi(n,t){return $(),M("svg",vi,gi)}const _i={name:"carbon-zoom-out",render:bi},yi={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},wi=c("path",{fill:"currentColor",d:"M4 20v2h4.586L2 28.586L3.414 30L10 23.414V28h2v-8H4zm15-6a3 3 0 1 0-3-3a3 3 0 0 0 3 3zm0-4a1 1 0 1 1-1 1a1 1 0 0 1 1-1z"},null,-1),xi=c("path",{fill:"currentColor",d:"M26 4H6a2 2 0 0 0-2 2v10h2V6h20v15.17l-3.59-3.59a2 2 0 0 0-2.82 0L18 19.17L11.83 13l-1.414 1.415L14 18l2.59 2.59a2 2 0 0 0 2.82 0L21 19l5 5v2H16v2h10a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2Z"},null,-1),ki=[wi,xi];function Si(n,t){return $(),M("svg",yi,ki)}const $i={name:"carbon-image-reference",render:Si},Ci={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Ti=c("path",{d:"M9 24a3.51 3.51 0 0 0-.88-1.86l9.53-16.58l-1.73-1l-9.57 16.56A3.06 3.06 0 0 0 5.5 21a3.5 3.5 0 1 0 3.15 5H28v-2zm-3.5 2A1.5 1.5 0 1 1 7 24.5A1.5 1.5 0 0 1 5.5 26z",fill:"currentColor"},null,-1),Mi=c("path",{d:"M22 21h2a13 13 0 0 0-5.42-10.56l-1.16 1.62A11 11 0 0 1 22 21z",fill:"currentColor"},null,-1),Ei=[Ti,Mi];function Ii(n,t){return $(),M("svg",Ci,Ei)}const Di={name:"carbon-angle",render:Ii},Ai={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Fi=c("path",{fill:"currentColor",d:"M20 10H7.815l3.587-3.586L10 5l-6 6l6 6l1.402-1.415L7.818 12H20a6 6 0 0 1 0 12h-8v2h8a8 8 0 0 0 0-16Z"},null,-1),zi=[Fi];function Ri(n,t){return $(),M("svg",Ai,zi)}const Pi={name:"carbon-undo",render:Ri},Oi={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Bi=c("path",{fill:"currentColor",d:"M12 10h12.185l-3.587-3.586L22 5l6 6l-6 6l-1.402-1.415L24.182 12H12a6 6 0 0 0 0 12h8v2h-8a8 8 0 0 1 0-16Z"},null,-1),Ni=[Bi];function Li(n,t){return $(),M("svg",Oi,Ni)}const Gi={name:"carbon-redo",render:Li},Ui={width:"1.2em",height:"1.2em",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor"},Hi=c("path",{d:"M18.3 26a3.5 3.5 0 006.6-3.05 3 3 0 00-.7-.8l7.53-15.58-1.73-1-7.57 15.56a2.7 2.7 0 00-.8-.1 3.5 3.5 0 00-3.33 2.97h-17.973v2Zm3.4.1a1.5 1.5 0 111.5-1.5 1.5 1.5 0 01-1.5 1.5Z"},null,-1),Vi=c("path",{d:"M3.75 21.25a13.2 13.2 90 0120.25-10.56l-.87 1.44a11.75 11.75 90 00-17.6 9.13z"},null,-1),Wi=[Hi,Vi];function Ki(n,t){return $(),M("svg",Ui,Wi)}const ji={name:"custom-angle-obtuse",render:Ki},ke=4,ve=Pt(()=>{const n=P([]),t=P([]),e=P(ke-1);let s=()=>{},a=()=>{};j(n,b=>{t.value=[...b]},{deep:!0,flush:"sync"});const i=(b,D)=>{++e.value>=ke&&(e.value=0,n.value=[]);const T=Math.floor(e.value/2);if(e.value%2){const S=n.value[T][0];if(!S)return;n.value[T]=[S,[b,D]]}else n.value[T]=[[b,D]]},o=(b,D)=>{const T=e.value+1>=ke?0:e.value+1,S=Math.floor(T/2);if(T%2){const U=t.value[S][0];if(!U)return;t.value[S]=[U,[b,D]]}else t.value[S]=[[b,D]]},{undo:r,redo:u,canUndo:d,canRedo:m}=ue(e),{undo:g,redo:p,canUndo:v,canRedo:w}=ue(n,{deep:!0}),x=()=>{g(),s(),r()},I=()=>{p(),a(),u()};return Me({onEventFired(b){(b.ctrlKey||b.metaKey)&&b.key==="z"&&(b.shiftKey?I():x())}}),{step:e,lines:t,drawNextPoint:i,predictNextPoint:o,undo:x,redo:I,canUndo:z(()=>d.value&&v.value),canRedo:z(()=>m.value&&w.value),registerOnUndo:b=>s=b,registerOnRedo:b=>a=b}});function yn(n){const[[[t,e],[s,a]],[[i,o],[r,u]]]=n,d=s-t,m=a-e,g=r-i,p=u-o,v=Math.atan2(d*p-m*g,d*g+m*p);return Math.abs(v)*(180/Math.PI)}function Ee(n){return z(()=>{var t,e;return(((t=n.value[0])==null?void 0:t.length)||0)<2||(((e=n.value[1])==null?void 0:e.length)||0)<2?0:yn(n.value)})}function qi(){try{return"constructor"in GestureEvent}catch{return!1}}function wn(){return typeof window<"u"&&"ontouchstart"in window}function xn(n){return"pointerId"in n?null:n.type==="touchend"?n.changedTouches:n.targetTouches}function Ie(n){return Array.from(xn(n)).map(t=>t.identifier)}function _t(n){const t="buttons"in n?n.buttons:0,{shiftKey:e,altKey:s,metaKey:a,ctrlKey:i}=n;return{buttons:t,shiftKey:e,altKey:s,metaKey:a,ctrlKey:i}}const ye=n=>n;function Ze(n,t=ye){const e=xn(n),{clientX:s,clientY:a}=e?e[0]:n;return t([s,a])}function Je(n,t,e=ye){const[s,a]=Array.from(n.touches).filter(v=>t.includes(v.identifier));if(!s||!a)throw Error("The event doesn't have two pointers matching the pointerIds");const i=a.clientX-s.clientX,o=a.clientY-s.clientY,r=(a.clientX+s.clientX)/2,u=(a.clientY+s.clientY)/2,d=Math.hypot(i,o),m=-(Math.atan2(i,o)*180)/Math.PI,g=e([d,m]),p=e([r,u]);return{values:g,origin:p}}const Qe=40,tn=800;function kn(n,t=ye){let{deltaX:e,deltaY:s,deltaMode:a}=n;return a===1?(e*=Qe,s*=Qe):a===2&&(e*=tn,s*=tn),t([e,s])}function en(n,t=ye){return t([n.scale,n.rotation])}function Sn(){}function $n(...n){return n.length===0?Sn:n.length===1?n[0]:function(){var t;for(let e of n)t=e.apply(this,arguments)||t;return t}}function Ct(n,t){if(n===void 0){if(t===void 0)throw new Error("Must define fallback value if undefined is expected");n=t}return Array.isArray(n)?n:[n,n]}function nn(n,t){return Object.assign({},t,n||{})}function pe(n,...t){return typeof n=="function"?n(...t):n}function Vt(n){return{_active:!1,_blocked:!1,_intentional:[!1,!1],_movement:[0,0],_initial:[0,0],_bounds:[[-1/0,1/0],[-1/0,1/0]],_lastEventType:void 0,_dragStarted:!1,_dragPreventScroll:!1,_dragIsTap:!0,_dragDelayed:!1,event:void 0,intentional:!1,values:[0,0],velocities:[0,0],delta:[0,0],movement:[0,0],offset:[0,0],lastOffset:[0,0],direction:[0,0],initial:[0,0],previous:[0,0],first:!1,last:!1,active:!1,timeStamp:0,startTime:0,elapsedTime:0,cancel:Sn,canceled:!1,memo:void 0,args:void 0,...n}}function Cn(){const n={hovering:!1,scrolling:!1,wheeling:!1,dragging:!1,moving:!1,pinching:!1,touches:0,buttons:0,down:!1,shiftKey:!1,altKey:!1,metaKey:!1,ctrlKey:!1,locked:!1},t=Vt({_pointerId:void 0,axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0,tap:!1,swipe:[0,0]}),e=Vt({_pointerIds:[],da:[0,0],vdva:[0,0],origin:void 0,turns:0}),s=Vt({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0}),a=Vt({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0}),i=Vt({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0});return{shared:n,drag:t,pinch:e,wheel:s,move:a,scroll:i}}class Yi{constructor(t){this.classes=t,this.pointerIds=new Set,this.touchIds=new Set,this.supportsTouchEvents=wn(),this.supportsGestureEvents=qi(),this.bind=(...e)=>{const s={};for(let a of this.classes)new a(this,e).addBindings(s);for(let a in this.nativeRefs)V(s,a,i=>this.nativeRefs[a]({...this.state.shared,event:i,args:e}));return this.config.domTarget?Qi(this,s):tr(this,s)},this.clean=()=>{const{eventOptions:e,domTarget:s}=this.config,a=l(s);a&&Jt(a,En(this.domListeners),e),Object.values(this.timeouts).forEach(clearTimeout),Xi(this)},this.classes=t,this.state=Cn(),this.timeouts={},this.domListeners=[],this.windowListeners={}}}function Tn(n,t){"pointerId"in t?n.pointerIds.add(t.pointerId):n.touchIds=new Set(Ie(t))}function Mn(n,t){"pointerId"in t?n.pointerIds.delete(t.pointerId):Ie(t).forEach(e=>n.touchIds.delete(e))}function Xi(n){const{config:{window:t,eventOptions:e},windowListeners:s}=n,a=l(t);if(a){for(let i in s){const o=s[i];Jt(a,o,e)}n.windowListeners={}}}function Zi({config:n,windowListeners:t},e,s=n.eventOptions){const a=l(n.window);a&&(Jt(a,t[e],s),delete t[e])}function Ji({config:n,windowListeners:t},e,s=[],a=n.eventOptions){const i=l(n.window);i&&(Jt(i,t[e],a),In(i,t[e]=s,a))}function Qi({config:n,domListeners:t},e){const{eventOptions:s,domTarget:a}=n,i=l(a);if(!i)throw new Error("domTarget must be defined");Jt(i,En(t),s);for(let[o,r]of Object.entries(e)){const u=o.slice(2).toLowerCase();t.push([u,$n(...r)])}In(i,t,s)}function tr({config:n},t){const e={},s=n.eventOptions.capture?"Capture":"";for(let[a,i]of Object.entries(t)){const o=Array.isArray(i)?i:[i],r=a+s;e[r]=$n(...o)}return e}function En(n=[]){return n.splice(0,n.length)}function V(n,t,e){n[t]||(n[t]=[]),n[t].push(e)}function In(n,t=[],e={}){if(n)for(let[s,a]of t)n.addEventListener(s,a,e)}function Jt(n,t=[],e={}){if(n)for(let[s,a]of t)n.removeEventListener(s,a,e)}function me(n,t){return n.map((e,s)=>e+t[s])}function De(n,t){return n.map((e,s)=>e-t[s])}function Xt(n){return Math.hypot(...n)}function er(n,t=n){const e=Xt(t),s=e===0?0:1/e,a=t.map(o=>s*o);return{distance:Xt(n),direction:a}}function Dn(n,t,e){const s=Xt(t),a=s===0?0:1/s,i=e===0?0:1/e,o=i*s,r=t.map(m=>i*m),u=t.map(m=>a*m),d=Xt(n);return{velocities:r,velocity:o,distance:d,direction:u}}function ge(n){return Math.sign?Math.sign(n):+(n>0)-+(n<0)||+n}function nr(n,t,e){return Math.max(t,Math.min(n,e))}function sr(n,t){return Math.pow(n,t*5)}function sn(n,t,e){return t===0||Math.abs(t)===1/0?sr(n,e):n*t*e/(t+e*n)}function an(n,t,e,s=.15){return s===0?nr(n,t,e):n<t?-sn(t-n,e-t,s)+t:n>e?+sn(n-e,e-t,s)+e:n}const yt=new Map,ar=n=>n;class An{constructor(t,e=[]){this.controller=t,this.args=e,this.debounced=!0,this.setTimeout=(s,a=140,...i)=>{clearTimeout(this.controller.timeouts[this.stateKey]),this.controller.timeouts[this.stateKey]=window.setTimeout(s,a,...i)},this.clearTimeout=()=>{clearTimeout(this.controller.timeouts[this.stateKey])},this.fireGestureHandler=(s=!1)=>{if(this.state._blocked)return this.debounced||(this.state._active=!1,this.clean()),null;if(!s&&!this.state.intentional&&!this.config.triggerAllEvents)return null;if(this.state.intentional){const u=this.state.active,d=this.state._active;this.state.active=d,this.state.first=d&&!u,this.state.last=u&&!d,this.controller.state.shared[this.ingKey]=d}const a=this.controller.pointerIds.size||this.controller.touchIds.size,i=this.controller.state.shared.buttons>0||a>0,o={...this.controller.state.shared,...this.state,...this.mapStateValues(this.state),locked:!!document.pointerLockElement,touches:a,down:i},r=this.handler(o);return this.state.memo=r!==void 0?r:this.state.memo,o},this.controller=t,this.args=e}get config(){return this.controller.config[this.stateKey]}get enabled(){return this.controller.config.enabled&&this.config.enabled}get state(){return this.controller.state[this.stateKey]}get handler(){return this.controller.handlers[this.stateKey]}get transform(){return this.config.transform||this.controller.config.transform||ar}updateSharedState(t){Object.assign(this.controller.state.shared,t)}updateGestureState(t){Object.assign(this.state,t)}checkIntentionality(t,e){return{_intentional:t,_blocked:!1}}getMovement(t){const{rubberband:e,threshold:s}=this.config,{_bounds:a,_initial:i,_active:o,_intentional:r,lastOffset:u,movement:d}=this.state,m=this.getInternalMovement(t,this.state),g=this.transform(s).map(Math.abs),p=r[0]===!1?on(m[0],g[0]):r[0],v=r[1]===!1?on(m[1],g[1]):r[1],w=this.checkIntentionality([p,v],m);if(w._blocked)return{...w,_movement:m,delta:[0,0]};const x=w._intentional,I=m;let b=[x[0]!==!1?m[0]-x[0]:0,x[1]!==!1?m[1]-x[1]:0];const D=me(b,u),T=o?e:[0,0];return b=rn(a,me(b,i),T),{...w,intentional:x[0]!==!1||x[1]!==!1,_initial:i,_movement:I,movement:b,values:t,offset:rn(a,D,T),delta:De(b,d)}}clean(){this.clearTimeout()}}function on(n,t){return Math.abs(n)>=t?ge(n)*t:!1}function rn(n,[t,e],[s,a]){const[[i,o],[r,u]]=n;return[an(t,i,o,s),an(e,r,u,a)]}function Z({state:n},t,e){const{timeStamp:s,type:a}=t,i=n.values,o=e?0:s-n.startTime;return{_lastEventType:a,event:t,timeStamp:s,elapsedTime:o,previous:i}}function Yt({state:n,config:t,stateKey:e,args:s},a,i){const o=n.offset,r=i.timeStamp,{initial:u,bounds:d}=t,m={...Cn()[e],_active:!0,args:s,values:a,initial:a,offset:o,lastOffset:o,startTime:r};return{...m,_initial:pe(u,m),_bounds:pe(d,m)}}class Fn extends An{getInternalMovement(t,e){return De(t,e.initial)}checkIntentionality(t,e){if(t[0]===!1&&t[1]===!1)return{_intentional:t,axis:this.state.axis};const[s,a]=e.map(Math.abs),i=this.state.axis||(s>a?"x":s<a?"y":void 0);return!this.config.axis&&!this.config.lockDirection?{_intentional:t,_blocked:!1,axis:i}:i?this.config.axis&&i!==this.config.axis?{_intentional:t,_blocked:!0,axis:i}:(t[i==="x"?1:0]=!1,{_intentional:t,_blocked:!1,axis:i}):{_intentional:[!1,!1],_blocked:!1,axis:i}}getKinematics(t,e){const s=this.getMovement(t);if(!s._blocked){const a=e.timeStamp-this.state.timeStamp;Object.assign(s,Dn(s.movement,s.delta,a))}return s}mapStateValues(t){return{xy:t.values,vxvy:t.velocities}}}const or=3;function ln(n){"persist"in n&&typeof n.persist=="function"&&n.persist()}class ir extends Fn{constructor(){super(...arguments),this.ingKey="dragging",this.stateKey="drag",this.setPointerCapture=t=>{if(this.config.useTouch||document.pointerLockElement)return;const{target:e,pointerId:s}=t;e&&"setPointerCapture"in e&&e.setPointerCapture(s),this.updateGestureState({_dragTarget:e,_dragPointerId:s})},this.releasePointerCapture=()=>{if(this.config.useTouch||document.pointerLockElement)return;const{_dragTarget:t,_dragPointerId:e}=this.state;if(e&&t&&"releasePointerCapture"in t&&(!("hasPointerCapture"in t)||t.hasPointerCapture(e)))try{t.releasePointerCapture(e)}catch{}},this.preventScroll=t=>{this.state._dragPreventScroll&&t.cancelable&&t.preventDefault()},this.getEventId=t=>this.config.useTouch?t.changedTouches[0].identifier:t.pointerId,this.isValidEvent=t=>this.state._pointerId===this.getEventId(t),this.shouldPreventWindowScrollY=this.config.preventWindowScrollY&&this.controller.supportsTouchEvents,this.setUpWindowScrollDetection=t=>{ln(t),Ji(this.controller,this.stateKey,[["touchmove",this.preventScroll],["touchend",this.clean.bind(this)],["touchcancel",this.clean.bind(this)]],{passive:!1}),this.setTimeout(this.startDrag.bind(this),250,t)},this.setUpDelayedDragTrigger=t=>{this.state._dragDelayed=!0,ln(t),this.setTimeout(this.startDrag.bind(this),this.config.delay,t)},this.setStartState=t=>{const e=Ze(t,this.transform);this.updateSharedState(_t(t)),this.updateGestureState({...Yt(this,e,t),...Z(this,t,!0),_pointerId:this.getEventId(t)}),this.updateGestureState(this.getMovement(e))},this.onDragStart=t=>{Tn(this.controller,t),!(!this.enabled||this.state._active)&&(this.setStartState(t),this.setPointerCapture(t),this.shouldPreventWindowScrollY?this.setUpWindowScrollDetection(t):this.config.delay>0?this.setUpDelayedDragTrigger(t):this.startDrag(t,!0))},this.onDragChange=t=>{if(this.state.canceled||!this.state._active||!this.isValidEvent(t)||this.state._lastEventType===t.type&&t.timeStamp===this.state.timeStamp)return;let e;if(document.pointerLockElement){const{movementX:u,movementY:d}=t;e=me(this.transform([u,d]),this.state.values)}else e=Ze(t,this.transform);const s=this.getKinematics(e,t);if(!this.state._dragStarted){if(this.state._dragDelayed){this.startDrag(t);return}if(this.shouldPreventWindowScrollY)if(!this.state._dragPreventScroll&&s.axis)if(s.axis==="x")this.startDrag(t);else{this.state._active=!1;return}else return;else return}const a=_t(t);this.updateSharedState(a);const i=Z(this,t),o=Xt(s._movement);let{_dragIsTap:r}=this.state;r&&o>=or&&(r=!1),this.updateGestureState({...i,...s,_dragIsTap:r}),this.fireGestureHandler()},this.onDragEnd=t=>{if(Mn(this.controller,t),!this.isValidEvent(t)||(this.clean(),!this.state._active))return;this.state._active=!1;const e=this.state._dragIsTap,[s,a]=this.state.velocities,[i,o]=this.state.movement,[r,u]=this.state._intentional,[d,m]=this.config.swipeVelocity,[g,p]=this.config.swipeDistance,v=this.config.swipeDuration,w={...Z(this,t),...this.getMovement(this.state.values)},x=[0,0];w.elapsedTime<v&&(r!==!1&&Math.abs(s)>d&&Math.abs(i)>g&&(x[0]=ge(s)),u!==!1&&Math.abs(a)>m&&Math.abs(o)>p&&(x[1]=ge(a))),this.updateSharedState({buttons:0}),this.updateGestureState({...w,tap:e,swipe:x}),this.fireGestureHandler(this.config.filterTaps&&e===!0)},this.clean=()=>{super.clean(),this.state._dragStarted=!1,this.releasePointerCapture(),Zi(this.controller,this.stateKey)},this.onCancel=()=>{this.state.canceled||(this.updateGestureState({canceled:!0,_active:!1}),this.updateSharedState({buttons:0}),Jn(this.fireGestureHandler))},this.onClick=t=>{this.state._dragIsTap||t.stopPropagation()}}startDrag(t,e=!1){!this.state._active||this.state._dragStarted||(e||this.setStartState(t),this.updateGestureState({_dragStarted:!0,_dragPreventScroll:!0,cancel:this.onCancel}),this.clearTimeout(),this.fireGestureHandler())}addBindings(t){if(this.config.useTouch?(V(t,"onTouchStart",this.onDragStart),V(t,"onTouchMove",this.onDragChange),V(t,"onTouchEnd",this.onDragEnd),V(t,"onTouchCancel",this.onDragEnd)):(V(t,"onPointerDown",this.onDragStart),V(t,"onPointerMove",this.onDragChange),V(t,"onPointerUp",this.onDragEnd),V(t,"onPointerCancel",this.onDragEnd)),this.config.filterTaps){const e=this.controller.config.eventOptions.capture?"onClick":"onClickCapture";V(t,e,this.onClick)}}}function Ae(n,t){let e,s=[],a,i=!1;function o(...r){return i&&e===this&&t(r,s)||(a=n.apply(this,r),i=!0,e=this,s=r),a}return o}function re(n,t){if(n===t)return!0;if(n&&t&&typeof n=="object"&&typeof t=="object"){if(n.constructor!==t.constructor)return!1;let e,s,a;if(Array.isArray(n)){if(e=n.length,e!==t.length)return!1;for(s=e;s--!==0;)if(!re(n[s],t[s]))return!1;return!0}let i;if(typeof Map=="function"&&n instanceof Map&&t instanceof Map){if(n.size!==t.size)return!1;for(i=n.entries();!(s=i.next()).done;)if(!t.has(s.value[0]))return!1;for(i=n.entries();!(s=i.next()).done;)if(!re(s.value[1],t.get(s.value[0])))return!1;return!0}if(typeof Set=="function"&&n instanceof Set&&t instanceof Set){if(n.size!==t.size)return!1;for(i=n.entries();!(s=i.next()).done;)if(!t.has(s.value[0]))return!1;return!0}if(n.constructor===RegExp)return n.source===t.source&&n.flags===t.flags;if(n.valueOf!==Object.prototype.valueOf)return n.valueOf()===t.valueOf();if(n.toString!==Object.prototype.toString)return n.toString()===t.toString();if(a=Object.keys(n),e=a.length,e!==Object.keys(t).length)return!1;for(s=e;s--!==0;)if(!Object.prototype.hasOwnProperty.call(t,a[s]))return!1;if(typeof Element<"u"&&n instanceof Element)return!1;for(s=e;s--!==0;)if(!(a[s]==="_owner"&&n.$$typeof)&&!re(n[a[s]],t[a[s]]))return!1;return!0}return n!==n&&t!==t}function Fe(n,t){try{return re(n,t)}catch(e){if((e.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw e}}function Qt(n={},t){const e={};for(const[s,a]of Object.entries(t))switch(typeof a){case"function":e[s]=a.call(e,n[s],s,n);break;case"object":e[s]=Qt(n[s],a);break;case"boolean":a&&(e[s]=n[s]);break}return e}const rr=180,lr=.15,ur=.5,cr=50,dr=250,zn={threshold(n=0){return Ct(n)},rubberband(n=0){switch(n){case!0:return Ct(lr);case!1:return Ct(0);default:return Ct(n)}},enabled(n=!0){return n},triggerAllEvents(n=!1){return n},initial(n=0){return typeof n=="function"?n:Ct(n)},transform:!0},ze={...zn,axis:!0,lockDirection(n=!1){return n},bounds(n={}){if(typeof n=="function")return i=>ze.bounds(n(i));const{left:t=-1/0,right:e=1/0,top:s=-1/0,bottom:a=1/0}=n;return[[t,e],[s,a]]}},hr=typeof window<"u"&&window.document&&window.document.createElement,fr={enabled(n=!0){return n},domTarget:!0,window(n=hr?window:void 0){return n},eventOptions({passive:n=!0,capture:t=!1}={}){return{passive:n,capture:t}},transform:!0},vr={...zn,bounds(n,t,{distanceBounds:e={},angleBounds:s={}}){const a=o=>{const r=nn(pe(e,o),{min:-1/0,max:1/0});return[r.min,r.max]},i=o=>{const r=nn(pe(s,o),{min:-1/0,max:1/0});return[r.min,r.max]};return typeof e!="function"&&typeof s!="function"?[a(),i()]:o=>[a(o),i(o)]}},pr={...ze,useTouch(n=!0){return n&&wn()},preventWindowScrollY(n=!1){return n},threshold(n,t,{filterTaps:e=!1,lockDirection:s=!1,axis:a=void 0}){const i=Ct(n,e?3:s||a?1:0);return this.filterTaps=e,i},swipeVelocity(n=ur){return Ct(n)},swipeDistance(n=cr){return Ct(n)},swipeDuration(n=dr){return n},delay(n=0){switch(n){case!0:return rr;case!1:return 0;default:return n}}};function Re(n){return Qt(n,fr)}function mr(n={}){return Qt(n,ze)}function gr(n={}){return Qt(n,vr)}function br(n={}){return Qt(n,pr)}function _r({domTarget:n,eventOptions:t,window:e,enabled:s,...a}){const i=Re({domTarget:n,eventOptions:t,window:e,enabled:s});return i.drag=br(a),i}function yr({domTarget:n,eventOptions:t,window:e,enabled:s,...a}){const i=Re({domTarget:n,eventOptions:t,window:e,enabled:s});return i.pinch=gr(a),i}function wr({domTarget:n,eventOptions:t,window:e,enabled:s,...a}){const i=Re({domTarget:n,eventOptions:t,window:e,enabled:s});return i.wheel=mr(a),i}function Pe(n,t,e={}){const s=xr(n),a=new Yi(s);return a.config=t,a.handlers=n,a.nativeRefs=e,Qn()&&!t.manual&&(ts(a.bind),es(a.clean)),a}function xr(n){const t=new Set;return n.drag&&t.add(yt.get("drag")),n.wheel&&t.add(yt.get("wheel")),n.scroll&&t.add(yt.get("scroll")),n.move&&t.add(yt.get("move")),n.pinch&&t.add(yt.get("pinch")),n.hover&&t.add(yt.get("hover")),t}function kr(n,t={}){yt.set("drag",ir);const e=P();return e.value||(e.value=Ae(_r,Fe)),Pe({drag:n},e.value(t))}class Sr extends An{getInternalMovement(t,e){const s=e.values[1];let[a,i=s]=t,o=i-s,r=e.turns;return Math.abs(o)>270&&(r+=ge(o)),De([a,i-360*r],e.initial)}getKinematics(t,e){const s=this.getMovement(t),a=(t[1]-s._movement[1]-this.state.initial[1])/360,i=e.timeStamp-this.state.timeStamp,{distance:o,velocity:r,...u}=Dn(s.movement,s.delta,i);return{turns:a,...s,...u}}mapStateValues(t){return{da:t.values,vdva:t.velocities}}}const $r=7,Cr=260;class Tr extends Sr{constructor(){super(...arguments),this.ingKey="pinching",this.stateKey="pinch",this.onPinchStart=t=>{Tn(this.controller,t);const e=this.controller.touchIds;if(!this.enabled||this.state._active&&this.state._pointerIds.every(o=>e.has(o))||e.size<2)return;const s=Array.from(e).slice(0,2),{values:a,origin:i}=Je(t,s,this.transform);this.updateSharedState(_t(t)),this.updateGestureState({...Yt(this,a,t),...Z(this,t,!0),_pointerIds:s,cancel:this.onCancel,origin:i}),this.updateGestureState(this.getMovement(a)),this.fireGestureHandler()},this.onPinchChange=t=>{const{canceled:e,_active:s}=this.state;if(e||!s||t.timeStamp===this.state.timeStamp)return;const a=_t(t);this.updateSharedState(a);try{const{values:i,origin:o}=Je(t,this.state._pointerIds,this.transform),r=this.getKinematics(i,t);this.updateGestureState({...Z(this,t),...r,origin:o}),this.fireGestureHandler()}catch{this.onPinchEnd(t)}},this.onPinchEnd=t=>{Mn(this.controller,t);const e=Ie(t);this.state._pointerIds.every(s=>!e.includes(s))||(this.clean(),this.state._active&&(this.updateGestureState({...Z(this,t),...this.getMovement(this.state.values),_active:!1}),this.fireGestureHandler()))},this.onCancel=()=>{this.state.canceled||(this.updateGestureState({_active:!1,canceled:!0}),this.fireGestureHandler())},this.onGestureStart=t=>{if(!this.enabled)return;t.preventDefault();const e=en(t,this.transform);this.updateSharedState(_t(t)),this.updateGestureState({...Yt(this,e,t),...Z(this,t,!0),origin:[t.clientX,t.clientY],cancel:this.onCancel}),this.updateGestureState(this.getMovement(e)),this.fireGestureHandler()},this.onGestureChange=t=>{const{canceled:e,_active:s}=this.state;if(e||!s)return;t.preventDefault();const a=_t(t);this.updateSharedState(a);const i=en(t,this.transform);i[0]=(i[0]-this.state.event.scale)*Cr+this.state.values[0];const o=this.getKinematics(i,t);this.updateGestureState({...Z(this,t),...o,origin:[t.clientX,t.clientY]}),this.fireGestureHandler()},this.onGestureEnd=t=>{this.clean(),this.state._active&&(this.updateGestureState({...Z(this,t),...this.getMovement(this.state.values),_active:!1,origin:[t.clientX,t.clientY]}),this.fireGestureHandler())},this.wheelShouldRun=t=>this.enabled&&t.ctrlKey,this.getWheelValuesFromEvent=t=>{const[,e]=kn(t,this.transform),{values:[s,a]}=this.state;return{values:[s-e*$r,a!==void 0?a:0],origin:[t.clientX,t.clientY],delta:[0,e]}},this.onWheel=t=>{this.wheelShouldRun(t)&&(this.setTimeout(this.onWheelEnd),this.state._active?this.onWheelChange(t):this.onWheelStart(t))},this.onWheelStart=t=>{const{values:e,delta:s,origin:a}=this.getWheelValuesFromEvent(t);t.cancelable?t.preventDefault():console.warn("To properly support zoom on trackpads, try using the `domTarget` option and `config.eventOptions.passive` set to `false`. This message will only appear in development mode."),this.updateSharedState(_t(t)),this.updateGestureState({...Yt(this,e,t),...Z(this,t,!0),initial:this.state.values,offset:e,delta:s,origin:a}),this.updateGestureState(this.getMovement(e)),this.fireGestureHandler()},this.onWheelChange=t=>{t.cancelable&&t.preventDefault(),this.updateSharedState(_t(t));const{values:e,origin:s,delta:a}=this.getWheelValuesFromEvent(t);this.updateGestureState({...Z(this,t),...this.getKinematics(e,t),origin:s,delta:a}),this.fireGestureHandler()},this.onWheelEnd=()=>{this.clean(),this.state._active&&(this.state._active=!1,this.updateGestureState(this.getMovement(this.state.values)),this.fireGestureHandler())}}addBindings(t){this.controller.config.domTarget&&!this.controller.supportsTouchEvents&&this.controller.supportsGestureEvents?(V(t,"onGestureStart",this.onGestureStart),V(t,"onGestureChange",this.onGestureChange),V(t,"onGestureEnd",this.onGestureEnd)):(V(t,"onTouchStart",this.onPinchStart),V(t,"onTouchMove",this.onPinchChange),V(t,"onTouchEnd",this.onPinchEnd),V(t,"onTouchCancel",this.onPinchEnd),V(t,"onWheel",this.onWheel))}}class Mr extends Fn{constructor(){super(...arguments),this.ingKey="wheeling",this.stateKey="wheel",this.debounced=!0,this.handleEvent=t=>{if(t.ctrlKey&&"pinch"in this.controller.handlers||!this.enabled)return;this.setTimeout(this.onEnd),this.updateSharedState(_t(t));const e=me(kn(t,this.transform),this.state.values);if(this.state._active)this.updateGestureState({...Z(this,t),...this.getKinematics(e,t)});else{this.updateGestureState({...Yt(this,e,t),...Z(this,t,!0),initial:this.state.values});const s=this.getMovement(e),a=er(s.delta);this.updateGestureState(s),this.updateGestureState(a)}this.fireGestureHandler()},this.onEnd=()=>{if(this.clean(),!this.state._active)return;const t=this.getMovement(this.state.values);this.updateGestureState(t),this.updateGestureState({_active:!1,velocities:[0,0],velocity:0}),this.fireGestureHandler()}}addBindings(t){V(t,"onWheel",this.handleEvent)}}function Er(n,t={}){yt.set("pinch",Tr);const e=P();return e.value||(e.value=Ae(yr,Fe)),Pe({pinch:n},e.value(t))}function Ir(n,t={}){yt.set("wheel",Mr);const e=P();return e.value||(e.value=Ae(wr,Fe)),Pe({wheel:n},e.value(t))}function Dr(n,t){const e=ns(t),s=z(()=>{var p;return((p=l(e))==null?void 0:p.enabled)??!0}),a=P(!1),i=P([0,0]),o=P(1),r=z({set(p){return p>10?o.value=10:p<.1?o.value=.1:o.value=p,o.value},get(){return o.value}}),u=P([0,0]),d=z(()=>{var p;return(p=Ce(n))==null?void 0:p.getBoundingClientRect()}),m=p=>(p=(p+1800)/1800,p<=0?.01:p),g=({wheeling:p,dragging:v,pinching:w,intentional:x,enabled:I,touches:b,ctrlKey:D,event:T})=>{const S=!I||!x?!1:v&&(b===2||"pointerType"in T&&T.pointerType==="mouse")||w||p&&!D;return a.value?requestAnimationFrame(()=>a.value=S):a.value=S,S};return kr(({wheeling:p,dragging:v,pinching:w,touches:x,intentional:I,delta:b,ctrlKey:D,event:T})=>{g({wheeling:p,dragging:v,pinching:w,intentional:I,enabled:s.value,ctrlKey:D,touches:x,event:T})&&(i.value[0]+=b[0],i.value[1]+=b[1])},{domTarget:n,filterTaps:!0}),Ir(({event:p,delta:v,wheeling:w,dragging:x,pinching:I,touches:b,intentional:D,ctrlKey:T})=>{g({dragging:x,pinching:I,wheeling:w,intentional:D,enabled:s.value,touches:b,ctrlKey:T,event:p})&&(p.preventDefault(),i.value[0]+=v[0],i.value[1]+=v[1])},{domTarget:n,eventOptions:{passive:!1}}),Er(({offset:[p],origin:v,pinching:w,dragging:x,wheeling:I,ctrlKey:b,touches:D,intentional:T,event:S})=>{if(!g({dragging:x,pinching:w,wheeling:I,intentional:T,enabled:s.value,touches:D,ctrlKey:b,event:S}))return;const U=r.value;r.value=m(p),d.value&&(v[0]-=d.value.x,v[1]-=d.value.y,i.value[0]-=(v[0]-d.value.width/2)*(r.value-U),i.value[1]-=(v[1]-d.value.height/2)*(r.value-U)),i.value[0]-=v[0]-u.value[0],i.value[1]-=v[1]-u.value[1],u.value=v},{domTarget:n,eventOptions:{passive:!1},distanceBounds:()=>({min:-1800,max:16200})}),{offset:z(()=>[i.value[0]+u.value[0],i.value[1]+u.value[1]]),zoom:r,transformOrigin:u,active:a}}const Rn=Pt(()=>Dr(be())),Pn=Pt(()=>{const n=P(""),t=P(0),e=P(0);return{src:n,width:t,height:e,processFiles:a=>{if(!((a==null?void 0:a[0])instanceof File))return;const i=new FileReader;i.addEventListener("load",o=>{var r;if((r=o.target)!=null&&r.result){const u=new Image;u.onload=()=>{n.value=u.src,t.value=u.width,e.value=u.height},u.src=o.target.result.toString()}}),i.readAsDataURL(a[0])}}}),Ar={class:"d-none md-d-inline-block"},Fr={class:"d-none md-d-inline-block"},zr={key:0},Rr=tt({__name:"BoardControls",props:{info:{type:Array,required:!0}},setup(n){const{t}=zt(),{lines:e}=ve(),s=Ee(e),{zoom:a,transformOrigin:i}=Rn(),o=_e(),r=be(),u=z(()=>{const h=Ce(r);return h?h.viewBox.baseVal:{x:0,y:0,width:0,height:0}});function d(){i.value=[(u.value.width/2-(u.value.x+u.value.width/2)/2)*a.value,(u.value.height/2-(u.value.y+u.value.height/2)/2)*a.value]}function m(){d(),a.value+=.1}function g(){d(),a.value-=.1}const{toggle:p,isFullscreen:v,isSupported:w}=ss(o),{undo:x,redo:I,canUndo:b,canRedo:D}=ve(),T=z(()=>`${t("board.nav.undo")} [ctrl + z][⌘ + z]`),S=z(()=>`${t("board.nav.redo")} [ctrl + shift + z][⌘ + shift + z]`),U=P();j(s,h=>h===void 0?U.value=void 0:U.value=h>90?180-h:h);const O=z(()=>U.value?180-U.value:void 0),{processFiles:lt}=Pn(),{files:nt,open:G}=as({multiple:!1,accept:"image/*"});return os(nt,h=>{lt(Array.from(h))}),dn("f",p),(h,f)=>{const _=Zo,R=Fo,F=Rt,B=Fa;return $(),M("div",{class:C([h.$style.bar,"pointer-none"])},[c("div",{class:C(["pointer-all bg-bg-transparent-inverse text-inverse whitespace-nowrap",h.$style["info-box"]]),onMousemoveCapture:f[0]||(f[0]=Y(()=>{},["prevent","stop"]))},[A(_,{value:l(U)},{default:H(()=>[A(l(Di))]),_:1},8,["value"]),A(_,{value:l(O)},{default:H(()=>[A(l(ji))]),_:1},8,["value"])],34),($(!0),M(rt,null,Lt(n.info,L=>($(),M("li",{key:L,class:C(["bg-bg-transparent-inverse text-inverse min-w-0",h.$style["info-box"]])},[c("small",null,N(L),1)],2))),128)),c("nav",{class:C(h.$style.nav)},[c("ul",{class:C(["pointer-all",h.$style.nav__btns])},[A(R),c("li",null,[A(F,{disabled:!l(b),tooltip:l(T),"tooltip-placement":"left",onClick:l(x),onTouchstartCapture:Y(l(x),["prevent","stop"])},{default:H(()=>[A(l(Pi))]),_:1},8,["disabled","tooltip","onClick","onTouchstartCapture"])]),c("li",null,[A(F,{disabled:!l(D),tooltip:l(S),"tooltip-placement":"left",onClick:l(I),onTouchstartCapture:Y(l(I),["prevent","stop"])},{default:H(()=>[A(l(Gi))]),_:1},8,["disabled","tooltip","onClick","onTouchstartCapture"])]),A(B,{disabled:l(b)},null,8,["disabled"]),c("li",null,[A(F,{tooltip:l(t)("board.nav.upload_file"),"tooltip-placement":"left",onClick:f[1]||(f[1]=L=>l(G)()),onTouchstartCapture:f[2]||(f[2]=Y(()=>{},["stop"]))},{default:H(()=>[A(l($i))]),_:1},8,["tooltip"])]),c("li",Ar,[A(F,{disabled:!l(b),tooltip:`${l(t)("board.result.zoom_out")} [-]`,"tooltip-placement":"left",onClick:f[3]||(f[3]=L=>g()),onTouchstartCapture:f[4]||(f[4]=Y(L=>g(),["prevent","stop"]))},{default:H(()=>[A(l(_i))]),_:1},8,["disabled","tooltip"])]),c("li",Fr,[A(F,{disabled:!l(b),tooltip:`${l(t)("board.result.zoom_in")} [+]`,"tooltip-placement":"left",onClick:f[5]||(f[5]=L=>m()),onTouchstartCapture:f[6]||(f[6]=Y(L=>m(),["prevent","stop"]))},{default:H(()=>[A(l(fi))]),_:1},8,["disabled","tooltip"])]),l(w)?($(),M("li",zr,[A(F,{tooltip:`${l(t)("board.nav.toggle_fullscreen")} [f]`,"tooltip-placement":"left",onClick:l(p),onTouchstartCapture:Y(l(p),["prevent","stop"])},{default:H(()=>[l(v)?($(),J(l(ri),{key:0})):($(),J(l(ni),{key:1}))]),_:1},8,["tooltip","onClick","onTouchstartCapture"])])):it("v-if",!0)],2)],2)],2)}}}),Pr="_bar_1qxa4_1",Or="_nav__btns_1qxa4_7",Br={bar:Pr,nav__btns:Or,"info-box":"_info-box_1qxa4_18"},Nr={$style:Br},Lr=et(Rr,[["__cssModules",Nr],["__file","/home/runner/work/fast-angle/fast-angle/packages/web/src/components/BoardControls.vue"]]),Gr=["x1","y1","x2","y2"],Ur=tt({__name:"Segment",props:{pointStart:{type:Array,default:void 0},pointStop:{type:Array,default:void 0}},setup(n){return(t,e)=>n.pointStart&&n.pointStop?($(),M("line",{key:0,x1:n.pointStart[0],y1:n.pointStart[1],x2:n.pointStop[0],y2:n.pointStop[1]},null,8,Gr)):it("v-if",!0)}}),Hr=et(Ur,[["__file","/home/runner/work/fast-angle/fast-angle/packages/web/src/components/Segment.vue"]]),Vr=is((n,t,e,s)=>{if(!n||!t||!e||!s)return;n===e&&(n+=.1);const a=(t-s)/(n-e),i=s-e*a;return{slope:a,intercept:i}});function Zt(n){return z(()=>Vr(...n.value[0]||[],...n.value[1]||[]))}var E=globalThis&&globalThis.__classPrivateFieldSet||function(n,t,e){if(!t.has(n))throw new TypeError("attempted to set private field on non-instance");return t.set(n,e),e},y=globalThis&&globalThis.__classPrivateFieldGet||function(n,t){if(!t.has(n))throw new TypeError("attempted to get private field on non-instance");return t.get(n)},kt,It,ot,Bt,Wt,ut,ct,dt,ht,ft,vt,pt,mt,Dt,Nt,St,le,$t;const Wr=function(n){var t=131,e=137,s=0;n+="x";var a=Math.floor(9007199254740991/e);for(let i=0;i<n.length;i++)s>a&&(s=Math.floor(s/e)),s=s*t+n.charCodeAt(i);return s},k="0123456789abcdef".split(""),Kr=[-2147483648,8388608,32768,128],at=[24,16,8,0],oe=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],W=[];class jr{constructor(t=!1,e=!1){kt.set(this,void 0),It.set(this,void 0),ot.set(this,void 0),Bt.set(this,void 0),Wt.set(this,void 0),ut.set(this,void 0),ct.set(this,void 0),dt.set(this,void 0),ht.set(this,void 0),ft.set(this,void 0),vt.set(this,void 0),pt.set(this,void 0),mt.set(this,void 0),Dt.set(this,void 0),Nt.set(this,void 0),St.set(this,void 0),le.set(this,0),$t.set(this,void 0),this.init(t,e)}init(t,e){e?(W[0]=W[16]=W[1]=W[2]=W[3]=W[4]=W[5]=W[6]=W[7]=W[8]=W[9]=W[10]=W[11]=W[12]=W[13]=W[14]=W[15]=0,E(this,It,W)):E(this,It,[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),t?(E(this,ut,3238371032),E(this,ct,914150663),E(this,dt,812702999),E(this,ht,4144912697),E(this,ft,4290775857),E(this,vt,1750603025),E(this,pt,1694076839),E(this,mt,3204075428)):(E(this,ut,1779033703),E(this,ct,3144134277),E(this,dt,1013904242),E(this,ht,2773480762),E(this,ft,1359893119),E(this,vt,2600822924),E(this,pt,528734635),E(this,mt,1541459225)),E(this,kt,E(this,$t,E(this,ot,E(this,Nt,0)))),E(this,Bt,E(this,Dt,!1)),E(this,Wt,!0),E(this,St,t)}update(t){if(y(this,Bt))return this;let e;t instanceof ArrayBuffer?e=new Uint8Array(t):e=t;let s=0;const a=e.length,i=y(this,It);for(;s<a;){let o;if(y(this,Dt)&&(E(this,Dt,!1),i[0]=y(this,kt),i[16]=i[1]=i[2]=i[3]=i[4]=i[5]=i[6]=i[7]=i[8]=i[9]=i[10]=i[11]=i[12]=i[13]=i[14]=i[15]=0),typeof e!="string")for(o=y(this,$t);s<a&&o<64;++s)i[o>>2]|=e[s]<<at[o++&3];else for(o=y(this,$t);s<a&&o<64;++s){let r=e.charCodeAt(s);r<128?i[o>>2]|=r<<at[o++&3]:r<2048?(i[o>>2]|=(192|r>>6)<<at[o++&3],i[o>>2]|=(128|r&63)<<at[o++&3]):r<55296||r>=57344?(i[o>>2]|=(224|r>>12)<<at[o++&3],i[o>>2]|=(128|r>>6&63)<<at[o++&3],i[o>>2]|=(128|r&63)<<at[o++&3]):(r=65536+((r&1023)<<10|e.charCodeAt(++s)&1023),i[o>>2]|=(240|r>>18)<<at[o++&3],i[o>>2]|=(128|r>>12&63)<<at[o++&3],i[o>>2]|=(128|r>>6&63)<<at[o++&3],i[o>>2]|=(128|r&63)<<at[o++&3])}E(this,le,o),E(this,ot,y(this,ot)+(o-y(this,$t))),o>=64?(E(this,kt,i[16]),E(this,$t,o-64),this.hash(),E(this,Dt,!0)):E(this,$t,o)}return y(this,ot)>4294967295&&(E(this,Nt,y(this,Nt)+(y(this,ot)/4294967296<<0)),E(this,ot,y(this,ot)%4294967296)),this}finalize(){if(y(this,Bt))return;E(this,Bt,!0);const t=y(this,It),e=y(this,le);t[16]=y(this,kt),t[e>>2]|=Kr[e&3],E(this,kt,t[16]),e>=56&&(y(this,Dt)||this.hash(),t[0]=y(this,kt),t[16]=t[1]=t[2]=t[3]=t[4]=t[5]=t[6]=t[7]=t[8]=t[9]=t[10]=t[11]=t[12]=t[13]=t[14]=t[15]=0),t[14]=y(this,Nt)<<3|y(this,ot)>>>29,t[15]=y(this,ot)<<3,this.hash()}hash(){let t=y(this,ut),e=y(this,ct),s=y(this,dt),a=y(this,ht),i=y(this,ft),o=y(this,vt),r=y(this,pt),u=y(this,mt);const d=y(this,It);let m,g,p,v,w,x,I,b,D,T;for(let S=16;S<64;++S)v=d[S-15],m=(v>>>7|v<<25)^(v>>>18|v<<14)^v>>>3,v=d[S-2],g=(v>>>17|v<<15)^(v>>>19|v<<13)^v>>>10,d[S]=d[S-16]+m+d[S-7]+g<<0;T=e&s;for(let S=0;S<64;S+=4)y(this,Wt)?(y(this,St)?(I=300032,v=d[0]-1413257819,u=v-150054599<<0,a=v+24177077<<0):(I=704751109,v=d[0]-210244248,u=v-1521486534<<0,a=v+143694565<<0),E(this,Wt,!1)):(m=(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10),g=(i>>>6|i<<26)^(i>>>11|i<<21)^(i>>>25|i<<7),I=t&e,p=I^t&s^T,x=i&o^~i&r,v=u+g+x+oe[S]+d[S],w=m+p,u=a+v<<0,a=v+w<<0),m=(a>>>2|a<<30)^(a>>>13|a<<19)^(a>>>22|a<<10),g=(u>>>6|u<<26)^(u>>>11|u<<21)^(u>>>25|u<<7),b=a&t,p=b^a&e^I,x=u&i^~u&o,v=r+g+x+oe[S+1]+d[S+1],w=m+p,r=s+v<<0,s=v+w<<0,m=(s>>>2|s<<30)^(s>>>13|s<<19)^(s>>>22|s<<10),g=(r>>>6|r<<26)^(r>>>11|r<<21)^(r>>>25|r<<7),D=s&a,p=D^s&t^b,x=r&u^~r&i,v=o+g+x+oe[S+2]+d[S+2],w=m+p,o=e+v<<0,e=v+w<<0,m=(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10),g=(o>>>6|o<<26)^(o>>>11|o<<21)^(o>>>25|o<<7),T=e&s,p=T^e&a^D,x=o&r^~o&u,v=i+g+x+oe[S+3]+d[S+3],w=m+p,i=t+v<<0,t=v+w<<0;E(this,ut,y(this,ut)+t<<0),E(this,ct,y(this,ct)+e<<0),E(this,dt,y(this,dt)+s<<0),E(this,ht,y(this,ht)+a<<0),E(this,ft,y(this,ft)+i<<0),E(this,vt,y(this,vt)+o<<0),E(this,pt,y(this,pt)+r<<0),E(this,mt,y(this,mt)+u<<0)}hex(){this.finalize();const t=y(this,ut),e=y(this,ct),s=y(this,dt),a=y(this,ht),i=y(this,ft),o=y(this,vt),r=y(this,pt),u=y(this,mt);let d=k[t>>28&15]+k[t>>24&15]+k[t>>20&15]+k[t>>16&15]+k[t>>12&15]+k[t>>8&15]+k[t>>4&15]+k[t&15]+k[e>>28&15]+k[e>>24&15]+k[e>>20&15]+k[e>>16&15]+k[e>>12&15]+k[e>>8&15]+k[e>>4&15]+k[e&15]+k[s>>28&15]+k[s>>24&15]+k[s>>20&15]+k[s>>16&15]+k[s>>12&15]+k[s>>8&15]+k[s>>4&15]+k[s&15]+k[a>>28&15]+k[a>>24&15]+k[a>>20&15]+k[a>>16&15]+k[a>>12&15]+k[a>>8&15]+k[a>>4&15]+k[a&15]+k[i>>28&15]+k[i>>24&15]+k[i>>20&15]+k[i>>16&15]+k[i>>12&15]+k[i>>8&15]+k[i>>4&15]+k[i&15]+k[o>>28&15]+k[o>>24&15]+k[o>>20&15]+k[o>>16&15]+k[o>>12&15]+k[o>>8&15]+k[o>>4&15]+k[o&15]+k[r>>28&15]+k[r>>24&15]+k[r>>20&15]+k[r>>16&15]+k[r>>12&15]+k[r>>8&15]+k[r>>4&15]+k[r&15];return y(this,St)||(d+=k[u>>28&15]+k[u>>24&15]+k[u>>20&15]+k[u>>16&15]+k[u>>12&15]+k[u>>8&15]+k[u>>4&15]+k[u&15]),d}toString(){return this.hex()}digest(){this.finalize();const t=y(this,ut),e=y(this,ct),s=y(this,dt),a=y(this,ht),i=y(this,ft),o=y(this,vt),r=y(this,pt),u=y(this,mt),d=[t>>24&255,t>>16&255,t>>8&255,t&255,e>>24&255,e>>16&255,e>>8&255,e&255,s>>24&255,s>>16&255,s>>8&255,s&255,a>>24&255,a>>16&255,a>>8&255,a&255,i>>24&255,i>>16&255,i>>8&255,i&255,o>>24&255,o>>16&255,o>>8&255,o&255,r>>24&255,r>>16&255,r>>8&255,r&255];return y(this,St)||d.push(u>>24&255,u>>16&255,u>>8&255,u&255),d}array(){return this.digest()}arrayBuffer(){this.finalize();const t=new ArrayBuffer(y(this,St)?28:32),e=new DataView(t);return e.setUint32(0,y(this,ut)),e.setUint32(4,y(this,ct)),e.setUint32(8,y(this,dt)),e.setUint32(12,y(this,ht)),e.setUint32(16,y(this,ft)),e.setUint32(20,y(this,vt)),e.setUint32(24,y(this,pt)),y(this,St)||e.setUint32(28,y(this,mt)),t}}kt=new WeakMap,It=new WeakMap,ot=new WeakMap,Bt=new WeakMap,Wt=new WeakMap,ut=new WeakMap,ct=new WeakMap,dt=new WeakMap,ht=new WeakMap,ft=new WeakMap,vt=new WeakMap,pt=new WeakMap,mt=new WeakMap,Dt=new WeakMap,Nt=new WeakMap,St=new WeakMap,le=new WeakMap,$t=new WeakMap;function qr(n){const t=new jr;return t.update(n),parseInt(t.hex().substring(0,8),16)}const Yr=function(n){var t="#";return n.forEach(function(e){e<16&&(t+=0),t+=e.toString(16)}),t},Xr=function(n,t,e){n/=360;var s=e<.5?e*(1+t):e+t-e*t,a=2*e-s;return[n+1/3,n,n-1/3].map(function(i){return i<0&&i++,i>1&&i--,i<1/6?i=a+(s-a)*6*i:i<.5?i=s:i<2/3?i=a+(s-a)*6*(2/3-i):i=a,Math.round(i*255)})};class Zr{constructor(t={}){const[e,s]=[t.lightness,t.saturation].map(function(a){return a=a!==void 0?a:[.35,.5,.65],Array.isArray(a)?a.concat():[a]});this.L=e,this.S=s,typeof t.hue=="number"&&(t.hue={min:t.hue,max:t.hue}),typeof t.hue=="object"&&!Array.isArray(t.hue)&&(t.hue=[t.hue]),typeof t.hue>"u"&&(t.hue=[]),this.hueRanges=t.hue.map(function(a){return{min:typeof a.min>"u"?0:a.min,max:typeof a.max>"u"?360:a.max}}),this.hash=qr,typeof t.hash=="function"&&(this.hash=t.hash),t.hash==="bkdr"&&(this.hash=Wr)}hsl(t){var e,s,a,i=this.hash(t),o=727;if(this.hueRanges.length){const r=this.hueRanges[i%this.hueRanges.length];e=i/this.hueRanges.length%o*(r.max-r.min)/o+r.min}else e=i%359;return i=Math.ceil(i/360),s=this.S[i%this.S.length],i=Math.ceil(i/this.S.length),a=this.L[i%this.L.length],[e,s,a]}rgb(t){var e=this.hsl(t);return Xr.apply(this,e)}hex(t){var e=this.rgb(t);return Yr(e)}}const Jr=Array.from({length:550},(n,t)=>(t+401)/1e3),Qr=Array.from({length:551},(n,t)=>(t+50)/1e3);function $e(n){return z(()=>{const t=JSON.stringify(n.value),e=we.value?Jr:Qr,[s,a,i]=new Zr({lightness:e}).hsl(t);return`hsl(${[s,`${we.value&&i<.3||!we.value&&i>.7?Math.min(a+.4,1)*100:a*100}%`,`${i*100}%`].join(",")})`})}const tl=tt({__name:"Line",props:{points:{type:Array,default:()=>[]},pathWidth:{type:Number,default:1},svgSize:{type:Object,default:void 0},svgOffset:{type:Object,default:void 0}},setup(n){const t=n,e=Zt(Ge(t,"points")),s=$e(Ge(t,"points")),a=z(()=>{var p,v,w,x;const{svgSize:o,svgOffset:r}=t;if(!o||!r||!e.value||((p=t.points[0])==null?void 0:p[0])===((v=t.points[1])==null?void 0:v[0])&&((w=t.points[0])==null?void 0:w[1])===((x=t.points[1])==null?void 0:x[1]))return;const{slope:u,intercept:d}=e.value,m=r.x,g=o.width+r.x;return[[m,u*m+d],[g,u*g+d]]}),i=z(()=>`${t.pathWidth} ${2*t.pathWidth}`);return(o,r)=>{const u=Hr;return $(),M(rt,null,[a.value?($(),M(rt,{key:0},[A(u,At(o.$attrs,{"stroke-width":n.pathWidth*.8,stroke:"var(--background-color-transparent)","point-start":a.value[0],"point-stop":a.value[1],"stroke-dasharray":i.value,"stroke-linecap":"round",opacity:".2"}),null,16,["stroke-width","point-start","point-stop","stroke-dasharray"]),A(u,At({"stroke-width":n.pathWidth*.4,stroke:l(s)},o.$attrs,{"point-start":a.value[0],"point-stop":a.value[1],"stroke-dasharray":i.value,"stroke-linecap":"round"}),null,16,["stroke-width","stroke","point-start","point-stop","stroke-dasharray"])],64)):it("v-if",!0),A(u,At(o.$attrs,{"stroke-width":n.pathWidth*1.2,stroke:"var(--background-color-transparent)","point-start":n.points[0],"point-stop":n.points[1],"stroke-linecap":"round",opacity:".3"}),null,16,["stroke-width","point-start","point-stop"]),A(u,At({stroke:l(s)},o.$attrs,{"stroke-linecap":"round","point-start":n.points[0],"point-stop":n.points[1]}),null,16,["stroke","point-start","point-stop"])],64)}}}),On=et(tl,[["__file","/home/runner/work/fast-angle/fast-angle/packages/web/src/components/Line.vue"]]),el={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},nl=c("path",{fill:"currentColor",d:"M24 19h-3v-3h-2v3h-3v2h3v3h2v-3h3v-2z"},null,-1),sl=c("path",{fill:"currentColor",d:"m31 29.586l-4.689-4.688a8.028 8.028 0 1 0-1.414 1.414L29.586 31zM20 26a6 6 0 1 1 6-6a6.007 6.007 0 0 1-6 6zM4 8H2V4a2.002 2.002 0 0 1 2-2h4v2H4zm22 0h-2V4h-4V2h4a2.002 2.002 0 0 1 2 2zM12 2h4v2h-4zM8 26H4a2.002 2.002 0 0 1-2-2v-4h2v4h4zM2 12h2v4H2z"},null,-1),al=[nl,sl];function ol(n,t){return $(),M("svg",el,al)}const il={name:"carbon-zoom-in-area",render:ol},rl={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},ll=c("path",{fill:"currentColor",d:"M16 19h8v2h-8z"},null,-1),ul=c("path",{fill:"currentColor",d:"m31 29.586l-4.689-4.688a8.028 8.028 0 1 0-1.414 1.414L29.586 31zM20 26a6 6 0 1 1 6-6a6.007 6.007 0 0 1-6 6zM4 8H2V4a2.002 2.002 0 0 1 2-2h4v2H4zm22 0h-2V4h-4V2h4a2.002 2.002 0 0 1 2 2zM12 2h4v2h-4zM8 26H4a2.002 2.002 0 0 1-2-2v-4h2v4h4zM2 12h2v4H2z"},null,-1),cl=[ll,ul];function dl(n,t){return $(),M("svg",rl,cl)}const hl={name:"carbon-zoom-out-area",render:dl};var gt=(n=>(n[n.UP=0]="UP",n[n.DOWN=1]="DOWN",n[n.LEFT=2]="LEFT",n[n.RIGHT=3]="RIGHT",n))(gt||{});const Bn=Pt(()=>{const n=P(!1);return{outOfBoundLabels:n,setOutBoundLabels(t,e,s){const a={x:30,y:4.5},i=t.find(({x:u,y:d})=>(u-=s.x,d-=s.y,u<a.x||u>e.width-a.x||d<a.y+3||d>e.height-a.y));if(!i)return n.value=!1;let{x:o,y:r}=i;return o-=s.x,r-=s.y,o<a.x?n.value={direction:2,y:r}:o>e.width-a.x?n.value={direction:3,y:r}:r<a.y+3?n.value={direction:0,x:o}:n.value={direction:1,x:o}}}});function Nn(n,t){return z(()=>{if(!n.value||!t.value)return;const{slope:e,intercept:s}=n.value,{slope:a,intercept:i}=t.value;let o;return e===a?o=i-s:o=(s-i)/(a-e),{x:o,y:e*o+s}})}function Ln(n,t,e,s){return z(()=>{if(!t.value||!e.value||!s.value||!n.value)return;const a=e.value,i=s.value;let o=Math.tan((Math.atan(a.slope)+Math.atan(i.slope))/2),r=-1/o,u=a.slope*t.value.x+a.intercept-o*t.value.x,d=a.slope*t.value.x+a.intercept-r*t.value.x;const m=yn([[[0,a.intercept],[t.value.x,a.slope*t.value.x+a.intercept]],[[0,u],[t.value.x,o*t.value.x+u]]])*2;return(m-1>n.value||m+1<n.value)&&([o,u,r,d]=[r,d,o,u]),{acute:{slope:o,intercept:u},obtuse:{slope:r,intercept:d}}})}function Gn(n,t,e){const s=P([]);return rs([t,e,n],()=>{if(!t.value||!e.value||!n.value)return s.value=[];const{acute:{slope:a,intercept:i},obtuse:{slope:o,intercept:r}}=e.value,u=70,d=n.value,m=Math.cos(Math.atan(a))*(u+(90-d)*.4)+t.value.x,g=180-d,p=-Math.cos(Math.atan(o))*(u+(90-g)*.4)+t.value.x;s.value=[{x:m,y:a*m+i,value:d},{x:p,y:o*p+r,value:g}]},{throttle:20,immediate:!0}),s}function un(n,t){return z(()=>{if(!t.value||!n.value)return;const{slope:e,intercept:s}=n.value,{x1:a,x2:i}=t.value;return[[a,e*a+s],[i,e*i+s]]})}const fl=["viewBox"],vl=["transform"],pl=["x","y"],ml=tt({__name:"BoardResult",setup(n){const{t}=zt(),e=P(!1);function s(){e.value&&(e.value=!1)}const a=P();ls(a,s),dn("Escape",s);const{height:i,width:o}=Te(_e()),r=z(()=>({width:300,height:300*i.value/o.value})),{outOfBoundLabels:u}=Bn(),d=z(()=>{const f=e.value?260:50;return{width:f,height:f}}),m=z(()=>({minY:d.value.height,maxY:i.value-d.value.height,minX:d.value.width,maxX:o.value-d.value.width})),g=z(()=>{const{minX:f,maxX:_,minY:R,maxY:F}=m.value,B=st=>st>F?F:st<R?R:st,L=st=>st>_?_:st<f?f:st;if(!u.value)return;const K={height:`${d.value.height}px`,width:`${d.value.width}px`};switch(u.value.direction){case gt.DOWN:return{...K,bottom:"1rem",left:`${L(u.value.x)}px`,transform:"translateX(-50%)"};case gt.UP:return{...K,top:"1rem",left:`${L(u.value.x)}px`,transform:"translateX(-50%)"};case gt.LEFT:return{...K,top:`${B(u.value.y)}px`,left:"1rem",transform:"translateY(-50%)"};case gt.RIGHT:return{...K,top:`${B(u.value.y)}px`,right:"1rem",transform:"translateY(-50%)"}}}),{lines:p}=ve(),v=Ee(p),w=z(()=>p.value[0]||[]),x=z(()=>p.value[1]||[]),I=Zt(w),b=Zt(x),D=Nn(I,b),T=Ln(v,D,I,b),S=Gn(v,D,T),U=z(()=>D.value&&{x1:D.value.x-r.value.width,x2:D.value.x+r.value.width}),O=un(I,U),lt=un(b,U),nt=$e(w),G=$e(x),h={[gt.UP]:"bottom",[gt.DOWN]:void 0,[gt.LEFT]:"right",[gt.RIGHT]:"left"};return(f,_)=>{const R=Rt,F=On;return l(I)&&l(b)&&l(D)&&l(u)?($(),M("section",{key:0,ref_key:"el",ref:a,class:C(["bg-bg-transparent-inverse text-inverse",[f.$style.result,{[f.$style["result--open"]]:l(e)}]]),style:ie(l(g)),onMousemove:_[0]||(_[0]=Y(()=>{},["prevent","stop"])),onClick:_[1]||(_[1]=B=>e.value=!l(e))},[A(R,{class:C(f.$style.btn),tooltip:l(e)?l(t)("board.result.zoom_out"):l(t)("board.result.zoom_in"),"tooltip-placement":l(e)?"left":h[l(u).direction]},{default:H(()=>[($(),J(us(l(e)?l(hl):l(il))))]),_:1},8,["class","tooltip","tooltip-placement"]),($(),M("svg",{viewBox:`${l(r).width*.1} ${l(r).height*.1} ${l(r).width*.8} ${l(r).height*.8}`,class:C(f.$style.svg)},[c("g",{transform:`translate(${-l(D).x+l(r).width*.5} ${-l(D).y+l(r).height*.5})`},[l(O)?($(),J(F,At({key:0,"stroke-width":"4","stroke-linecap":"round"},f.$attrs,{stroke:l(nt),"path-width":4,points:l(O),"stroke-dasharray":"5 10",filter:"saturate(2.5)"}),null,16,["stroke","points"])):it("v-if",!0),l(lt)?($(),J(F,At({key:1,"stroke-width":"4","stroke-linecap":"round"},f.$attrs,{stroke:l(G),"path-width":4,points:l(lt),"stroke-dasharray":"5 10",filter:"saturate(2.5)"}),null,16,["stroke","points"])):it("v-if",!0),($(!0),M(rt,null,Lt(l(S),B=>($(),M("text",{key:`${B.x}|${B.y}`,x:B.x,y:B.y,"text-anchor":"middle","dominant-baseline":"middle",stroke:"transparent"},N(B.value.toFixed(3))+"°",9,pl))),128))],8,vl)],10,fl))],38)):it("v-if",!0)}}}),gl="_result_187z3_1",bl="_svg_187z3_10",_l="_btn_187z3_13",yl={result:gl,"result--open":"_result--open_187z3_10",svg:bl,btn:_l},wl={$style:yl},xl=et(ml,[["__cssModules",wl],["__file","/home/runner/work/fast-angle/fast-angle/packages/web/src/components/BoardResult.vue"]]),kl=["viewBox","stroke-width","onTouchend","onMouseup"],Sl=["cx","cy","r"],$l=["x","y","stroke-width"],Cl=["x","y"],Tl=tt({__name:"BoardSvg",props:{width:{type:Number,default:0},height:{type:Number,default:0}},emits:["pressed"],setup(n,{emit:t}){const e=n,s=t,{width:a,height:i}=cn(e),o=be(),r=P(!1),{ctrl:u,meta:d,option:m}=Me(),g=z(()=>{if(d.value)return"move"}),{offset:p,active:v,zoom:w,transformOrigin:x}=Rn(),I=z(()=>5/w.value),b=z(()=>({width:a.value/w.value,height:i.value/w.value})),D=z(()=>({x:-p.value[0]/w.value,y:-p.value[1]/w.value})),{elementX:T,elementY:S}=cs(o,{handleOutside:!1}),U=z(()=>(T.value-p.value[0])/w.value),O=z(()=>(S.value-p.value[1])/w.value),{undo:lt,redo:nt}=ue(T),{undo:G,redo:h}=ue(S),{lines:f,predictNextPoint:_,drawNextPoint:R,step:F,registerOnRedo:B,registerOnUndo:L}=ve();B(()=>{nt(),h()}),L(()=>{lt(),G()}),j([U,O],([Mt,Q])=>{F.value===2&&_(Mt,Q)});const K=Ee(f),st=z(()=>f.value[0]||[]),Tt=z(()=>f.value[1]||[]),te=Zt(st),ee=Zt(Tt),Ot=Nn(te,ee),Gt=Ln(K,Ot,te,ee),Oe=Gn(K,Ot,Gt),{setOutBoundLabels:Un}=Bn();j([Oe,b,D],([Mt,Q,Et])=>Un(Mt,Q,Et)),j([a,i],([Mt,Q],[Et,X])=>{x.value=[x.value[0]+(Mt-Et)/2,x.value[1]+(Q-X)/2]});function Be(){v.value||(R(U.value,O.value),s("pressed"))}return(Mt,Q)=>{const Et=On;return $(),M("svg",{ref_key:"svgRef",ref:o,viewBox:`${l(D).x} ${l(D).y} ${l(b).width} ${l(b).height}`,"stroke-width":l(I),tabindex:"0",style:ie({cursor:l(g)}),onTouchend:Y(Be,["prevent"]),onMouseup:Y(Be,["left","prevent"]),onMousedownOnce:Q[0]||(Q[0]=Y(X=>r.value=!0,["left"])),onMousemovePassiveOnce:Q[1]||(Q[1]=X=>r.value=!0),onTouchstartPassiveOnce:Q[2]||(Q[2]=X=>r.value=!0)},[Kt(Mt.$slots,"default"),l(F)%2?xt(($(),M("circle",{key:0,cx:`${l(U)}px`,cy:`${l(O)}px`,r:l(I),"stroke-width":1},null,8,Sl)),[[ds,l(r)&&!l(u)&&!l(d)&&!l(m)]]):($(),J(Et,{key:1,points:[l(f)[Math.floor(l(F)/2)][0],[l(U),l(O)]],"svg-size":l(b),"svg-offset":l(D),"path-width":l(I)},null,8,["points","svg-size","svg-offset","path-width"])),A(Et,{points:l(f)[0],"svg-size":l(b),"svg-offset":l(D),"path-width":l(I)},null,8,["points","svg-size","svg-offset","path-width"]),A(Et,{points:l(f)[1],"svg-size":l(b),"svg-offset":l(D),"path-width":l(I)},null,8,["points","svg-size","svg-offset","path-width"]),($(!0),M(rt,null,Lt(l(Oe),X=>($(),M(rt,{key:`${X.x}|${X.y}`},[c("text",{x:X.x,y:X.y,"text-anchor":"middle","dominant-baseline":"middle",stroke:"var(--background-color-transparent)","stroke-width":l(I),style:ie(`font-size:${l(I)/5}em`)},N(X.value.toFixed(3))+"°",13,$l),c("text",{x:X.x,y:X.y,"text-anchor":"middle","dominant-baseline":"middle",stroke:"transparent",style:ie(`font-size:${l(I)/5}em`)},N(X.value.toFixed(3))+"°",13,Cl)],64))),128))],44,kl)}}}),Ml=et(Tl,[["__file","/home/runner/work/fast-angle/fast-angle/packages/web/src/components/BoardSvg.vue"]]),El=["href","x","y","height","width"],Il=tt({__name:"Board",setup(n){const{t}=zt(),e=P(!0),s=_e(),{height:a,width:i}=Te(s),{src:o,width:r,height:u,processFiles:d}=Pn(),m=P(0),g=P(0);j(o,()=>{if(u&&r)if(r.value>i.value||u.value>a.value){const w=Math.min(i.value/r.value,a.value/u.value);m.value=u.value*w,g.value=r.value*w}else m.value=u.value,g.value=r.value});const{isOverDropZone:p}=hs(s,d),v=z(()=>p.value?[t("board.drop_file_here")]:[]);return(w,x)=>{const I=Ml,b=xl,D=Lr;return $(),M("div",{ref_key:"boardRef",ref:s,class:C(w.$style.board)},[A(I,{class:C(w.$style.board__svg),width:l(i),height:l(a),onPressed:x[0]||(x[0]=T=>e.value=!1)},{default:H(()=>[l(o)?($(),M("image",{key:0,href:l(o),x:l(g)/-2,y:l(m)/-2,height:`${l(m)}`,width:`${l(g)}`},null,8,El)):it("v-if",!0)]),_:1},8,["class","width","height"]),l(e)&&!l(o)?($(),M("div",{key:0,class:C(w.$style.board__hint)},N(l(t)("board.click_this_button_or_drop")),3)):it("v-if",!0),A(b),A(D,{class:C(w.$style.board__nav),info:l(v),"onUpdate:files":l(d)},null,8,["class","info","onUpdate:files"])],2)}}}),Dl="_board_1fu6g_1",Al="_board__svg_1fu6g_18",Fl="_board__nav_1fu6g_31",zl="_board__hint_1fu6g_37",Rl={board:Dl,board__svg:Al,board__nav:Fl,board__hint:zl},Pl={$style:Rl},Ol=et(Il,[["__cssModules",Pl],["__file","/home/runner/work/fast-angle/fast-angle/packages/web/src/components/Board.vue"]]),Bl={};function Nl(n,t){const e=Ol;return $(),J(e,{class:"flex-grow"})}const Gl=et(Bl,[["render",Nl],["__file","/home/runner/work/fast-angle/fast-angle/packages/web/src/pages/[lang]/index.vue"]]);export{Gl as default};
